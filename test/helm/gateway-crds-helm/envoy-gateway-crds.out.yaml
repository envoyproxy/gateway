---
# Source: gateway-crds-helm/templates/generated/gateway.envoyproxy.io_backends.yaml
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.17.3
  name: backends.gateway.envoyproxy.io
spec:
  group: gateway.envoyproxy.io
  names:
    categories:
    - envoy-gateway
    kind: Backend
    listKind: BackendList
    plural: backends
    shortNames:
    - be
    singular: backend
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - jsonPath: .status.conditions[?(@.type=="Accepted")].reason
      name: Status
      type: string
    - jsonPath: .metadata.creationTimestamp
      name: Age
      type: date
    name: v1alpha1
    schema:
      openAPIV3Schema:
        description: |-
          Backend allows the user to configure the endpoints of a backend and
          the behavior of the connection from Envoy Proxy to the backend.
        properties:
          apiVersion:
            description: |-
              APIVersion defines the versioned schema of this representation of an object.
              Servers should convert recognized schemas to the latest internal value, and
              may reject unrecognized values.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
            type: string
          kind:
            description: |-
              Kind is a string value representing the REST resource this object represents.
              Servers may infer this from the endpoint the client submits requests to.
              Cannot be updated.
              In CamelCase.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
            type: string
          metadata:
            type: object
          spec:
            description: Spec defines the desired state of Backend.
            properties:
              appProtocols:
                description: AppProtocols defines the application protocols to be
                  supported when connecting to the backend.
                items:
                  description: AppProtocolType defines various backend applications
                    protocols supported by Envoy Gateway
                  enum:
                  - gateway.envoyproxy.io/h2c
                  - gateway.envoyproxy.io/ws
                  - gateway.envoyproxy.io/wss
                  type: string
                type: array
              endpoints:
                description: Endpoints defines the endpoints to be used when connecting
                  to the backend.
                items:
                  description: |-
                    BackendEndpoint describes a backend endpoint, which can be either a fully-qualified domain name, IP address or unix domain socket
                    corresponding to Envoy's Address: https://www.envoyproxy.io/docs/envoy/latest/api-v3/config/core/v3/address.proto#config-core-v3-address
                  properties:
                    fqdn:
                      description: FQDN defines a FQDN endpoint
                      properties:
                        hostname:
                          description: Hostname defines the FQDN hostname of the backend
                            endpoint.
                          maxLength: 253
                          minLength: 1
                          pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                          type: string
                        port:
                          description: Port defines the port of the backend endpoint.
                          format: int32
                          maximum: 65535
                          minimum: 0
                          type: integer
                      required:
                      - hostname
                      - port
                      type: object
                    ip:
                      description: IP defines an IP endpoint. Supports both IPv4 and
                        IPv6 addresses.
                      properties:
                        address:
                          description: |-
                            Address defines the IP address of the backend endpoint.
                            Supports both IPv4 and IPv6 addresses.
                          maxLength: 45
                          minLength: 3
                          pattern: ^((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$|^(([0-9a-fA-F]{1,4}:){1,7}[0-9a-fA-F]{1,4}|::|(([0-9a-fA-F]{1,4}:){0,5})?(:[0-9a-fA-F]{1,4}){1,2})$
                          type: string
                        port:
                          description: Port defines the port of the backend endpoint.
                          format: int32
                          maximum: 65535
                          minimum: 0
                          type: integer
                      required:
                      - address
                      - port
                      type: object
                    unix:
                      description: Unix defines the unix domain socket endpoint
                      properties:
                        path:
                          description: Path defines the unix domain socket path of
                            the backend endpoint.
                          type: string
                      required:
                      - path
                      type: object
                    zone:
                      description: Zone defines the service zone of the backend endpoint.
                      type: string
                  type: object
                  x-kubernetes-validations:
                  - message: one of fqdn, ip or unix must be specified
                    rule: (has(self.fqdn) || has(self.ip) || has(self.unix))
                  - message: only one of fqdn, ip or unix can be specified
                    rule: ((has(self.fqdn) && !(has(self.ip) || has(self.unix))) ||
                      (has(self.ip) && !(has(self.fqdn) || has(self.unix))) || (has(self.unix)
                      && !(has(self.ip) || has(self.fqdn))))
                maxItems: 64
                minItems: 1
                type: array
                x-kubernetes-validations:
                - message: fqdn addresses cannot be mixed with other address types
                  rule: self.all(f, has(f.fqdn)) || !self.exists(f, has(f.fqdn))
              fallback:
                description: |-
                  Fallback indicates whether the backend is designated as a fallback.
                  It is highly recommended to configure active or passive health checks to ensure that failover can be detected
                  when the active backends become unhealthy and to automatically readjust once the primary backends are healthy again.
                  The overprovisioning factor is set to 1.4, meaning the fallback backends will only start receiving traffic when
                  the health of the active backends falls below 72%.
                type: boolean
              tls:
                description: |-
                  TLS defines the TLS settings for the backend.
                  Only supported for DynamicResolver backends.
                properties:
                  caCertificateRefs:
                    description: |-
                      CACertificateRefs contains one or more references to Kubernetes objects that
                      contain TLS certificates of the Certificate Authorities that can be used
                      as a trust anchor to validate the certificates presented by the backend.

                      A single reference to a Kubernetes ConfigMap or a Kubernetes Secret,
                      with the CA certificate in a key named `ca.crt` is currently supported.

                      If CACertificateRefs is empty or unspecified, then WellKnownCACertificates must be
                      specified. Only one of CACertificateRefs or WellKnownCACertificates may be specified,
                      not both.
                    items:
                      description: |-
                        LocalObjectReference identifies an API object within the namespace of the
                        referrer.
                        The API object must be valid in the cluster; the Group and Kind must
                        be registered in the cluster for this reference to be valid.

                        References to objects with invalid Group and Kind are not valid, and must
                        be rejected by the implementation, with appropriate Conditions set
                        on the containing object.
                      properties:
                        group:
                          description: |-
                            Group is the group of the referent. For example, "gateway.networking.k8s.io".
                            When unspecified or empty string, core API group is inferred.
                          maxLength: 253
                          pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                          type: string
                        kind:
                          description: Kind is kind of the referent. For example "HTTPRoute"
                            or "Service".
                          maxLength: 63
                          minLength: 1
                          pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                          type: string
                        name:
                          description: Name is the name of the referent.
                          maxLength: 253
                          minLength: 1
                          type: string
                      required:
                      - group
                      - kind
                      - name
                      type: object
                    maxItems: 8
                    type: array
                  wellKnownCACertificates:
                    description: |-
                      WellKnownCACertificates specifies whether system CA certificates may be used in
                      the TLS handshake between the gateway and backend pod.

                      If WellKnownCACertificates is unspecified or empty (""), then CACertificateRefs
                      must be specified with at least one entry for a valid configuration. Only one of
                      CACertificateRefs or WellKnownCACertificates may be specified, not both.
                    enum:
                    - System
                    type: string
                type: object
                x-kubernetes-validations:
                - message: must not contain both CACertificateRefs and WellKnownCACertificates
                  rule: '!(has(self.caCertificateRefs) && size(self.caCertificateRefs)
                    > 0 && has(self.wellKnownCACertificates) && self.wellKnownCACertificates
                    != "")'
                - message: must specify either CACertificateRefs or WellKnownCACertificates
                  rule: (has(self.caCertificateRefs) && size(self.caCertificateRefs)
                    > 0 || has(self.wellKnownCACertificates) && self.wellKnownCACertificates
                    != "")
              type:
                default: Endpoints
                description: Type defines the type of the backend. Defaults to "Endpoints"
                enum:
                - Endpoints
                - DynamicResolver
                type: string
            type: object
            x-kubernetes-validations:
            - message: DynamicResolver type cannot have endpoints and appProtocols
                specified
              rule: self.type != 'DynamicResolver' || !has(self.endpoints) && !has(self.appProtocols)
            - message: TLS settings can only be specified for DynamicResolver backends
              rule: 'has(self.tls) ? self.type == ''DynamicResolver'' : true'
          status:
            description: Status defines the current status of Backend.
            properties:
              conditions:
                description: Conditions describe the current conditions of the Backend.
                items:
                  description: Condition contains details for one aspect of the current
                    state of this API Resource.
                  properties:
                    lastTransitionTime:
                      description: |-
                        lastTransitionTime is the last time the condition transitioned from one status to another.
                        This should be when the underlying condition changed.  If that is not known, then using the time when the API field changed is acceptable.
                      format: date-time
                      type: string
                    message:
                      description: |-
                        message is a human readable message indicating details about the transition.
                        This may be an empty string.
                      maxLength: 32768
                      type: string
                    observedGeneration:
                      description: |-
                        observedGeneration represents the .metadata.generation that the condition was set based upon.
                        For instance, if .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration is 9, the condition is out of date
                        with respect to the current state of the instance.
                      format: int64
                      minimum: 0
                      type: integer
                    reason:
                      description: |-
                        reason contains a programmatic identifier indicating the reason for the condition's last transition.
                        Producers of specific condition types may define expected values and meanings for this field,
                        and whether the values are considered a guaranteed API.
                        The value should be a CamelCase string.
                        This field may not be empty.
                      maxLength: 1024
                      minLength: 1
                      pattern: ^[A-Za-z]([A-Za-z0-9_,:]*[A-Za-z0-9_])?$
                      type: string
                    status:
                      description: status of the condition, one of True, False, Unknown.
                      enum:
                      - "True"
                      - "False"
                      - Unknown
                      type: string
                    type:
                      description: type of condition in CamelCase or in foo.example.com/CamelCase.
                      maxLength: 316
                      pattern: ^([a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*/)?(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])$
                      type: string
                  required:
                  - lastTransitionTime
                  - message
                  - reason
                  - status
                  - type
                  type: object
                maxItems: 8
                type: array
                x-kubernetes-list-map-keys:
                - type
                x-kubernetes-list-type: map
            type: object
        required:
        - spec
        type: object
    served: true
    storage: true
    subresources:
      status: {}
---
# Source: gateway-crds-helm/templates/generated/gateway.envoyproxy.io_backendtrafficpolicies.yaml
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.17.3
  name: backendtrafficpolicies.gateway.envoyproxy.io
spec:
  group: gateway.envoyproxy.io
  names:
    categories:
    - envoy-gateway
    kind: BackendTrafficPolicy
    listKind: BackendTrafficPolicyList
    plural: backendtrafficpolicies
    shortNames:
    - btp
    singular: backendtrafficpolicy
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - jsonPath: .metadata.creationTimestamp
      name: Age
      type: date
    name: v1alpha1
    schema:
      openAPIV3Schema:
        description: |-
          BackendTrafficPolicy allows the user to configure the behavior of the connection
          between the Envoy Proxy listener and the backend service.
        properties:
          apiVersion:
            description: |-
              APIVersion defines the versioned schema of this representation of an object.
              Servers should convert recognized schemas to the latest internal value, and
              may reject unrecognized values.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
            type: string
          kind:
            description: |-
              Kind is a string value representing the REST resource this object represents.
              Servers may infer this from the endpoint the client submits requests to.
              Cannot be updated.
              In CamelCase.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
            type: string
          metadata:
            type: object
          spec:
            description: spec defines the desired state of BackendTrafficPolicy.
            properties:
              circuitBreaker:
                description: |-
                  Circuit Breaker settings for the upstream connections and requests.
                  If not set, circuit breakers will be enabled with the default thresholds
                properties:
                  maxConnections:
                    default: 1024
                    description: The maximum number of connections that Envoy will
                      establish to the referenced backend defined within a xRoute
                      rule.
                    format: int64
                    maximum: 4294967295
                    minimum: 0
                    type: integer
                  maxParallelRequests:
                    default: 1024
                    description: The maximum number of parallel requests that Envoy
                      will make to the referenced backend defined within a xRoute
                      rule.
                    format: int64
                    maximum: 4294967295
                    minimum: 0
                    type: integer
                  maxParallelRetries:
                    default: 1024
                    description: The maximum number of parallel retries that Envoy
                      will make to the referenced backend defined within a xRoute
                      rule.
                    format: int64
                    maximum: 4294967295
                    minimum: 0
                    type: integer
                  maxPendingRequests:
                    default: 1024
                    description: The maximum number of pending requests that Envoy
                      will queue to the referenced backend defined within a xRoute
                      rule.
                    format: int64
                    maximum: 4294967295
                    minimum: 0
                    type: integer
                  maxRequestsPerConnection:
                    description: |-
                      The maximum number of requests that Envoy will make over a single connection to the referenced backend defined within a xRoute rule.
                      Default: unlimited.
                    format: int64
                    maximum: 4294967295
                    minimum: 0
                    type: integer
                  perEndpoint:
                    description: PerEndpoint defines Circuit Breakers that will apply
                      per-endpoint for an upstream cluster
                    properties:
                      maxConnections:
                        default: 1024
                        description: MaxConnections configures the maximum number
                          of connections that Envoy will establish per-endpoint to
                          the referenced backend defined within a xRoute rule.
                        format: int64
                        maximum: 4294967295
                        minimum: 0
                        type: integer
                    type: object
                type: object
              compression:
                description: The compression config for the http streams.
                items:
                  description: |-
                    Compression defines the config of enabling compression.
                    This can help reduce the bandwidth at the expense of higher CPU.
                  properties:
                    brotli:
                      description: The configuration for Brotli compressor.
                      type: object
                    gzip:
                      description: The configuration for GZIP compressor.
                      type: object
                    type:
                      description: CompressorType defines the compressor type to use
                        for compression.
                      enum:
                      - Gzip
                      - Brotli
                      type: string
                  required:
                  - type
                  type: object
                type: array
              connection:
                description: Connection includes backend connection settings.
                properties:
                  bufferLimit:
                    allOf:
                    - pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                    - pattern: ^[1-9]+[0-9]*([EPTGMK]i|[EPTGMk])?$
                    anyOf:
                    - type: integer
                    - type: string
                    description: |-
                      BufferLimit Soft limit on size of the cluster’s connections read and write buffers.
                      BufferLimit applies to connection streaming (maybe non-streaming) channel between processes, it's in user space.
                      If unspecified, an implementation defined default is applied (32768 bytes).
                      For example, 20Mi, 1Gi, 256Ki etc.
                      Note: that when the suffix is not provided, the value is interpreted as bytes.
                    x-kubernetes-int-or-string: true
                  socketBufferLimit:
                    allOf:
                    - pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                    - pattern: ^[1-9]+[0-9]*([EPTGMK]i|[EPTGMk])?$
                    anyOf:
                    - type: integer
                    - type: string
                    description: |-
                      SocketBufferLimit provides configuration for the maximum buffer size in bytes for each socket
                      to backend.
                      SocketBufferLimit applies to socket streaming channel between TCP/IP stacks, it's in kernel space.
                      For example, 20Mi, 1Gi, 256Ki etc.
                      Note that when the suffix is not provided, the value is interpreted as bytes.
                    x-kubernetes-int-or-string: true
                type: object
              dns:
                description: DNS includes dns resolution settings.
                properties:
                  dnsRefreshRate:
                    description: |-
                      DNSRefreshRate specifies the rate at which DNS records should be refreshed.
                      Defaults to 30 seconds.
                    type: string
                  lookupFamily:
                    description: |-
                      LookupFamily determines how Envoy would resolve DNS for Routes where the backend is specified as a fully qualified domain name (FQDN).
                      If set, this configuration overrides other defaults.
                    enum:
                    - IPv4
                    - IPv6
                    - IPv4Preferred
                    - IPv6Preferred
                    - IPv4AndIPv6
                    type: string
                  respectDnsTtl:
                    description: |-
                      RespectDNSTTL indicates whether the DNS Time-To-Live (TTL) should be respected.
                      If the value is set to true, the DNS refresh rate will be set to the resource record’s TTL.
                      Defaults to true.
                    type: boolean
                type: object
              faultInjection:
                description: |-
                  FaultInjection defines the fault injection policy to be applied. This configuration can be used to
                  inject delays and abort requests to mimic failure scenarios such as service failures and overloads
                properties:
                  abort:
                    description: If specified, the request will be aborted if it meets
                      the configuration criteria.
                    properties:
                      grpcStatus:
                        description: GrpcStatus specifies the GRPC status code to
                          be returned
                        format: int32
                        type: integer
                      httpStatus:
                        description: StatusCode specifies the HTTP status code to
                          be returned
                        format: int32
                        maximum: 600
                        minimum: 200
                        type: integer
                      percentage:
                        default: 100
                        description: Percentage specifies the percentage of requests
                          to be aborted. Default 100%, if set 0, no requests will
                          be aborted. Accuracy to 0.0001%.
                        type: number
                    type: object
                    x-kubernetes-validations:
                    - message: httpStatus and grpcStatus cannot be simultaneously
                        defined.
                      rule: ' !(has(self.httpStatus) && has(self.grpcStatus)) '
                    - message: httpStatus and grpcStatus are set at least one.
                      rule: ' has(self.httpStatus) || has(self.grpcStatus) '
                  delay:
                    description: If specified, a delay will be injected into the request.
                    properties:
                      fixedDelay:
                        description: FixedDelay specifies the fixed delay duration
                        type: string
                      percentage:
                        default: 100
                        description: Percentage specifies the percentage of requests
                          to be delayed. Default 100%, if set 0, no requests will
                          be delayed. Accuracy to 0.0001%.
                        type: number
                    required:
                    - fixedDelay
                    type: object
                type: object
                x-kubernetes-validations:
                - message: Delay and abort faults are set at least one.
                  rule: ' has(self.delay) || has(self.abort) '
              healthCheck:
                description: HealthCheck allows gateway to perform active health checking
                  on backends.
                properties:
                  active:
                    description: Active health check configuration
                    properties:
                      grpc:
                        description: |-
                          GRPC defines the configuration of the GRPC health checker.
                          It's optional, and can only be used if the specified type is GRPC.
                        properties:
                          service:
                            description: |-
                              Service to send in the health check request.
                              If this is not specified, then the health check request applies to the entire
                              server and not to a specific service.
                            type: string
                        type: object
                      healthyThreshold:
                        default: 1
                        description: HealthyThreshold defines the number of healthy
                          health checks required before a backend host is marked healthy.
                        format: int32
                        minimum: 1
                        type: integer
                      http:
                        description: |-
                          HTTP defines the configuration of http health checker.
                          It's required while the health checker type is HTTP.
                        properties:
                          expectedResponse:
                            description: ExpectedResponse defines a list of HTTP expected
                              responses to match.
                            properties:
                              binary:
                                description: Binary payload base64 encoded.
                                format: byte
                                type: string
                              text:
                                description: Text payload in plain text.
                                type: string
                              type:
                                allOf:
                                - enum:
                                  - Text
                                  - Binary
                                - enum:
                                  - Text
                                  - Binary
                                description: Type defines the type of the payload.
                                type: string
                            required:
                            - type
                            type: object
                            x-kubernetes-validations:
                            - message: If payload type is Text, text field needs to
                                be set.
                              rule: 'self.type == ''Text'' ? has(self.text) : !has(self.text)'
                            - message: If payload type is Binary, binary field needs
                                to be set.
                              rule: 'self.type == ''Binary'' ? has(self.binary) :
                                !has(self.binary)'
                          expectedStatuses:
                            description: |-
                              ExpectedStatuses defines a list of HTTP response statuses considered healthy.
                              Defaults to 200 only
                            items:
                              description: HTTPStatus defines the http status code.
                              exclusiveMaximum: true
                              maximum: 600
                              minimum: 100
                              type: integer
                            type: array
                          method:
                            description: |-
                              Method defines the HTTP method used for health checking.
                              Defaults to GET
                            type: string
                          path:
                            description: Path defines the HTTP path that will be requested
                              during health checking.
                            maxLength: 1024
                            minLength: 1
                            type: string
                        required:
                        - path
                        type: object
                      interval:
                        default: 3s
                        description: Interval defines the time between active health
                          checks.
                        format: duration
                        type: string
                      tcp:
                        description: |-
                          TCP defines the configuration of tcp health checker.
                          It's required while the health checker type is TCP.
                        properties:
                          receive:
                            description: Receive defines the expected response payload.
                            properties:
                              binary:
                                description: Binary payload base64 encoded.
                                format: byte
                                type: string
                              text:
                                description: Text payload in plain text.
                                type: string
                              type:
                                allOf:
                                - enum:
                                  - Text
                                  - Binary
                                - enum:
                                  - Text
                                  - Binary
                                description: Type defines the type of the payload.
                                type: string
                            required:
                            - type
                            type: object
                            x-kubernetes-validations:
                            - message: If payload type is Text, text field needs to
                                be set.
                              rule: 'self.type == ''Text'' ? has(self.text) : !has(self.text)'
                            - message: If payload type is Binary, binary field needs
                                to be set.
                              rule: 'self.type == ''Binary'' ? has(self.binary) :
                                !has(self.binary)'
                          send:
                            description: Send defines the request payload.
                            properties:
                              binary:
                                description: Binary payload base64 encoded.
                                format: byte
                                type: string
                              text:
                                description: Text payload in plain text.
                                type: string
                              type:
                                allOf:
                                - enum:
                                  - Text
                                  - Binary
                                - enum:
                                  - Text
                                  - Binary
                                description: Type defines the type of the payload.
                                type: string
                            required:
                            - type
                            type: object
                            x-kubernetes-validations:
                            - message: If payload type is Text, text field needs to
                                be set.
                              rule: 'self.type == ''Text'' ? has(self.text) : !has(self.text)'
                            - message: If payload type is Binary, binary field needs
                                to be set.
                              rule: 'self.type == ''Binary'' ? has(self.binary) :
                                !has(self.binary)'
                        type: object
                      timeout:
                        default: 1s
                        description: Timeout defines the time to wait for a health
                          check response.
                        format: duration
                        type: string
                      type:
                        allOf:
                        - enum:
                          - HTTP
                          - TCP
                          - GRPC
                        - enum:
                          - HTTP
                          - TCP
                          - GRPC
                        description: Type defines the type of health checker.
                        type: string
                      unhealthyThreshold:
                        default: 3
                        description: UnhealthyThreshold defines the number of unhealthy
                          health checks required before a backend host is marked unhealthy.
                        format: int32
                        minimum: 1
                        type: integer
                    required:
                    - type
                    type: object
                    x-kubernetes-validations:
                    - message: If Health Checker type is HTTP, http field needs to
                        be set.
                      rule: 'self.type == ''HTTP'' ? has(self.http) : !has(self.http)'
                    - message: If Health Checker type is TCP, tcp field needs to be
                        set.
                      rule: 'self.type == ''TCP'' ? has(self.tcp) : !has(self.tcp)'
                    - message: The grpc field can only be set if the Health Checker
                        type is GRPC.
                      rule: 'has(self.grpc) ? self.type == ''GRPC'' : true'
                  panicThreshold:
                    description: |-
                      When number of unhealthy endpoints for a backend reaches this threshold
                      Envoy will disregard health status and balance across all endpoints.
                      It's designed to prevent a situation in which host failures cascade throughout the cluster
                      as load increases. If not set, the default value is 50%. To disable panic mode, set value to `0`.
                    format: int32
                    maximum: 100
                    minimum: 0
                    type: integer
                  passive:
                    description: Passive passive check configuration
                    properties:
                      baseEjectionTime:
                        default: 30s
                        description: BaseEjectionTime defines the base duration for
                          which a host will be ejected on consecutive failures.
                        format: duration
                        type: string
                      consecutive5XxErrors:
                        default: 5
                        description: Consecutive5xxErrors sets the number of consecutive
                          5xx errors triggering ejection.
                        format: int32
                        type: integer
                      consecutiveGatewayErrors:
                        default: 0
                        description: ConsecutiveGatewayErrors sets the number of consecutive
                          gateway errors triggering ejection.
                        format: int32
                        type: integer
                      consecutiveLocalOriginFailures:
                        default: 5
                        description: |-
                          ConsecutiveLocalOriginFailures sets the number of consecutive local origin failures triggering ejection.
                          Parameter takes effect only when split_external_local_origin_errors is set to true.
                        format: int32
                        type: integer
                      interval:
                        default: 3s
                        description: Interval defines the time between passive health
                          checks.
                        format: duration
                        type: string
                      maxEjectionPercent:
                        default: 10
                        description: MaxEjectionPercent sets the maximum percentage
                          of hosts in a cluster that can be ejected.
                        format: int32
                        type: integer
                      splitExternalLocalOriginErrors:
                        default: false
                        description: SplitExternalLocalOriginErrors enables splitting
                          of errors between external and local origin.
                        type: boolean
                    type: object
                type: object
              http2:
                description: HTTP2 provides HTTP/2 configuration for backend connections.
                properties:
                  initialConnectionWindowSize:
                    allOf:
                    - pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                    - pattern: ^[1-9]+[0-9]*([EPTGMK]i|[EPTGMk])?$
                    anyOf:
                    - type: integer
                    - type: string
                    description: |-
                      InitialConnectionWindowSize sets the initial window size for HTTP/2 connections.
                      If not set, the default value is 1 MiB.
                    x-kubernetes-int-or-string: true
                  initialStreamWindowSize:
                    allOf:
                    - pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                    - pattern: ^[1-9]+[0-9]*([EPTGMK]i|[EPTGMk])?$
                    anyOf:
                    - type: integer
                    - type: string
                    description: |-
                      InitialStreamWindowSize sets the initial window size for HTTP/2 streams.
                      If not set, the default value is 64 KiB(64*1024).
                    x-kubernetes-int-or-string: true
                  maxConcurrentStreams:
                    description: |-
                      MaxConcurrentStreams sets the maximum number of concurrent streams allowed per connection.
                      If not set, the default value is 100.
                    format: int32
                    maximum: 2147483647
                    minimum: 1
                    type: integer
                  onInvalidMessage:
                    description: |-
                      OnInvalidMessage determines if Envoy will terminate the connection or just the offending stream in the event of HTTP messaging error
                      It's recommended for L2 Envoy deployments to set this value to TerminateStream.
                      https://www.envoyproxy.io/docs/envoy/latest/configuration/best_practices/level_two
                      Default: TerminateConnection
                    type: string
                type: object
              httpUpgrade:
                description: |-
                  HTTPUpgrade defines the configuration for HTTP protocol upgrades.
                  If not specified, the default upgrade configuration(websocket) will be used.
                items:
                  properties:
                    type:
                      description: |-
                        Type is the case-insensitive type of protocol upgrade.
                        e.g. `websocket`, `CONNECT`, `spdy/3.1` etc.
                      type: string
                  required:
                  - type
                  type: object
                type: array
              loadBalancer:
                description: |-
                  LoadBalancer policy to apply when routing traffic from the gateway to
                  the backend endpoints. Defaults to `LeastRequest`.
                properties:
                  consistentHash:
                    description: |-
                      ConsistentHash defines the configuration when the load balancer type is
                      set to ConsistentHash
                    properties:
                      cookie:
                        description: Cookie configures the cookie hash policy when
                          the consistent hash type is set to Cookie.
                        properties:
                          attributes:
                            additionalProperties:
                              type: string
                            description: Additional Attributes to set for the generated
                              cookie.
                            type: object
                          name:
                            description: |-
                              Name of the cookie to hash.
                              If this cookie does not exist in the request, Envoy will generate a cookie and set
                              the TTL on the response back to the client based on Layer 4
                              attributes of the backend endpoint, to ensure that these future requests
                              go to the same backend endpoint. Make sure to set the TTL field for this case.
                            type: string
                          ttl:
                            description: |-
                              TTL of the generated cookie if the cookie is not present. This value sets the
                              Max-Age attribute value.
                            type: string
                        required:
                        - name
                        type: object
                      header:
                        description: Header configures the header hash policy when
                          the consistent hash type is set to Header.
                        properties:
                          name:
                            description: Name of the header to hash.
                            type: string
                        required:
                        - name
                        type: object
                      tableSize:
                        default: 65537
                        description: The table size for consistent hashing, must be
                          prime number limited to 5000011.
                        format: int64
                        maximum: 5000011
                        minimum: 2
                        type: integer
                      type:
                        description: |-
                          ConsistentHashType defines the type of input to hash on. Valid Type values are
                          "SourceIP",
                          "Header",
                          "Cookie".
                        enum:
                        - SourceIP
                        - Header
                        - Cookie
                        type: string
                    required:
                    - type
                    type: object
                    x-kubernetes-validations:
                    - message: If consistent hash type is header, the header field
                        must be set.
                      rule: 'self.type == ''Header'' ? has(self.header) : !has(self.header)'
                    - message: If consistent hash type is cookie, the cookie field
                        must be set.
                      rule: 'self.type == ''Cookie'' ? has(self.cookie) : !has(self.cookie)'
                  slowStart:
                    description: |-
                      SlowStart defines the configuration related to the slow start load balancer policy.
                      If set, during slow start window, traffic sent to the newly added hosts will gradually increase.
                      Currently this is only supported for RoundRobin and LeastRequest load balancers
                    properties:
                      window:
                        description: |-
                          Window defines the duration of the warm up period for newly added host.
                          During slow start window, traffic sent to the newly added hosts will gradually increase.
                          Currently only supports linear growth of traffic. For additional details,
                          see https://www.envoyproxy.io/docs/envoy/latest/api-v3/config/cluster/v3/cluster.proto#config-cluster-v3-cluster-slowstartconfig
                        type: string
                    required:
                    - window
                    type: object
                  type:
                    description: |-
                      Type decides the type of Load Balancer policy.
                      Valid LoadBalancerType values are
                      "ConsistentHash",
                      "LeastRequest",
                      "Random",
                      "RoundRobin".
                    enum:
                    - ConsistentHash
                    - LeastRequest
                    - Random
                    - RoundRobin
                    type: string
                required:
                - type
                type: object
                x-kubernetes-validations:
                - message: If LoadBalancer type is consistentHash, consistentHash
                    field needs to be set.
                  rule: 'self.type == ''ConsistentHash'' ? has(self.consistentHash)
                    : !has(self.consistentHash)'
                - message: Currently SlowStart is only supported for RoundRobin and
                    LeastRequest load balancers.
                  rule: 'self.type in [''Random'', ''ConsistentHash''] ? !has(self.slowStart)
                    : true '
              mergeType:
                description: |-
                  MergeType determines how this configuration is merged with existing BackendTrafficPolicy
                  configurations targeting a parent resource. When set, this configuration will be merged
                  into a parent BackendTrafficPolicy (i.e. the one targeting a Gateway or Listener).
                  This field cannot be set when targeting a parent resource (Gateway).
                  If unset, no merging occurs, and only the most specific configuration takes effect.
                type: string
              proxyProtocol:
                description: ProxyProtocol enables the Proxy Protocol when communicating
                  with the backend.
                properties:
                  version:
                    description: |-
                      Version of ProxyProtol
                      Valid ProxyProtocolVersion values are
                      "V1"
                      "V2"
                    enum:
                    - V1
                    - V2
                    type: string
                required:
                - version
                type: object
              rateLimit:
                description: |-
                  RateLimit allows the user to limit the number of incoming requests
                  to a predefined value based on attributes within the traffic flow.
                properties:
                  global:
                    description: Global defines global rate limit configuration.
                    properties:
                      rules:
                        description: |-
                          Rules are a list of RateLimit selectors and limits. Each rule and its
                          associated limit is applied in a mutually exclusive way. If a request
                          matches multiple rules, each of their associated limits get applied, so a
                          single request might increase the rate limit counters for multiple rules
                          if selected. The rate limit service will return a logical OR of the individual
                          rate limit decisions of all matching rules. For example, if a request
                          matches two rules, one rate limited and one not, the final decision will be
                          to rate limit the request.
                        items:
                          description: |-
                            RateLimitRule defines the semantics for matching attributes
                            from the incoming requests, and setting limits for them.
                          properties:
                            clientSelectors:
                              description: |-
                                ClientSelectors holds the list of select conditions to select
                                specific clients using attributes from the traffic flow.
                                All individual select conditions must hold True for this rule
                                and its limit to be applied.

                                If no client selectors are specified, the rule applies to all traffic of
                                the targeted Route.

                                If the policy targets a Gateway, the rule applies to each Route of the Gateway.
                                Please note that each Route has its own rate limit counters. For example,
                                if a Gateway has two Routes, and the policy has a rule with limit 10rps,
                                each Route will have its own 10rps limit.
                              items:
                                description: |-
                                  RateLimitSelectCondition specifies the attributes within the traffic flow that can
                                  be used to select a subset of clients to be ratelimited.
                                  All the individual conditions must hold True for the overall condition to hold True.
                                properties:
                                  headers:
                                    description: |-
                                      Headers is a list of request headers to match. Multiple header values are ANDed together,
                                      meaning, a request MUST match all the specified headers.
                                      At least one of headers or sourceCIDR condition must be specified.
                                    items:
                                      description: HeaderMatch defines the match attributes
                                        within the HTTP Headers of the request.
                                      properties:
                                        invert:
                                          default: false
                                          description: |-
                                            Invert specifies whether the value match result will be inverted.
                                            Do not set this field when Type="Distinct", implying matching on any/all unique
                                            values within the header.
                                          type: boolean
                                        name:
                                          description: |-
                                            Name of the HTTP header.
                                            The header name is case-insensitive unless PreserveHeaderCase is set to true.
                                            For example, "Foo" and "foo" are considered the same header.
                                          maxLength: 256
                                          minLength: 1
                                          type: string
                                        type:
                                          default: Exact
                                          description: Type specifies how to match
                                            against the value of the header.
                                          enum:
                                          - Exact
                                          - RegularExpression
                                          - Distinct
                                          type: string
                                        value:
                                          description: |-
                                            Value within the HTTP header.
                                            Do not set this field when Type="Distinct", implying matching on any/all unique
                                            values within the header.
                                          maxLength: 1024
                                          type: string
                                      required:
                                      - name
                                      type: object
                                    maxItems: 16
                                    type: array
                                  sourceCIDR:
                                    description: |-
                                      SourceCIDR is the client IP Address range to match on.
                                      At least one of headers or sourceCIDR condition must be specified.
                                    properties:
                                      type:
                                        default: Exact
                                        enum:
                                        - Exact
                                        - Distinct
                                        type: string
                                      value:
                                        description: |-
                                          Value is the IP CIDR that represents the range of Source IP Addresses of the client.
                                          These could also be the intermediate addresses through which the request has flown through and is part of the  `X-Forwarded-For` header.
                                          For example, `192.168.0.1/32`, `192.168.0.0/24`, `001:db8::/64`.
                                        maxLength: 256
                                        minLength: 1
                                        type: string
                                    required:
                                    - value
                                    type: object
                                type: object
                              maxItems: 8
                              type: array
                            cost:
                              description: |-
                                Cost specifies the cost of requests and responses for the rule.

                                This is optional and if not specified, the default behavior is to reduce the rate limit counters by 1 on
                                the request path and do not reduce the rate limit counters on the response path.
                              properties:
                                request:
                                  description: |-
                                    Request specifies the number to reduce the rate limit counters
                                    on the request path. If this is not specified, the default behavior
                                    is to reduce the rate limit counters by 1.

                                    When Envoy receives a request that matches the rule, it tries to reduce the
                                    rate limit counters by the specified number. If the counter doesn't have
                                    enough capacity, the request is rate limited.
                                  properties:
                                    from:
                                      description: From specifies where to get the
                                        rate limit cost. Currently, only "Number"
                                        and "Metadata" are supported.
                                      enum:
                                      - Number
                                      - Metadata
                                      type: string
                                    metadata:
                                      description: Metadata specifies the per-request
                                        metadata to retrieve the usage number from.
                                      properties:
                                        key:
                                          description: Key is the key to retrieve
                                            the usage number from the filter metadata.
                                          type: string
                                        namespace:
                                          description: Namespace is the namespace
                                            of the dynamic metadata.
                                          type: string
                                      required:
                                      - key
                                      - namespace
                                      type: object
                                    number:
                                      description: |-
                                        Number specifies the fixed usage number to reduce the rate limit counters.
                                        Using zero can be used to only check the rate limit counters without reducing them.
                                      format: int64
                                      type: integer
                                  required:
                                  - from
                                  type: object
                                  x-kubernetes-validations:
                                  - message: only one of number or metadata can be
                                      specified
                                    rule: '!(has(self.number) && has(self.metadata))'
                                response:
                                  description: |-
                                    Response specifies the number to reduce the rate limit counters
                                    after the response is sent back to the client or the request stream is closed.

                                    The cost is used to reduce the rate limit counters for the matching requests.
                                    Since the reduction happens after the request stream is complete, the rate limit
                                    won't be enforced for the current request, but for the subsequent matching requests.

                                    This is optional and if not specified, the rate limit counters are not reduced
                                    on the response path.

                                    Currently, this is only supported for HTTP Global Rate Limits.
                                  properties:
                                    from:
                                      description: From specifies where to get the
                                        rate limit cost. Currently, only "Number"
                                        and "Metadata" are supported.
                                      enum:
                                      - Number
                                      - Metadata
                                      type: string
                                    metadata:
                                      description: Metadata specifies the per-request
                                        metadata to retrieve the usage number from.
                                      properties:
                                        key:
                                          description: Key is the key to retrieve
                                            the usage number from the filter metadata.
                                          type: string
                                        namespace:
                                          description: Namespace is the namespace
                                            of the dynamic metadata.
                                          type: string
                                      required:
                                      - key
                                      - namespace
                                      type: object
                                    number:
                                      description: |-
                                        Number specifies the fixed usage number to reduce the rate limit counters.
                                        Using zero can be used to only check the rate limit counters without reducing them.
                                      format: int64
                                      type: integer
                                  required:
                                  - from
                                  type: object
                                  x-kubernetes-validations:
                                  - message: only one of number or metadata can be
                                      specified
                                    rule: '!(has(self.number) && has(self.metadata))'
                              type: object
                            limit:
                              description: |-
                                Limit holds the rate limit values.
                                This limit is applied for traffic flows when the selectors
                                compute to True, causing the request to be counted towards the limit.
                                The limit is enforced and the request is ratelimited, i.e. a response with
                                429 HTTP status code is sent back to the client when
                                the selected requests have reached the limit.
                              properties:
                                requests:
                                  type: integer
                                unit:
                                  description: |-
                                    RateLimitUnit specifies the intervals for setting rate limits.
                                    Valid RateLimitUnit values are "Second", "Minute", "Hour", and "Day".
                                  enum:
                                  - Second
                                  - Minute
                                  - Hour
                                  - Day
                                  type: string
                              required:
                              - requests
                              - unit
                              type: object
                            shared:
                              description: |-
                                Shared determines whether this rate limit rule applies across all the policy targets.
                                If set to true, the rule is treated as a common bucket and is shared across all policy targets (xRoutes).
                                Default: false.
                              type: boolean
                          required:
                          - limit
                          type: object
                        maxItems: 64
                        type: array
                    required:
                    - rules
                    type: object
                  local:
                    description: Local defines local rate limit configuration.
                    properties:
                      rules:
                        description: |-
                          Rules are a list of RateLimit selectors and limits. If a request matches
                          multiple rules, the strictest limit is applied. For example, if a request
                          matches two rules, one with 10rps and one with 20rps, the final limit will
                          be based on the rule with 10rps.
                        items:
                          description: |-
                            RateLimitRule defines the semantics for matching attributes
                            from the incoming requests, and setting limits for them.
                          properties:
                            clientSelectors:
                              description: |-
                                ClientSelectors holds the list of select conditions to select
                                specific clients using attributes from the traffic flow.
                                All individual select conditions must hold True for this rule
                                and its limit to be applied.

                                If no client selectors are specified, the rule applies to all traffic of
                                the targeted Route.

                                If the policy targets a Gateway, the rule applies to each Route of the Gateway.
                                Please note that each Route has its own rate limit counters. For example,
                                if a Gateway has two Routes, and the policy has a rule with limit 10rps,
                                each Route will have its own 10rps limit.
                              items:
                                description: |-
                                  RateLimitSelectCondition specifies the attributes within the traffic flow that can
                                  be used to select a subset of clients to be ratelimited.
                                  All the individual conditions must hold True for the overall condition to hold True.
                                properties:
                                  headers:
                                    description: |-
                                      Headers is a list of request headers to match. Multiple header values are ANDed together,
                                      meaning, a request MUST match all the specified headers.
                                      At least one of headers or sourceCIDR condition must be specified.
                                    items:
                                      description: HeaderMatch defines the match attributes
                                        within the HTTP Headers of the request.
                                      properties:
                                        invert:
                                          default: false
                                          description: |-
                                            Invert specifies whether the value match result will be inverted.
                                            Do not set this field when Type="Distinct", implying matching on any/all unique
                                            values within the header.
                                          type: boolean
                                        name:
                                          description: |-
                                            Name of the HTTP header.
                                            The header name is case-insensitive unless PreserveHeaderCase is set to true.
                                            For example, "Foo" and "foo" are considered the same header.
                                          maxLength: 256
                                          minLength: 1
                                          type: string
                                        type:
                                          default: Exact
                                          description: Type specifies how to match
                                            against the value of the header.
                                          enum:
                                          - Exact
                                          - RegularExpression
                                          - Distinct
                                          type: string
                                        value:
                                          description: |-
                                            Value within the HTTP header.
                                            Do not set this field when Type="Distinct", implying matching on any/all unique
                                            values within the header.
                                          maxLength: 1024
                                          type: string
                                      required:
                                      - name
                                      type: object
                                    maxItems: 16
                                    type: array
                                  sourceCIDR:
                                    description: |-
                                      SourceCIDR is the client IP Address range to match on.
                                      At least one of headers or sourceCIDR condition must be specified.
                                    properties:
                                      type:
                                        default: Exact
                                        enum:
                                        - Exact
                                        - Distinct
                                        type: string
                                      value:
                                        description: |-
                                          Value is the IP CIDR that represents the range of Source IP Addresses of the client.
                                          These could also be the intermediate addresses through which the request has flown through and is part of the  `X-Forwarded-For` header.
                                          For example, `192.168.0.1/32`, `192.168.0.0/24`, `001:db8::/64`.
                                        maxLength: 256
                                        minLength: 1
                                        type: string
                                    required:
                                    - value
                                    type: object
                                type: object
                              maxItems: 8
                              type: array
                            cost:
                              description: |-
                                Cost specifies the cost of requests and responses for the rule.

                                This is optional and if not specified, the default behavior is to reduce the rate limit counters by 1 on
                                the request path and do not reduce the rate limit counters on the response path.
                              properties:
                                request:
                                  description: |-
                                    Request specifies the number to reduce the rate limit counters
                                    on the request path. If this is not specified, the default behavior
                                    is to reduce the rate limit counters by 1.

                                    When Envoy receives a request that matches the rule, it tries to reduce the
                                    rate limit counters by the specified number. If the counter doesn't have
                                    enough capacity, the request is rate limited.
                                  properties:
                                    from:
                                      description: From specifies where to get the
                                        rate limit cost. Currently, only "Number"
                                        and "Metadata" are supported.
                                      enum:
                                      - Number
                                      - Metadata
                                      type: string
                                    metadata:
                                      description: Metadata specifies the per-request
                                        metadata to retrieve the usage number from.
                                      properties:
                                        key:
                                          description: Key is the key to retrieve
                                            the usage number from the filter metadata.
                                          type: string
                                        namespace:
                                          description: Namespace is the namespace
                                            of the dynamic metadata.
                                          type: string
                                      required:
                                      - key
                                      - namespace
                                      type: object
                                    number:
                                      description: |-
                                        Number specifies the fixed usage number to reduce the rate limit counters.
                                        Using zero can be used to only check the rate limit counters without reducing them.
                                      format: int64
                                      type: integer
                                  required:
                                  - from
                                  type: object
                                  x-kubernetes-validations:
                                  - message: only one of number or metadata can be
                                      specified
                                    rule: '!(has(self.number) && has(self.metadata))'
                                response:
                                  description: |-
                                    Response specifies the number to reduce the rate limit counters
                                    after the response is sent back to the client or the request stream is closed.

                                    The cost is used to reduce the rate limit counters for the matching requests.
                                    Since the reduction happens after the request stream is complete, the rate limit
                                    won't be enforced for the current request, but for the subsequent matching requests.

                                    This is optional and if not specified, the rate limit counters are not reduced
                                    on the response path.

                                    Currently, this is only supported for HTTP Global Rate Limits.
                                  properties:
                                    from:
                                      description: From specifies where to get the
                                        rate limit cost. Currently, only "Number"
                                        and "Metadata" are supported.
                                      enum:
                                      - Number
                                      - Metadata
                                      type: string
                                    metadata:
                                      description: Metadata specifies the per-request
                                        metadata to retrieve the usage number from.
                                      properties:
                                        key:
                                          description: Key is the key to retrieve
                                            the usage number from the filter metadata.
                                          type: string
                                        namespace:
                                          description: Namespace is the namespace
                                            of the dynamic metadata.
                                          type: string
                                      required:
                                      - key
                                      - namespace
                                      type: object
                                    number:
                                      description: |-
                                        Number specifies the fixed usage number to reduce the rate limit counters.
                                        Using zero can be used to only check the rate limit counters without reducing them.
                                      format: int64
                                      type: integer
                                  required:
                                  - from
                                  type: object
                                  x-kubernetes-validations:
                                  - message: only one of number or metadata can be
                                      specified
                                    rule: '!(has(self.number) && has(self.metadata))'
                              type: object
                            limit:
                              description: |-
                                Limit holds the rate limit values.
                                This limit is applied for traffic flows when the selectors
                                compute to True, causing the request to be counted towards the limit.
                                The limit is enforced and the request is ratelimited, i.e. a response with
                                429 HTTP status code is sent back to the client when
                                the selected requests have reached the limit.
                              properties:
                                requests:
                                  type: integer
                                unit:
                                  description: |-
                                    RateLimitUnit specifies the intervals for setting rate limits.
                                    Valid RateLimitUnit values are "Second", "Minute", "Hour", and "Day".
                                  enum:
                                  - Second
                                  - Minute
                                  - Hour
                                  - Day
                                  type: string
                              required:
                              - requests
                              - unit
                              type: object
                            shared:
                              description: |-
                                Shared determines whether this rate limit rule applies across all the policy targets.
                                If set to true, the rule is treated as a common bucket and is shared across all policy targets (xRoutes).
                                Default: false.
                              type: boolean
                          required:
                          - limit
                          type: object
                        maxItems: 16
                        type: array
                        x-kubernetes-validations:
                        - message: response cost is not supported for Local Rate Limits
                          rule: self.all(foo, !has(foo.cost) || !has(foo.cost.response))
                    type: object
                  type:
                    description: |-
                      Type decides the scope for the RateLimits.
                      Valid RateLimitType values are "Global" or "Local".
                    enum:
                    - Global
                    - Local
                    type: string
                required:
                - type
                type: object
              requestBuffer:
                description: |-
                  RequestBuffer allows the gateway to buffer and fully receive each request from a client before continuing to send the request
                  upstream to the backends. This can be helpful to shield your backend servers from slow clients, and also to enforce a maximum size per request
                  as any requests larger than the buffer size will be rejected.

                  This can have a negative performance impact so should only be enabled when necessary.

                  When enabling this option, you should also configure your connection buffer size to account for these request buffers. There will also be an
                  increase in memory usage for Envoy that should be accounted for in your deployment settings.
                properties:
                  limit:
                    allOf:
                    - pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                    - pattern: ^[1-9]+[0-9]*([EPTGMK]i|[EPTGMk])?$
                    anyOf:
                    - type: integer
                    - type: string
                    description: |-
                      Limit specifies the maximum allowed size in bytes for each incoming request buffer.
                      If exceeded, the request will be rejected with HTTP 413 Content Too Large.

                      Accepts values in resource.Quantity format (e.g., "10Mi", "500Ki").
                    x-kubernetes-int-or-string: true
                type: object
              responseOverride:
                description: |-
                  ResponseOverride defines the configuration to override specific responses with a custom one.
                  If multiple configurations are specified, the first one to match wins.
                items:
                  description: ResponseOverride defines the configuration to override
                    specific responses with a custom one.
                  properties:
                    match:
                      description: Match configuration.
                      properties:
                        statusCodes:
                          description: Status code to match on. The match evaluates
                            to true if any of the matches are successful.
                          items:
                            description: StatusCodeMatch defines the configuration
                              for matching a status code.
                            properties:
                              range:
                                description: Range contains the range of status codes.
                                properties:
                                  end:
                                    description: End of the range, including the end
                                      value.
                                    type: integer
                                  start:
                                    description: Start of the range, including the
                                      start value.
                                    type: integer
                                required:
                                - end
                                - start
                                type: object
                                x-kubernetes-validations:
                                - message: end must be greater than start
                                  rule: self.end > self.start
                              type:
                                allOf:
                                - enum:
                                  - Value
                                  - Range
                                - enum:
                                  - Value
                                  - Range
                                default: Value
                                description: |-
                                  Type is the type of value.
                                  Valid values are Value and Range, default is Value.
                                type: string
                              value:
                                description: Value contains the value of the status
                                  code.
                                type: integer
                            required:
                            - type
                            type: object
                            x-kubernetes-validations:
                            - message: value must be set for type Value
                              rule: '(!has(self.type) || self.type == ''Value'')?
                                has(self.value) : true'
                            - message: range must be set for type Range
                              rule: '(has(self.type) && self.type == ''Range'')? has(self.range)
                                : true'
                          maxItems: 50
                          minItems: 1
                          type: array
                      required:
                      - statusCodes
                      type: object
                    response:
                      description: Response configuration.
                      properties:
                        body:
                          description: Body of the Custom Response
                          properties:
                            inline:
                              description: Inline contains the value as an inline
                                string.
                              type: string
                            type:
                              allOf:
                              - enum:
                                - Inline
                                - ValueRef
                              - enum:
                                - Inline
                                - ValueRef
                              default: Inline
                              description: |-
                                Type is the type of method to use to read the body value.
                                Valid values are Inline and ValueRef, default is Inline.
                              type: string
                            valueRef:
                              description: |-
                                ValueRef contains the contents of the body
                                specified as a local object reference.
                                Only a reference to ConfigMap is supported.

                                The value of key `response.body` in the ConfigMap will be used as the response body.
                                If the key is not found, the first value in the ConfigMap will be used.
                              properties:
                                group:
                                  description: |-
                                    Group is the group of the referent. For example, "gateway.networking.k8s.io".
                                    When unspecified or empty string, core API group is inferred.
                                  maxLength: 253
                                  pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                                  type: string
                                kind:
                                  description: Kind is kind of the referent. For example
                                    "HTTPRoute" or "Service".
                                  maxLength: 63
                                  minLength: 1
                                  pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                                  type: string
                                name:
                                  description: Name is the name of the referent.
                                  maxLength: 253
                                  minLength: 1
                                  type: string
                              required:
                              - group
                              - kind
                              - name
                              type: object
                          required:
                          - type
                          type: object
                          x-kubernetes-validations:
                          - message: inline must be set for type Inline
                            rule: '(!has(self.type) || self.type == ''Inline'')? has(self.inline)
                              : true'
                          - message: valueRef must be set for type ValueRef
                            rule: '(has(self.type) && self.type == ''ValueRef'')?
                              has(self.valueRef) : true'
                          - message: only ConfigMap is supported for ValueRef
                            rule: 'has(self.valueRef) ? self.valueRef.kind == ''ConfigMap''
                              : true'
                        contentType:
                          description: Content Type of the response. This will be
                            set in the Content-Type header.
                          type: string
                        statusCode:
                          description: |-
                            Status Code of the Custom Response
                            If unset, does not override the status of response.
                          type: integer
                      type: object
                  required:
                  - match
                  - response
                  type: object
                type: array
              retry:
                description: |-
                  Retry provides more advanced usage, allowing users to customize the number of retries, retry fallback strategy, and retry triggering conditions.
                  If not set, retry will be disabled.
                properties:
                  numRetries:
                    default: 2
                    description: NumRetries is the number of retries to be attempted.
                      Defaults to 2.
                    format: int32
                    minimum: 0
                    type: integer
                  perRetry:
                    description: PerRetry is the retry policy to be applied per retry
                      attempt.
                    properties:
                      backOff:
                        description: |-
                          Backoff is the backoff policy to be applied per retry attempt. gateway uses a fully jittered exponential
                          back-off algorithm for retries. For additional details,
                          see https://www.envoyproxy.io/docs/envoy/latest/configuration/http/http_filters/router_filter#config-http-filters-router-x-envoy-max-retries
                        properties:
                          baseInterval:
                            description: BaseInterval is the base interval between
                              retries.
                            format: duration
                            type: string
                          maxInterval:
                            description: |-
                              MaxInterval is the maximum interval between retries. This parameter is optional, but must be greater than or equal to the base_interval if set.
                              The default is 10 times the base_interval
                            format: duration
                            type: string
                        type: object
                      timeout:
                        description: Timeout is the timeout per retry attempt.
                        format: duration
                        type: string
                    type: object
                  retryOn:
                    description: |-
                      RetryOn specifies the retry trigger condition.

                      If not specified, the default is to retry on connect-failure,refused-stream,unavailable,cancelled,retriable-status-codes(503).
                    properties:
                      httpStatusCodes:
                        description: |-
                          HttpStatusCodes specifies the http status codes to be retried.
                          The retriable-status-codes trigger must also be configured for these status codes to trigger a retry.
                        items:
                          description: HTTPStatus defines the http status code.
                          exclusiveMaximum: true
                          maximum: 600
                          minimum: 100
                          type: integer
                        type: array
                      triggers:
                        description: Triggers specifies the retry trigger condition(Http/Grpc).
                        items:
                          description: TriggerEnum specifies the conditions that trigger
                            retries.
                          enum:
                          - 5xx
                          - gateway-error
                          - reset
                          - connect-failure
                          - retriable-4xx
                          - refused-stream
                          - retriable-status-codes
                          - cancelled
                          - deadline-exceeded
                          - internal
                          - resource-exhausted
                          - unavailable
                          type: string
                        type: array
                    type: object
                type: object
              targetRef:
                description: |-
                  TargetRef is the name of the resource this policy is being attached to.
                  This policy and the TargetRef MUST be in the same namespace for this
                  Policy to have effect

                  Deprecated: use targetRefs/targetSelectors instead
                properties:
                  group:
                    description: Group is the group of the target resource.
                    maxLength: 253
                    pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                    type: string
                  kind:
                    description: Kind is kind of the target resource.
                    maxLength: 63
                    minLength: 1
                    pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                    type: string
                  name:
                    description: Name is the name of the target resource.
                    maxLength: 253
                    minLength: 1
                    type: string
                  sectionName:
                    description: |-
                      SectionName is the name of a section within the target resource. When
                      unspecified, this targetRef targets the entire resource. In the following
                      resources, SectionName is interpreted as the following:

                      * Gateway: Listener name
                      * HTTPRoute: HTTPRouteRule name
                      * Service: Port name

                      If a SectionName is specified, but does not exist on the targeted object,
                      the Policy must fail to attach, and the policy implementation should record
                      a `ResolvedRefs` or similar Condition in the Policy's status.
                    maxLength: 253
                    minLength: 1
                    pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                    type: string
                required:
                - group
                - kind
                - name
                type: object
              targetRefs:
                description: |-
                  TargetRefs are the names of the Gateway resources this policy
                  is being attached to.
                items:
                  description: |-
                    LocalPolicyTargetReferenceWithSectionName identifies an API object to apply a
                    direct policy to. This should be used as part of Policy resources that can
                    target single resources. For more information on how this policy attachment
                    mode works, and a sample Policy resource, refer to the policy attachment
                    documentation for Gateway API.

                    Note: This should only be used for direct policy attachment when references
                    to SectionName are actually needed. In all other cases,
                    LocalPolicyTargetReference should be used.
                  properties:
                    group:
                      description: Group is the group of the target resource.
                      maxLength: 253
                      pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                      type: string
                    kind:
                      description: Kind is kind of the target resource.
                      maxLength: 63
                      minLength: 1
                      pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                      type: string
                    name:
                      description: Name is the name of the target resource.
                      maxLength: 253
                      minLength: 1
                      type: string
                    sectionName:
                      description: |-
                        SectionName is the name of a section within the target resource. When
                        unspecified, this targetRef targets the entire resource. In the following
                        resources, SectionName is interpreted as the following:

                        * Gateway: Listener name
                        * HTTPRoute: HTTPRouteRule name
                        * Service: Port name

                        If a SectionName is specified, but does not exist on the targeted object,
                        the Policy must fail to attach, and the policy implementation should record
                        a `ResolvedRefs` or similar Condition in the Policy's status.
                      maxLength: 253
                      minLength: 1
                      pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                      type: string
                  required:
                  - group
                  - kind
                  - name
                  type: object
                type: array
              targetSelectors:
                description: TargetSelectors allow targeting resources for this policy
                  based on labels
                items:
                  properties:
                    group:
                      default: gateway.networking.k8s.io
                      description: Group is the group that this selector targets.
                        Defaults to gateway.networking.k8s.io
                      maxLength: 253
                      pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                      type: string
                    kind:
                      description: Kind is the resource kind that this selector targets.
                      maxLength: 63
                      minLength: 1
                      pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                      type: string
                    matchExpressions:
                      description: MatchExpressions is a list of label selector requirements.
                        The requirements are ANDed.
                      items:
                        description: |-
                          A label selector requirement is a selector that contains values, a key, and an operator that
                          relates the key and values.
                        properties:
                          key:
                            description: key is the label key that the selector applies
                              to.
                            type: string
                          operator:
                            description: |-
                              operator represents a key's relationship to a set of values.
                              Valid operators are In, NotIn, Exists and DoesNotExist.
                            type: string
                          values:
                            description: |-
                              values is an array of string values. If the operator is In or NotIn,
                              the values array must be non-empty. If the operator is Exists or DoesNotExist,
                              the values array must be empty. This array is replaced during a strategic
                              merge patch.
                            items:
                              type: string
                            type: array
                            x-kubernetes-list-type: atomic
                        required:
                        - key
                        - operator
                        type: object
                      type: array
                      x-kubernetes-list-type: atomic
                    matchLabels:
                      additionalProperties:
                        type: string
                      description: MatchLabels are the set of label selectors for
                        identifying the targeted resource
                      type: object
                  required:
                  - kind
                  type: object
                  x-kubernetes-validations:
                  - message: group must be gateway.networking.k8s.io
                    rule: 'has(self.group) ? self.group == ''gateway.networking.k8s.io''
                      : true '
                type: array
              tcpKeepalive:
                description: |-
                  TcpKeepalive settings associated with the upstream client connection.
                  Disabled by default.
                properties:
                  idleTime:
                    description: |-
                      The duration a connection needs to be idle before keep-alive
                      probes start being sent.
                      The duration format is
                      Defaults to `7200s`.
                    pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                    type: string
                  interval:
                    description: |-
                      The duration between keep-alive probes.
                      Defaults to `75s`.
                    pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                    type: string
                  probes:
                    description: |-
                      The total number of unacknowledged probes to send before deciding
                      the connection is dead.
                      Defaults to 9.
                    format: int32
                    type: integer
                type: object
              telemetry:
                description: |-
                  Telemetry configures the telemetry settings for the policy target (Gateway or xRoute).
                  This will override the telemetry settings in the EnvoyProxy resource.
                properties:
                  tracing:
                    description: Tracing configures the tracing settings for the backend
                      or HTTPRoute.
                    properties:
                      customTags:
                        additionalProperties:
                          properties:
                            environment:
                              description: |-
                                Environment adds value from environment variable to each span.
                                It's required when the type is "Environment".
                              properties:
                                defaultValue:
                                  description: DefaultValue defines the default value
                                    to use if the environment variable is not set.
                                  type: string
                                name:
                                  description: Name defines the name of the environment
                                    variable which to extract the value from.
                                  type: string
                              required:
                              - name
                              type: object
                            literal:
                              description: |-
                                Literal adds hard-coded value to each span.
                                It's required when the type is "Literal".
                              properties:
                                value:
                                  description: Value defines the hard-coded value
                                    to add to each span.
                                  type: string
                              required:
                              - value
                              type: object
                            requestHeader:
                              description: |-
                                RequestHeader adds value from request header to each span.
                                It's required when the type is "RequestHeader".
                              properties:
                                defaultValue:
                                  description: DefaultValue defines the default value
                                    to use if the request header is not set.
                                  type: string
                                name:
                                  description: Name defines the name of the request
                                    header which to extract the value from.
                                  type: string
                              required:
                              - name
                              type: object
                            type:
                              default: Literal
                              description: Type defines the type of custom tag.
                              enum:
                              - Literal
                              - Environment
                              - RequestHeader
                              type: string
                          required:
                          - type
                          type: object
                        description: |-
                          CustomTags defines the custom tags to add to each span.
                          If provider is kubernetes, pod name and namespace are added by default.
                        type: object
                      samplingFraction:
                        description: |-
                          SamplingFraction represents the fraction of requests that should be
                          selected for tracing if no prior sampling decision has been made.

                          This will take precedence over sampling fraction on EnvoyProxy if set.
                        properties:
                          denominator:
                            default: 100
                            format: int32
                            minimum: 1
                            type: integer
                          numerator:
                            format: int32
                            minimum: 0
                            type: integer
                        required:
                        - numerator
                        type: object
                        x-kubernetes-validations:
                        - message: numerator must be less than or equal to denominator
                          rule: self.numerator <= self.denominator
                    type: object
                type: object
              timeout:
                description: Timeout settings for the backend connections.
                properties:
                  http:
                    description: Timeout settings for HTTP.
                    properties:
                      connectionIdleTimeout:
                        description: |-
                          The idle timeout for an HTTP connection. Idle time is defined as a period in which there are no active requests in the connection.
                          Default: 1 hour.
                        pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                        type: string
                      maxConnectionDuration:
                        description: |-
                          The maximum duration of an HTTP connection.
                          Default: unlimited.
                        pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                        type: string
                      requestTimeout:
                        description: RequestTimeout is the time until which entire
                          response is received from the upstream.
                        pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                        type: string
                    type: object
                  tcp:
                    description: Timeout settings for TCP.
                    properties:
                      connectTimeout:
                        description: |-
                          The timeout for network connection establishment, including TCP and TLS handshakes.
                          Default: 10 seconds.
                        pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                        type: string
                    type: object
                type: object
              useClientProtocol:
                description: |-
                  UseClientProtocol configures Envoy to prefer sending requests to backends using
                  the same HTTP protocol that the incoming request used. Defaults to false, which means
                  that Envoy will use the protocol indicated by the attached BackendRef.
                type: boolean
            type: object
            x-kubernetes-validations:
            - message: either targetRef or targetRefs must be used
              rule: '(has(self.targetRef) && !has(self.targetRefs)) || (!has(self.targetRef)
                && has(self.targetRefs)) || (has(self.targetSelectors) && self.targetSelectors.size()
                > 0) '
            - message: this policy can only have a targetRef.group of gateway.networking.k8s.io
              rule: 'has(self.targetRef) ? self.targetRef.group == ''gateway.networking.k8s.io''
                : true '
            - message: this policy can only have a targetRef.kind of Gateway/HTTPRoute/GRPCRoute/TCPRoute/UDPRoute/TLSRoute
              rule: 'has(self.targetRef) ? self.targetRef.kind in [''Gateway'', ''HTTPRoute'',
                ''GRPCRoute'', ''UDPRoute'', ''TCPRoute'', ''TLSRoute''] : true'
            - message: this policy does not yet support the sectionName field
              rule: 'has(self.targetRef) ? !has(self.targetRef.sectionName) : true'
            - message: this policy can only have a targetRefs[*].group of gateway.networking.k8s.io
              rule: 'has(self.targetRefs) ? self.targetRefs.all(ref, ref.group ==
                ''gateway.networking.k8s.io'') : true '
            - message: this policy can only have a targetRefs[*].kind of Gateway/HTTPRoute/GRPCRoute/TCPRoute/UDPRoute/TLSRoute
              rule: 'has(self.targetRefs) ? self.targetRefs.all(ref, ref.kind in [''Gateway'',
                ''HTTPRoute'', ''GRPCRoute'', ''UDPRoute'', ''TCPRoute'', ''TLSRoute''])
                : true '
            - message: this policy does not yet support the sectionName field
              rule: 'has(self.targetRefs) ? self.targetRefs.all(ref, !has(ref.sectionName))
                : true'
          status:
            description: status defines the current status of BackendTrafficPolicy.
            properties:
              ancestors:
                description: |-
                  Ancestors is a list of ancestor resources (usually Gateways) that are
                  associated with the policy, and the status of the policy with respect to
                  each ancestor. When this policy attaches to a parent, the controller that
                  manages the parent and the ancestors MUST add an entry to this list when
                  the controller first sees the policy and SHOULD update the entry as
                  appropriate when the relevant ancestor is modified.

                  Note that choosing the relevant ancestor is left to the Policy designers;
                  an important part of Policy design is designing the right object level at
                  which to namespace this status.

                  Note also that implementations MUST ONLY populate ancestor status for
                  the Ancestor resources they are responsible for. Implementations MUST
                  use the ControllerName field to uniquely identify the entries in this list
                  that they are responsible for.

                  Note that to achieve this, the list of PolicyAncestorStatus structs
                  MUST be treated as a map with a composite key, made up of the AncestorRef
                  and ControllerName fields combined.

                  A maximum of 16 ancestors will be represented in this list. An empty list
                  means the Policy is not relevant for any ancestors.

                  If this slice is full, implementations MUST NOT add further entries.
                  Instead they MUST consider the policy unimplementable and signal that
                  on any related resources such as the ancestor that would be referenced
                  here. For example, if this list was full on BackendTLSPolicy, no
                  additional Gateways would be able to reference the Service targeted by
                  the BackendTLSPolicy.
                items:
                  description: |-
                    PolicyAncestorStatus describes the status of a route with respect to an
                    associated Ancestor.

                    Ancestors refer to objects that are either the Target of a policy or above it
                    in terms of object hierarchy. For example, if a policy targets a Service, the
                    Policy's Ancestors are, in order, the Service, the HTTPRoute, the Gateway, and
                    the GatewayClass. Almost always, in this hierarchy, the Gateway will be the most
                    useful object to place Policy status on, so we recommend that implementations
                    SHOULD use Gateway as the PolicyAncestorStatus object unless the designers
                    have a _very_ good reason otherwise.

                    In the context of policy attachment, the Ancestor is used to distinguish which
                    resource results in a distinct application of this policy. For example, if a policy
                    targets a Service, it may have a distinct result per attached Gateway.

                    Policies targeting the same resource may have different effects depending on the
                    ancestors of those resources. For example, different Gateways targeting the same
                    Service may have different capabilities, especially if they have different underlying
                    implementations.

                    For example, in BackendTLSPolicy, the Policy attaches to a Service that is
                    used as a backend in a HTTPRoute that is itself attached to a Gateway.
                    In this case, the relevant object for status is the Gateway, and that is the
                    ancestor object referred to in this status.

                    Note that a parent is also an ancestor, so for objects where the parent is the
                    relevant object for status, this struct SHOULD still be used.

                    This struct is intended to be used in a slice that's effectively a map,
                    with a composite key made up of the AncestorRef and the ControllerName.
                  properties:
                    ancestorRef:
                      description: |-
                        AncestorRef corresponds with a ParentRef in the spec that this
                        PolicyAncestorStatus struct describes the status of.
                      properties:
                        group:
                          default: gateway.networking.k8s.io
                          description: |-
                            Group is the group of the referent.
                            When unspecified, "gateway.networking.k8s.io" is inferred.
                            To set the core API group (such as for a "Service" kind referent),
                            Group must be explicitly set to "" (empty string).

                            Support: Core
                          maxLength: 253
                          pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                          type: string
                        kind:
                          default: Gateway
                          description: |-
                            Kind is kind of the referent.

                            There are two kinds of parent resources with "Core" support:

                            * Gateway (Gateway conformance profile)
                            * Service (Mesh conformance profile, ClusterIP Services only)

                            Support for other resources is Implementation-Specific.
                          maxLength: 63
                          minLength: 1
                          pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                          type: string
                        name:
                          description: |-
                            Name is the name of the referent.

                            Support: Core
                          maxLength: 253
                          minLength: 1
                          type: string
                        namespace:
                          description: |-
                            Namespace is the namespace of the referent. When unspecified, this refers
                            to the local namespace of the Route.

                            Note that there are specific rules for ParentRefs which cross namespace
                            boundaries. Cross-namespace references are only valid if they are explicitly
                            allowed by something in the namespace they are referring to. For example:
                            Gateway has the AllowedRoutes field, and ReferenceGrant provides a
                            generic way to enable any other kind of cross-namespace reference.

                            <gateway:experimental:description>
                            ParentRefs from a Route to a Service in the same namespace are "producer"
                            routes, which apply default routing rules to inbound connections from
                            any namespace to the Service.

                            ParentRefs from a Route to a Service in a different namespace are
                            "consumer" routes, and these routing rules are only applied to outbound
                            connections originating from the same namespace as the Route, for which
                            the intended destination of the connections are a Service targeted as a
                            ParentRef of the Route.
                            </gateway:experimental:description>

                            Support: Core
                          maxLength: 63
                          minLength: 1
                          pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                          type: string
                        port:
                          description: |-
                            Port is the network port this Route targets. It can be interpreted
                            differently based on the type of parent resource.

                            When the parent resource is a Gateway, this targets all listeners
                            listening on the specified port that also support this kind of Route(and
                            select this Route). It's not recommended to set `Port` unless the
                            networking behaviors specified in a Route must apply to a specific port
                            as opposed to a listener(s) whose port(s) may be changed. When both Port
                            and SectionName are specified, the name and port of the selected listener
                            must match both specified values.

                            <gateway:experimental:description>
                            When the parent resource is a Service, this targets a specific port in the
                            Service spec. When both Port (experimental) and SectionName are specified,
                            the name and port of the selected port must match both specified values.
                            </gateway:experimental:description>

                            Implementations MAY choose to support other parent resources.
                            Implementations supporting other types of parent resources MUST clearly
                            document how/if Port is interpreted.

                            For the purpose of status, an attachment is considered successful as
                            long as the parent resource accepts it partially. For example, Gateway
                            listeners can restrict which Routes can attach to them by Route kind,
                            namespace, or hostname. If 1 of 2 Gateway listeners accept attachment
                            from the referencing Route, the Route MUST be considered successfully
                            attached. If no Gateway listeners accept attachment from this Route,
                            the Route MUST be considered detached from the Gateway.

                            Support: Extended
                          format: int32
                          maximum: 65535
                          minimum: 1
                          type: integer
                        sectionName:
                          description: |-
                            SectionName is the name of a section within the target resource. In the
                            following resources, SectionName is interpreted as the following:

                            * Gateway: Listener name. When both Port (experimental) and SectionName
                            are specified, the name and port of the selected listener must match
                            both specified values.
                            * Service: Port name. When both Port (experimental) and SectionName
                            are specified, the name and port of the selected listener must match
                            both specified values.

                            Implementations MAY choose to support attaching Routes to other resources.
                            If that is the case, they MUST clearly document how SectionName is
                            interpreted.

                            When unspecified (empty string), this will reference the entire resource.
                            For the purpose of status, an attachment is considered successful if at
                            least one section in the parent resource accepts it. For example, Gateway
                            listeners can restrict which Routes can attach to them by Route kind,
                            namespace, or hostname. If 1 of 2 Gateway listeners accept attachment from
                            the referencing Route, the Route MUST be considered successfully
                            attached. If no Gateway listeners accept attachment from this Route, the
                            Route MUST be considered detached from the Gateway.

                            Support: Core
                          maxLength: 253
                          minLength: 1
                          pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                          type: string
                      required:
                      - name
                      type: object
                    conditions:
                      description: Conditions describes the status of the Policy with
                        respect to the given Ancestor.
                      items:
                        description: Condition contains details for one aspect of
                          the current state of this API Resource.
                        properties:
                          lastTransitionTime:
                            description: |-
                              lastTransitionTime is the last time the condition transitioned from one status to another.
                              This should be when the underlying condition changed.  If that is not known, then using the time when the API field changed is acceptable.
                            format: date-time
                            type: string
                          message:
                            description: |-
                              message is a human readable message indicating details about the transition.
                              This may be an empty string.
                            maxLength: 32768
                            type: string
                          observedGeneration:
                            description: |-
                              observedGeneration represents the .metadata.generation that the condition was set based upon.
                              For instance, if .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration is 9, the condition is out of date
                              with respect to the current state of the instance.
                            format: int64
                            minimum: 0
                            type: integer
                          reason:
                            description: |-
                              reason contains a programmatic identifier indicating the reason for the condition's last transition.
                              Producers of specific condition types may define expected values and meanings for this field,
                              and whether the values are considered a guaranteed API.
                              The value should be a CamelCase string.
                              This field may not be empty.
                            maxLength: 1024
                            minLength: 1
                            pattern: ^[A-Za-z]([A-Za-z0-9_,:]*[A-Za-z0-9_])?$
                            type: string
                          status:
                            description: status of the condition, one of True, False,
                              Unknown.
                            enum:
                            - "True"
                            - "False"
                            - Unknown
                            type: string
                          type:
                            description: type of condition in CamelCase or in foo.example.com/CamelCase.
                            maxLength: 316
                            pattern: ^([a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*/)?(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])$
                            type: string
                        required:
                        - lastTransitionTime
                        - message
                        - reason
                        - status
                        - type
                        type: object
                      maxItems: 8
                      minItems: 1
                      type: array
                      x-kubernetes-list-map-keys:
                      - type
                      x-kubernetes-list-type: map
                    controllerName:
                      description: |-
                        ControllerName is a domain/path string that indicates the name of the
                        controller that wrote this status. This corresponds with the
                        controllerName field on GatewayClass.

                        Example: "example.net/gateway-controller".

                        The format of this field is DOMAIN "/" PATH, where DOMAIN and PATH are
                        valid Kubernetes names
                        (https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names).

                        Controllers MUST populate this field when writing status. Controllers should ensure that
                        entries to status populated with their ControllerName are cleaned up when they are no
                        longer necessary.
                      maxLength: 253
                      minLength: 1
                      pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*\/[A-Za-z0-9\/\-._~%!$&'()*+,;=:]+$
                      type: string
                  required:
                  - ancestorRef
                  - controllerName
                  type: object
                maxItems: 16
                type: array
            required:
            - ancestors
            type: object
        required:
        - spec
        type: object
    served: true
    storage: true
    subresources:
      status: {}
---
# Source: gateway-crds-helm/templates/generated/gateway.envoyproxy.io_clienttrafficpolicies.yaml
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.17.3
  name: clienttrafficpolicies.gateway.envoyproxy.io
spec:
  group: gateway.envoyproxy.io
  names:
    categories:
    - envoy-gateway
    kind: ClientTrafficPolicy
    listKind: ClientTrafficPolicyList
    plural: clienttrafficpolicies
    shortNames:
    - ctp
    singular: clienttrafficpolicy
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - jsonPath: .metadata.creationTimestamp
      name: Age
      type: date
    name: v1alpha1
    schema:
      openAPIV3Schema:
        description: |-
          ClientTrafficPolicy allows the user to configure the behavior of the connection
          between the downstream client and Envoy Proxy listener.
        properties:
          apiVersion:
            description: |-
              APIVersion defines the versioned schema of this representation of an object.
              Servers should convert recognized schemas to the latest internal value, and
              may reject unrecognized values.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
            type: string
          kind:
            description: |-
              Kind is a string value representing the REST resource this object represents.
              Servers may infer this from the endpoint the client submits requests to.
              Cannot be updated.
              In CamelCase.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
            type: string
          metadata:
            type: object
          spec:
            description: Spec defines the desired state of ClientTrafficPolicy.
            properties:
              clientIPDetection:
                description: ClientIPDetectionSettings provides configuration for
                  determining the original client IP address for requests.
                properties:
                  customHeader:
                    description: |-
                      CustomHeader provides configuration for determining the client IP address for a request based on
                      a trusted custom HTTP header. This uses the custom_header original IP detection extension.
                      Refer to https://www.envoyproxy.io/docs/envoy/latest/api-v3/extensions/http/original_ip_detection/custom_header/v3/custom_header.proto
                      for more details.
                    properties:
                      failClosed:
                        description: |-
                          FailClosed is a switch used to control the flow of traffic when client IP detection
                          fails. If set to true, the listener will respond with 403 Forbidden when the client
                          IP address cannot be determined.
                        type: boolean
                      name:
                        description: Name of the header containing the original downstream
                          remote address, if present.
                        maxLength: 255
                        minLength: 1
                        pattern: ^[A-Za-z0-9-]+$
                        type: string
                    required:
                    - name
                    type: object
                  xForwardedFor:
                    description: XForwardedForSettings provides configuration for
                      using X-Forwarded-For headers for determining the client IP
                      address.
                    properties:
                      numTrustedHops:
                        description: |-
                          NumTrustedHops controls the number of additional ingress proxy hops from the right side of XFF HTTP
                          headers to trust when determining the origin client's IP address.
                          Only one of NumTrustedHops and TrustedCIDRs must be set.
                        format: int32
                        type: integer
                      trustedCIDRs:
                        description: |-
                          TrustedCIDRs is a list of CIDR ranges to trust when evaluating
                          the remote IP address to determine the original client’s IP address.
                          When the remote IP address matches a trusted CIDR and the x-forwarded-for header was sent,
                          each entry in the x-forwarded-for header is evaluated from right to left
                          and the first public non-trusted address is used as the original client address.
                          If all addresses in x-forwarded-for are within the trusted list, the first (leftmost) entry is used.
                          Only one of NumTrustedHops and TrustedCIDRs must be set.
                        items:
                          description: |-
                            CIDR defines a CIDR Address range.
                            A CIDR can be an IPv4 address range such as "192.168.1.0/24" or an IPv6 address range such as "2001:0db8:11a3:09d7::/64".
                          pattern: ((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\/([0-9]+))|((([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/([0-9]+))
                          type: string
                        minItems: 1
                        type: array
                    type: object
                    x-kubernetes-validations:
                    - message: only one of numTrustedHops or trustedCIDRs must be
                        set
                      rule: (has(self.numTrustedHops) && !has(self.trustedCIDRs))
                        || (!has(self.numTrustedHops) && has(self.trustedCIDRs))
                type: object
                x-kubernetes-validations:
                - message: customHeader cannot be used in conjunction with xForwardedFor
                  rule: '!(has(self.xForwardedFor) && has(self.customHeader))'
              connection:
                description: Connection includes client connection settings.
                properties:
                  bufferLimit:
                    allOf:
                    - pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                    - pattern: ^[1-9]+[0-9]*([EPTGMK]i|[EPTGMk])?$
                    anyOf:
                    - type: integer
                    - type: string
                    description: |-
                      BufferLimit provides configuration for the maximum buffer size in bytes for each incoming connection.
                      BufferLimit applies to connection streaming (maybe non-streaming) channel between processes, it's in user space.
                      For example, 20Mi, 1Gi, 256Ki etc.
                      Note that when the suffix is not provided, the value is interpreted as bytes.
                      Default: 32768 bytes.
                    x-kubernetes-int-or-string: true
                  connectionLimit:
                    description: ConnectionLimit defines limits related to connections
                    properties:
                      closeDelay:
                        description: |-
                          CloseDelay defines the delay to use before closing connections that are rejected
                          once the limit value is reached.
                          Default: none.
                        pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                        type: string
                      value:
                        description: |-
                          Value of the maximum concurrent connections limit.
                          When the limit is reached, incoming connections will be closed after the CloseDelay duration.
                        format: int64
                        minimum: 1
                        type: integer
                    required:
                    - value
                    type: object
                  socketBufferLimit:
                    allOf:
                    - pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                    - pattern: ^[1-9]+[0-9]*([EPTGMK]i|[EPTGMk])?$
                    anyOf:
                    - type: integer
                    - type: string
                    description: |-
                      SocketBufferLimit provides configuration for the maximum buffer size in bytes for each incoming socket.
                      SocketBufferLimit applies to socket streaming channel between TCP/IP stacks, it's in kernel space.
                      For example, 20Mi, 1Gi, 256Ki etc.
                      Note that when the suffix is not provided, the value is interpreted as bytes.
                    x-kubernetes-int-or-string: true
                type: object
              enableProxyProtocol:
                description: |-
                  EnableProxyProtocol interprets the ProxyProtocol header and adds the
                  Client Address into the X-Forwarded-For header.
                  Note Proxy Protocol must be present when this field is set, else the connection
                  is closed.
                type: boolean
              headers:
                description: HeaderSettings provides configuration for header management.
                properties:
                  disableRateLimitHeaders:
                    description: |-
                      DisableRateLimitHeaders configures Envoy Proxy to omit the "X-RateLimit-" response headers
                      when rate limiting is enabled.
                    type: boolean
                  earlyRequestHeaders:
                    description: |-
                      EarlyRequestHeaders defines settings for early request header modification, before envoy performs
                      routing, tracing and built-in header manipulation.
                    properties:
                      add:
                        description: |-
                          Add adds the given header(s) (name, value) to the request
                          before the action. It appends to any existing values associated
                          with the header name.

                          Input:
                            GET /foo HTTP/1.1
                            my-header: foo

                          Config:
                            add:
                            - name: "my-header"
                              value: "bar,baz"

                          Output:
                            GET /foo HTTP/1.1
                            my-header: foo,bar,baz
                        items:
                          description: HTTPHeader represents an HTTP Header name and
                            value as defined by RFC 7230.
                          properties:
                            name:
                              description: |-
                                Name is the name of the HTTP Header to be matched. Name matching MUST be
                                case-insensitive. (See https://tools.ietf.org/html/rfc7230#section-3.2).

                                If multiple entries specify equivalent header names, the first entry with
                                an equivalent name MUST be considered for a match. Subsequent entries
                                with an equivalent header name MUST be ignored. Due to the
                                case-insensitivity of header names, "foo" and "Foo" are considered
                                equivalent.
                              maxLength: 256
                              minLength: 1
                              pattern: ^[A-Za-z0-9!#$%&'*+\-.^_\x60|~]+$
                              type: string
                            value:
                              description: Value is the value of HTTP Header to be
                                matched.
                              maxLength: 4096
                              minLength: 1
                              type: string
                          required:
                          - name
                          - value
                          type: object
                        maxItems: 16
                        type: array
                        x-kubernetes-list-map-keys:
                        - name
                        x-kubernetes-list-type: map
                      remove:
                        description: |-
                          Remove the given header(s) from the HTTP request before the action. The
                          value of Remove is a list of HTTP header names. Note that the header
                          names are case-insensitive (see
                          https://datatracker.ietf.org/doc/html/rfc2616#section-4.2).

                          Input:
                            GET /foo HTTP/1.1
                            my-header1: foo
                            my-header2: bar
                            my-header3: baz

                          Config:
                            remove: ["my-header1", "my-header3"]

                          Output:
                            GET /foo HTTP/1.1
                            my-header2: bar
                        items:
                          type: string
                        maxItems: 16
                        type: array
                        x-kubernetes-list-type: set
                      set:
                        description: |-
                          Set overwrites the request with the given header (name, value)
                          before the action.

                          Input:
                            GET /foo HTTP/1.1
                            my-header: foo

                          Config:
                            set:
                            - name: "my-header"
                              value: "bar"

                          Output:
                            GET /foo HTTP/1.1
                            my-header: bar
                        items:
                          description: HTTPHeader represents an HTTP Header name and
                            value as defined by RFC 7230.
                          properties:
                            name:
                              description: |-
                                Name is the name of the HTTP Header to be matched. Name matching MUST be
                                case-insensitive. (See https://tools.ietf.org/html/rfc7230#section-3.2).

                                If multiple entries specify equivalent header names, the first entry with
                                an equivalent name MUST be considered for a match. Subsequent entries
                                with an equivalent header name MUST be ignored. Due to the
                                case-insensitivity of header names, "foo" and "Foo" are considered
                                equivalent.
                              maxLength: 256
                              minLength: 1
                              pattern: ^[A-Za-z0-9!#$%&'*+\-.^_\x60|~]+$
                              type: string
                            value:
                              description: Value is the value of HTTP Header to be
                                matched.
                              maxLength: 4096
                              minLength: 1
                              type: string
                          required:
                          - name
                          - value
                          type: object
                        maxItems: 16
                        type: array
                        x-kubernetes-list-map-keys:
                        - name
                        x-kubernetes-list-type: map
                    type: object
                  enableEnvoyHeaders:
                    description: |-
                      EnableEnvoyHeaders configures Envoy Proxy to add the "X-Envoy-" headers to requests
                      and responses.
                    type: boolean
                  preserveXRequestID:
                    description: |-
                      PreserveXRequestID configures Envoy to keep the X-Request-ID header if passed for a request that is edge
                      (Edge request is the request from external clients to front Envoy) and not reset it, which is the current Envoy behaviour.
                      Defaults to false and cannot be combined with RequestID.
                      Deprecated: use RequestID=Preserve instead
                    type: boolean
                  requestID:
                    description: |-
                      RequestID configures Envoy's behavior for handling the `X-Request-ID` header.
                      Defaults to `Generate` and builds the `X-Request-ID` for every request and ignores pre-existing values from the edge.
                      (An "edge request" refers to a request from an external client to the Envoy entrypoint.)
                    enum:
                    - PreserveOrGenerate
                    - Preserve
                    - Generate
                    - Disable
                    type: string
                  withUnderscoresAction:
                    description: |-
                      WithUnderscoresAction configures the action to take when an HTTP header with underscores
                      is encountered. The default action is to reject the request.
                    enum:
                    - Allow
                    - RejectRequest
                    - DropHeader
                    type: string
                  xForwardedClientCert:
                    description: |-
                      XForwardedClientCert configures how Envoy Proxy handle the x-forwarded-client-cert (XFCC) HTTP header.

                      x-forwarded-client-cert (XFCC) is an HTTP header used to forward the certificate
                      information of part or all of the clients or proxies that a request has flowed through,
                      on its way from the client to the server.

                      Envoy proxy may choose to sanitize/append/forward the XFCC header before proxying the request.

                      If not set, the default behavior is sanitizing the XFCC header.
                    properties:
                      certDetailsToAdd:
                        description: |-
                          CertDetailsToAdd specifies the fields in the client certificate to be forwarded in the XFCC header.

                          Hash(the SHA 256 digest of the current client certificate) and By(the Subject Alternative Name)
                          are always included if the client certificate is forwarded.

                          This field is only applicable when the mode is set to `AppendForward` or
                          `SanitizeSet` and the client connection is mTLS.
                        items:
                          description: XFCCCertData specifies the fields in the client
                            certificate to be forwarded in the XFCC header.
                          enum:
                          - Subject
                          - Cert
                          - Chain
                          - DNS
                          - URI
                          type: string
                        maxItems: 5
                        type: array
                      mode:
                        description: |-
                          Mode defines how XFCC header is handled by Envoy Proxy.
                          If not set, the default mode is `Sanitize`.
                        enum:
                        - Sanitize
                        - ForwardOnly
                        - AppendForward
                        - SanitizeSet
                        - AlwaysForwardOnly
                        type: string
                    type: object
                    x-kubernetes-validations:
                    - message: certDetailsToAdd can only be set when mode is AppendForward
                        or SanitizeSet
                      rule: '(has(self.certDetailsToAdd) && self.certDetailsToAdd.size()
                        > 0) ? (self.mode == ''AppendForward'' || self.mode == ''SanitizeSet'')
                        : true'
                type: object
                x-kubernetes-validations:
                - message: preserveXRequestID and requestID cannot both be set.
                  rule: '!(has(self.preserveXRequestID) && has(self.requestID))'
              healthCheck:
                description: HealthCheck provides configuration for determining whether
                  the HTTP/HTTPS listener is healthy.
                properties:
                  path:
                    description: Path specifies the HTTP path to match on for health
                      check requests.
                    maxLength: 1024
                    minLength: 1
                    type: string
                required:
                - path
                type: object
              http1:
                description: HTTP1 provides HTTP/1 configuration on the listener.
                properties:
                  enableTrailers:
                    description: EnableTrailers defines if HTTP/1 trailers should
                      be proxied by Envoy.
                    type: boolean
                  http10:
                    description: HTTP10 turns on support for HTTP/1.0 and HTTP/0.9
                      requests.
                    properties:
                      useDefaultHost:
                        description: |-
                          UseDefaultHost defines if the HTTP/1.0 request is missing the Host header,
                          then the hostname associated with the listener should be injected into the
                          request.
                          If this is not set and an HTTP/1.0 request arrives without a host, then
                          it will be rejected.
                        type: boolean
                    type: object
                  preserveHeaderCase:
                    description: |-
                      PreserveHeaderCase defines if Envoy should preserve the letter case of headers.
                      By default, Envoy will lowercase all the headers.
                    type: boolean
                type: object
              http2:
                description: HTTP2 provides HTTP/2 configuration on the listener.
                properties:
                  initialConnectionWindowSize:
                    allOf:
                    - pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                    - pattern: ^[1-9]+[0-9]*([EPTGMK]i|[EPTGMk])?$
                    anyOf:
                    - type: integer
                    - type: string
                    description: |-
                      InitialConnectionWindowSize sets the initial window size for HTTP/2 connections.
                      If not set, the default value is 1 MiB.
                    x-kubernetes-int-or-string: true
                  initialStreamWindowSize:
                    allOf:
                    - pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                    - pattern: ^[1-9]+[0-9]*([EPTGMK]i|[EPTGMk])?$
                    anyOf:
                    - type: integer
                    - type: string
                    description: |-
                      InitialStreamWindowSize sets the initial window size for HTTP/2 streams.
                      If not set, the default value is 64 KiB(64*1024).
                    x-kubernetes-int-or-string: true
                  maxConcurrentStreams:
                    description: |-
                      MaxConcurrentStreams sets the maximum number of concurrent streams allowed per connection.
                      If not set, the default value is 100.
                    format: int32
                    maximum: 2147483647
                    minimum: 1
                    type: integer
                  onInvalidMessage:
                    description: |-
                      OnInvalidMessage determines if Envoy will terminate the connection or just the offending stream in the event of HTTP messaging error
                      It's recommended for L2 Envoy deployments to set this value to TerminateStream.
                      https://www.envoyproxy.io/docs/envoy/latest/configuration/best_practices/level_two
                      Default: TerminateConnection
                    type: string
                type: object
              http3:
                description: HTTP3 provides HTTP/3 configuration on the listener.
                type: object
              path:
                description: Path enables managing how the incoming path set by clients
                  can be normalized.
                properties:
                  disableMergeSlashes:
                    description: |-
                      DisableMergeSlashes allows disabling the default configuration of merging adjacent
                      slashes in the path.
                      Note that slash merging is not part of the HTTP spec and is provided for convenience.
                    type: boolean
                  escapedSlashesAction:
                    description: |-
                      EscapedSlashesAction determines how %2f, %2F, %5c, or %5C sequences in the path URI
                      should be handled.
                      The default is UnescapeAndRedirect.
                    enum:
                    - KeepUnchanged
                    - RejectRequest
                    - UnescapeAndForward
                    - UnescapeAndRedirect
                    type: string
                type: object
              targetRef:
                description: |-
                  TargetRef is the name of the resource this policy is being attached to.
                  This policy and the TargetRef MUST be in the same namespace for this
                  Policy to have effect

                  Deprecated: use targetRefs/targetSelectors instead
                properties:
                  group:
                    description: Group is the group of the target resource.
                    maxLength: 253
                    pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                    type: string
                  kind:
                    description: Kind is kind of the target resource.
                    maxLength: 63
                    minLength: 1
                    pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                    type: string
                  name:
                    description: Name is the name of the target resource.
                    maxLength: 253
                    minLength: 1
                    type: string
                  sectionName:
                    description: |-
                      SectionName is the name of a section within the target resource. When
                      unspecified, this targetRef targets the entire resource. In the following
                      resources, SectionName is interpreted as the following:

                      * Gateway: Listener name
                      * HTTPRoute: HTTPRouteRule name
                      * Service: Port name

                      If a SectionName is specified, but does not exist on the targeted object,
                      the Policy must fail to attach, and the policy implementation should record
                      a `ResolvedRefs` or similar Condition in the Policy's status.
                    maxLength: 253
                    minLength: 1
                    pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                    type: string
                required:
                - group
                - kind
                - name
                type: object
              targetRefs:
                description: |-
                  TargetRefs are the names of the Gateway resources this policy
                  is being attached to.
                items:
                  description: |-
                    LocalPolicyTargetReferenceWithSectionName identifies an API object to apply a
                    direct policy to. This should be used as part of Policy resources that can
                    target single resources. For more information on how this policy attachment
                    mode works, and a sample Policy resource, refer to the policy attachment
                    documentation for Gateway API.

                    Note: This should only be used for direct policy attachment when references
                    to SectionName are actually needed. In all other cases,
                    LocalPolicyTargetReference should be used.
                  properties:
                    group:
                      description: Group is the group of the target resource.
                      maxLength: 253
                      pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                      type: string
                    kind:
                      description: Kind is kind of the target resource.
                      maxLength: 63
                      minLength: 1
                      pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                      type: string
                    name:
                      description: Name is the name of the target resource.
                      maxLength: 253
                      minLength: 1
                      type: string
                    sectionName:
                      description: |-
                        SectionName is the name of a section within the target resource. When
                        unspecified, this targetRef targets the entire resource. In the following
                        resources, SectionName is interpreted as the following:

                        * Gateway: Listener name
                        * HTTPRoute: HTTPRouteRule name
                        * Service: Port name

                        If a SectionName is specified, but does not exist on the targeted object,
                        the Policy must fail to attach, and the policy implementation should record
                        a `ResolvedRefs` or similar Condition in the Policy's status.
                      maxLength: 253
                      minLength: 1
                      pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                      type: string
                  required:
                  - group
                  - kind
                  - name
                  type: object
                type: array
              targetSelectors:
                description: TargetSelectors allow targeting resources for this policy
                  based on labels
                items:
                  properties:
                    group:
                      default: gateway.networking.k8s.io
                      description: Group is the group that this selector targets.
                        Defaults to gateway.networking.k8s.io
                      maxLength: 253
                      pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                      type: string
                    kind:
                      description: Kind is the resource kind that this selector targets.
                      maxLength: 63
                      minLength: 1
                      pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                      type: string
                    matchExpressions:
                      description: MatchExpressions is a list of label selector requirements.
                        The requirements are ANDed.
                      items:
                        description: |-
                          A label selector requirement is a selector that contains values, a key, and an operator that
                          relates the key and values.
                        properties:
                          key:
                            description: key is the label key that the selector applies
                              to.
                            type: string
                          operator:
                            description: |-
                              operator represents a key's relationship to a set of values.
                              Valid operators are In, NotIn, Exists and DoesNotExist.
                            type: string
                          values:
                            description: |-
                              values is an array of string values. If the operator is In or NotIn,
                              the values array must be non-empty. If the operator is Exists or DoesNotExist,
                              the values array must be empty. This array is replaced during a strategic
                              merge patch.
                            items:
                              type: string
                            type: array
                            x-kubernetes-list-type: atomic
                        required:
                        - key
                        - operator
                        type: object
                      type: array
                      x-kubernetes-list-type: atomic
                    matchLabels:
                      additionalProperties:
                        type: string
                      description: MatchLabels are the set of label selectors for
                        identifying the targeted resource
                      type: object
                  required:
                  - kind
                  type: object
                  x-kubernetes-validations:
                  - message: group must be gateway.networking.k8s.io
                    rule: 'has(self.group) ? self.group == ''gateway.networking.k8s.io''
                      : true '
                type: array
              tcpKeepalive:
                description: |-
                  TcpKeepalive settings associated with the downstream client connection.
                  If defined, sets SO_KEEPALIVE on the listener socket to enable TCP Keepalives.
                  Disabled by default.
                properties:
                  idleTime:
                    description: |-
                      The duration a connection needs to be idle before keep-alive
                      probes start being sent.
                      The duration format is
                      Defaults to `7200s`.
                    pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                    type: string
                  interval:
                    description: |-
                      The duration between keep-alive probes.
                      Defaults to `75s`.
                    pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                    type: string
                  probes:
                    description: |-
                      The total number of unacknowledged probes to send before deciding
                      the connection is dead.
                      Defaults to 9.
                    format: int32
                    type: integer
                type: object
              timeout:
                description: Timeout settings for the client connections.
                properties:
                  http:
                    description: Timeout settings for HTTP.
                    properties:
                      idleTimeout:
                        description: |-
                          IdleTimeout for an HTTP connection. Idle time is defined as a period in which there are no active requests in the connection.
                          Default: 1 hour.
                        pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                        type: string
                      requestReceivedTimeout:
                        description: |-
                          RequestReceivedTimeout is the duration envoy waits for the complete request reception. This timer starts upon request
                          initiation and stops when either the last byte of the request is sent upstream or when the response begins.
                        pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                        type: string
                    type: object
                  tcp:
                    description: Timeout settings for TCP.
                    properties:
                      idleTimeout:
                        description: |-
                          IdleTimeout for a TCP connection. Idle time is defined as a period in which there are no
                          bytes sent or received on either the upstream or downstream connection.
                          Default: 1 hour.
                        pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                        type: string
                    type: object
                type: object
              tls:
                description: TLS settings configure TLS termination settings with
                  the downstream client.
                properties:
                  alpnProtocols:
                    description: |-
                      ALPNProtocols supplies the list of ALPN protocols that should be
                      exposed by the listener or used by the proxy to connect to the backend.
                      Defaults:
                      1. HTTPS Routes: h2 and http/1.1 are enabled in listener context.
                      2. Other Routes: ALPN is disabled.
                      3. Backends: proxy uses the appropriate ALPN options for the backend protocol.
                      When an empty list is provided, the ALPN TLS extension is disabled.
                      Supported values are:
                      - http/1.0
                      - http/1.1
                      - h2
                    items:
                      description: ALPNProtocol specifies the protocol to be negotiated
                        using ALPN
                      enum:
                      - http/1.0
                      - http/1.1
                      - h2
                      type: string
                    type: array
                  ciphers:
                    description: |-
                      Ciphers specifies the set of cipher suites supported when
                      negotiating TLS 1.0 - 1.2. This setting has no effect for TLS 1.3.
                      In non-FIPS Envoy Proxy builds the default cipher list is:
                      - [ECDHE-ECDSA-AES128-GCM-SHA256|ECDHE-ECDSA-CHACHA20-POLY1305]
                      - [ECDHE-RSA-AES128-GCM-SHA256|ECDHE-RSA-CHACHA20-POLY1305]
                      - ECDHE-ECDSA-AES256-GCM-SHA384
                      - ECDHE-RSA-AES256-GCM-SHA384
                      In builds using BoringSSL FIPS the default cipher list is:
                      - ECDHE-ECDSA-AES128-GCM-SHA256
                      - ECDHE-RSA-AES128-GCM-SHA256
                      - ECDHE-ECDSA-AES256-GCM-SHA384
                      - ECDHE-RSA-AES256-GCM-SHA384
                    items:
                      type: string
                    type: array
                  clientValidation:
                    description: |-
                      ClientValidation specifies the configuration to validate the client
                      initiating the TLS connection to the Gateway listener.
                    properties:
                      caCertificateRefs:
                        description: |-
                          CACertificateRefs contains one or more references to
                          Kubernetes objects that contain TLS certificates of
                          the Certificate Authorities that can be used
                          as a trust anchor to validate the certificates presented by the client.

                          A single reference to a Kubernetes ConfigMap or a Kubernetes Secret,
                          with the CA certificate in a key named `ca.crt` is currently supported.

                          References to a resource in different namespace are invalid UNLESS there
                          is a ReferenceGrant in the target namespace that allows the certificate
                          to be attached.
                        items:
                          description: |-
                            SecretObjectReference identifies an API object including its namespace,
                            defaulting to Secret.

                            The API object must be valid in the cluster; the Group and Kind must
                            be registered in the cluster for this reference to be valid.

                            References to objects with invalid Group and Kind are not valid, and must
                            be rejected by the implementation, with appropriate Conditions set
                            on the containing object.
                          properties:
                            group:
                              default: ""
                              description: |-
                                Group is the group of the referent. For example, "gateway.networking.k8s.io".
                                When unspecified or empty string, core API group is inferred.
                              maxLength: 253
                              pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                              type: string
                            kind:
                              default: Secret
                              description: Kind is kind of the referent. For example
                                "Secret".
                              maxLength: 63
                              minLength: 1
                              pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                              type: string
                            name:
                              description: Name is the name of the referent.
                              maxLength: 253
                              minLength: 1
                              type: string
                            namespace:
                              description: |-
                                Namespace is the namespace of the referenced object. When unspecified, the local
                                namespace is inferred.

                                Note that when a namespace different than the local namespace is specified,
                                a ReferenceGrant object is required in the referent namespace to allow that
                                namespace's owner to accept the reference. See the ReferenceGrant
                                documentation for details.

                                Support: Core
                              maxLength: 63
                              minLength: 1
                              pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                              type: string
                          required:
                          - name
                          type: object
                        maxItems: 8
                        type: array
                      optional:
                        description: |-
                          Optional set to true accepts connections even when a client doesn't present a certificate.
                          Defaults to false, which rejects connections without a valid client certificate.
                        type: boolean
                    type: object
                  ecdhCurves:
                    description: |-
                      ECDHCurves specifies the set of supported ECDH curves.
                      In non-FIPS Envoy Proxy builds the default curves are:
                      - X25519
                      - P-256
                      In builds using BoringSSL FIPS the default curve is:
                      - P-256
                    items:
                      type: string
                    type: array
                  maxVersion:
                    description: |-
                      Max specifies the maximal TLS protocol version to allow
                      The default is TLS 1.3 if this is not specified.
                    enum:
                    - Auto
                    - "1.0"
                    - "1.1"
                    - "1.2"
                    - "1.3"
                    type: string
                  minVersion:
                    description: |-
                      Min specifies the minimal TLS protocol version to allow.
                      The default is TLS 1.2 if this is not specified.
                    enum:
                    - Auto
                    - "1.0"
                    - "1.1"
                    - "1.2"
                    - "1.3"
                    type: string
                  session:
                    description: Session defines settings related to TLS session management.
                    properties:
                      resumption:
                        description: |-
                          Resumption determines the proxy's supported TLS session resumption option.
                          By default, Envoy Gateway does not enable session resumption. Use sessionResumption to
                          enable stateful and stateless session resumption. Users should consider security impacts
                          of different resumption methods. Performance gains from resumption are diminished when
                          Envoy proxy is deployed with more than one replica.
                        properties:
                          stateful:
                            description: Stateful defines setting for stateful (session-id
                              based) session resumption
                            type: object
                          stateless:
                            description: Stateless defines setting for stateless (session-ticket
                              based) session resumption
                            type: object
                        type: object
                    type: object
                  signatureAlgorithms:
                    description: |-
                      SignatureAlgorithms specifies which signature algorithms the listener should
                      support.
                    items:
                      type: string
                    type: array
                type: object
                x-kubernetes-validations:
                - message: setting ciphers has no effect if the minimum possible TLS
                    version is 1.3
                  rule: 'has(self.minVersion) && self.minVersion == ''1.3'' ? !has(self.ciphers)
                    : true'
                - message: minVersion must be smaller or equal to maxVersion
                  rule: 'has(self.minVersion) && has(self.maxVersion) ? {"Auto":0,"1.0":1,"1.1":2,"1.2":3,"1.3":4}[self.minVersion]
                    <= {"1.0":1,"1.1":2,"1.2":3,"1.3":4,"Auto":5}[self.maxVersion]
                    : !has(self.minVersion) && has(self.maxVersion) ? 3 <= {"1.0":1,"1.1":2,"1.2":3,"1.3":4,"Auto":5}[self.maxVersion]
                    : true'
            type: object
            x-kubernetes-validations:
            - message: either targetRef or targetRefs must be used
              rule: '(has(self.targetRef) && !has(self.targetRefs)) || (!has(self.targetRef)
                && has(self.targetRefs)) || (has(self.targetSelectors) && self.targetSelectors.size()
                > 0) '
            - message: this policy can only have a targetRef.group of gateway.networking.k8s.io
              rule: 'has(self.targetRef) ? self.targetRef.group == ''gateway.networking.k8s.io''
                : true'
            - message: this policy can only have a targetRef.kind of Gateway
              rule: 'has(self.targetRef) ? self.targetRef.kind == ''Gateway'' : true'
            - message: this policy can only have a targetRefs[*].group of gateway.networking.k8s.io
              rule: 'has(self.targetRefs) ? self.targetRefs.all(ref, ref.group ==
                ''gateway.networking.k8s.io'') : true'
            - message: this policy can only have a targetRefs[*].kind of Gateway
              rule: 'has(self.targetRefs) ? self.targetRefs.all(ref, ref.kind == ''Gateway'')
                : true'
          status:
            description: Status defines the current status of ClientTrafficPolicy.
            properties:
              ancestors:
                description: |-
                  Ancestors is a list of ancestor resources (usually Gateways) that are
                  associated with the policy, and the status of the policy with respect to
                  each ancestor. When this policy attaches to a parent, the controller that
                  manages the parent and the ancestors MUST add an entry to this list when
                  the controller first sees the policy and SHOULD update the entry as
                  appropriate when the relevant ancestor is modified.

                  Note that choosing the relevant ancestor is left to the Policy designers;
                  an important part of Policy design is designing the right object level at
                  which to namespace this status.

                  Note also that implementations MUST ONLY populate ancestor status for
                  the Ancestor resources they are responsible for. Implementations MUST
                  use the ControllerName field to uniquely identify the entries in this list
                  that they are responsible for.

                  Note that to achieve this, the list of PolicyAncestorStatus structs
                  MUST be treated as a map with a composite key, made up of the AncestorRef
                  and ControllerName fields combined.

                  A maximum of 16 ancestors will be represented in this list. An empty list
                  means the Policy is not relevant for any ancestors.

                  If this slice is full, implementations MUST NOT add further entries.
                  Instead they MUST consider the policy unimplementable and signal that
                  on any related resources such as the ancestor that would be referenced
                  here. For example, if this list was full on BackendTLSPolicy, no
                  additional Gateways would be able to reference the Service targeted by
                  the BackendTLSPolicy.
                items:
                  description: |-
                    PolicyAncestorStatus describes the status of a route with respect to an
                    associated Ancestor.

                    Ancestors refer to objects that are either the Target of a policy or above it
                    in terms of object hierarchy. For example, if a policy targets a Service, the
                    Policy's Ancestors are, in order, the Service, the HTTPRoute, the Gateway, and
                    the GatewayClass. Almost always, in this hierarchy, the Gateway will be the most
                    useful object to place Policy status on, so we recommend that implementations
                    SHOULD use Gateway as the PolicyAncestorStatus object unless the designers
                    have a _very_ good reason otherwise.

                    In the context of policy attachment, the Ancestor is used to distinguish which
                    resource results in a distinct application of this policy. For example, if a policy
                    targets a Service, it may have a distinct result per attached Gateway.

                    Policies targeting the same resource may have different effects depending on the
                    ancestors of those resources. For example, different Gateways targeting the same
                    Service may have different capabilities, especially if they have different underlying
                    implementations.

                    For example, in BackendTLSPolicy, the Policy attaches to a Service that is
                    used as a backend in a HTTPRoute that is itself attached to a Gateway.
                    In this case, the relevant object for status is the Gateway, and that is the
                    ancestor object referred to in this status.

                    Note that a parent is also an ancestor, so for objects where the parent is the
                    relevant object for status, this struct SHOULD still be used.

                    This struct is intended to be used in a slice that's effectively a map,
                    with a composite key made up of the AncestorRef and the ControllerName.
                  properties:
                    ancestorRef:
                      description: |-
                        AncestorRef corresponds with a ParentRef in the spec that this
                        PolicyAncestorStatus struct describes the status of.
                      properties:
                        group:
                          default: gateway.networking.k8s.io
                          description: |-
                            Group is the group of the referent.
                            When unspecified, "gateway.networking.k8s.io" is inferred.
                            To set the core API group (such as for a "Service" kind referent),
                            Group must be explicitly set to "" (empty string).

                            Support: Core
                          maxLength: 253
                          pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                          type: string
                        kind:
                          default: Gateway
                          description: |-
                            Kind is kind of the referent.

                            There are two kinds of parent resources with "Core" support:

                            * Gateway (Gateway conformance profile)
                            * Service (Mesh conformance profile, ClusterIP Services only)

                            Support for other resources is Implementation-Specific.
                          maxLength: 63
                          minLength: 1
                          pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                          type: string
                        name:
                          description: |-
                            Name is the name of the referent.

                            Support: Core
                          maxLength: 253
                          minLength: 1
                          type: string
                        namespace:
                          description: |-
                            Namespace is the namespace of the referent. When unspecified, this refers
                            to the local namespace of the Route.

                            Note that there are specific rules for ParentRefs which cross namespace
                            boundaries. Cross-namespace references are only valid if they are explicitly
                            allowed by something in the namespace they are referring to. For example:
                            Gateway has the AllowedRoutes field, and ReferenceGrant provides a
                            generic way to enable any other kind of cross-namespace reference.

                            <gateway:experimental:description>
                            ParentRefs from a Route to a Service in the same namespace are "producer"
                            routes, which apply default routing rules to inbound connections from
                            any namespace to the Service.

                            ParentRefs from a Route to a Service in a different namespace are
                            "consumer" routes, and these routing rules are only applied to outbound
                            connections originating from the same namespace as the Route, for which
                            the intended destination of the connections are a Service targeted as a
                            ParentRef of the Route.
                            </gateway:experimental:description>

                            Support: Core
                          maxLength: 63
                          minLength: 1
                          pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                          type: string
                        port:
                          description: |-
                            Port is the network port this Route targets. It can be interpreted
                            differently based on the type of parent resource.

                            When the parent resource is a Gateway, this targets all listeners
                            listening on the specified port that also support this kind of Route(and
                            select this Route). It's not recommended to set `Port` unless the
                            networking behaviors specified in a Route must apply to a specific port
                            as opposed to a listener(s) whose port(s) may be changed. When both Port
                            and SectionName are specified, the name and port of the selected listener
                            must match both specified values.

                            <gateway:experimental:description>
                            When the parent resource is a Service, this targets a specific port in the
                            Service spec. When both Port (experimental) and SectionName are specified,
                            the name and port of the selected port must match both specified values.
                            </gateway:experimental:description>

                            Implementations MAY choose to support other parent resources.
                            Implementations supporting other types of parent resources MUST clearly
                            document how/if Port is interpreted.

                            For the purpose of status, an attachment is considered successful as
                            long as the parent resource accepts it partially. For example, Gateway
                            listeners can restrict which Routes can attach to them by Route kind,
                            namespace, or hostname. If 1 of 2 Gateway listeners accept attachment
                            from the referencing Route, the Route MUST be considered successfully
                            attached. If no Gateway listeners accept attachment from this Route,
                            the Route MUST be considered detached from the Gateway.

                            Support: Extended
                          format: int32
                          maximum: 65535
                          minimum: 1
                          type: integer
                        sectionName:
                          description: |-
                            SectionName is the name of a section within the target resource. In the
                            following resources, SectionName is interpreted as the following:

                            * Gateway: Listener name. When both Port (experimental) and SectionName
                            are specified, the name and port of the selected listener must match
                            both specified values.
                            * Service: Port name. When both Port (experimental) and SectionName
                            are specified, the name and port of the selected listener must match
                            both specified values.

                            Implementations MAY choose to support attaching Routes to other resources.
                            If that is the case, they MUST clearly document how SectionName is
                            interpreted.

                            When unspecified (empty string), this will reference the entire resource.
                            For the purpose of status, an attachment is considered successful if at
                            least one section in the parent resource accepts it. For example, Gateway
                            listeners can restrict which Routes can attach to them by Route kind,
                            namespace, or hostname. If 1 of 2 Gateway listeners accept attachment from
                            the referencing Route, the Route MUST be considered successfully
                            attached. If no Gateway listeners accept attachment from this Route, the
                            Route MUST be considered detached from the Gateway.

                            Support: Core
                          maxLength: 253
                          minLength: 1
                          pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                          type: string
                      required:
                      - name
                      type: object
                    conditions:
                      description: Conditions describes the status of the Policy with
                        respect to the given Ancestor.
                      items:
                        description: Condition contains details for one aspect of
                          the current state of this API Resource.
                        properties:
                          lastTransitionTime:
                            description: |-
                              lastTransitionTime is the last time the condition transitioned from one status to another.
                              This should be when the underlying condition changed.  If that is not known, then using the time when the API field changed is acceptable.
                            format: date-time
                            type: string
                          message:
                            description: |-
                              message is a human readable message indicating details about the transition.
                              This may be an empty string.
                            maxLength: 32768
                            type: string
                          observedGeneration:
                            description: |-
                              observedGeneration represents the .metadata.generation that the condition was set based upon.
                              For instance, if .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration is 9, the condition is out of date
                              with respect to the current state of the instance.
                            format: int64
                            minimum: 0
                            type: integer
                          reason:
                            description: |-
                              reason contains a programmatic identifier indicating the reason for the condition's last transition.
                              Producers of specific condition types may define expected values and meanings for this field,
                              and whether the values are considered a guaranteed API.
                              The value should be a CamelCase string.
                              This field may not be empty.
                            maxLength: 1024
                            minLength: 1
                            pattern: ^[A-Za-z]([A-Za-z0-9_,:]*[A-Za-z0-9_])?$
                            type: string
                          status:
                            description: status of the condition, one of True, False,
                              Unknown.
                            enum:
                            - "True"
                            - "False"
                            - Unknown
                            type: string
                          type:
                            description: type of condition in CamelCase or in foo.example.com/CamelCase.
                            maxLength: 316
                            pattern: ^([a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*/)?(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])$
                            type: string
                        required:
                        - lastTransitionTime
                        - message
                        - reason
                        - status
                        - type
                        type: object
                      maxItems: 8
                      minItems: 1
                      type: array
                      x-kubernetes-list-map-keys:
                      - type
                      x-kubernetes-list-type: map
                    controllerName:
                      description: |-
                        ControllerName is a domain/path string that indicates the name of the
                        controller that wrote this status. This corresponds with the
                        controllerName field on GatewayClass.

                        Example: "example.net/gateway-controller".

                        The format of this field is DOMAIN "/" PATH, where DOMAIN and PATH are
                        valid Kubernetes names
                        (https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names).

                        Controllers MUST populate this field when writing status. Controllers should ensure that
                        entries to status populated with their ControllerName are cleaned up when they are no
                        longer necessary.
                      maxLength: 253
                      minLength: 1
                      pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*\/[A-Za-z0-9\/\-._~%!$&'()*+,;=:]+$
                      type: string
                  required:
                  - ancestorRef
                  - controllerName
                  type: object
                maxItems: 16
                type: array
            required:
            - ancestors
            type: object
        required:
        - spec
        type: object
    served: true
    storage: true
    subresources:
      status: {}
---
# Source: gateway-crds-helm/templates/generated/gateway.envoyproxy.io_envoyextensionpolicies.yaml
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.17.3
  name: envoyextensionpolicies.gateway.envoyproxy.io
spec:
  group: gateway.envoyproxy.io
  names:
    kind: EnvoyExtensionPolicy
    listKind: EnvoyExtensionPolicyList
    plural: envoyextensionpolicies
    shortNames:
    - eep
    singular: envoyextensionpolicy
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - jsonPath: .metadata.creationTimestamp
      name: Age
      type: date
    name: v1alpha1
    schema:
      openAPIV3Schema:
        description: EnvoyExtensionPolicy allows the user to configure various envoy
          extensibility options for the Gateway.
        properties:
          apiVersion:
            description: |-
              APIVersion defines the versioned schema of this representation of an object.
              Servers should convert recognized schemas to the latest internal value, and
              may reject unrecognized values.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
            type: string
          kind:
            description: |-
              Kind is a string value representing the REST resource this object represents.
              Servers may infer this from the endpoint the client submits requests to.
              Cannot be updated.
              In CamelCase.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
            type: string
          metadata:
            type: object
          spec:
            description: Spec defines the desired state of EnvoyExtensionPolicy.
            properties:
              extProc:
                description: |-
                  ExtProc is an ordered list of external processing filters
                  that should be added to the envoy filter chain
                items:
                  description: ExtProc defines the configuration for External Processing
                    filter.
                  properties:
                    backendRef:
                      description: |-
                        BackendRef references a Kubernetes object that represents the
                        backend server to which the authorization request will be sent.

                        Deprecated: Use BackendRefs instead.
                      properties:
                        group:
                          default: ""
                          description: |-
                            Group is the group of the referent. For example, "gateway.networking.k8s.io".
                            When unspecified or empty string, core API group is inferred.
                          maxLength: 253
                          pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                          type: string
                        kind:
                          default: Service
                          description: |-
                            Kind is the Kubernetes resource kind of the referent. For example
                            "Service".

                            Defaults to "Service" when not specified.

                            ExternalName services can refer to CNAME DNS records that may live
                            outside of the cluster and as such are difficult to reason about in
                            terms of conformance. They also may not be safe to forward to (see
                            CVE-2021-25740 for more information). Implementations SHOULD NOT
                            support ExternalName Services.

                            Support: Core (Services with a type other than ExternalName)

                            Support: Implementation-specific (Services with type ExternalName)
                          maxLength: 63
                          minLength: 1
                          pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                          type: string
                        name:
                          description: Name is the name of the referent.
                          maxLength: 253
                          minLength: 1
                          type: string
                        namespace:
                          description: |-
                            Namespace is the namespace of the backend. When unspecified, the local
                            namespace is inferred.

                            Note that when a namespace different than the local namespace is specified,
                            a ReferenceGrant object is required in the referent namespace to allow that
                            namespace's owner to accept the reference. See the ReferenceGrant
                            documentation for details.

                            Support: Core
                          maxLength: 63
                          minLength: 1
                          pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                          type: string
                        port:
                          description: |-
                            Port specifies the destination port number to use for this resource.
                            Port is required when the referent is a Kubernetes Service. In this
                            case, the port number is the service port number, not the target port.
                            For other resources, destination port might be derived from the referent
                            resource or this field.
                          format: int32
                          maximum: 65535
                          minimum: 1
                          type: integer
                      required:
                      - name
                      type: object
                      x-kubernetes-validations:
                      - message: Must have port for Service reference
                        rule: '(size(self.group) == 0 && self.kind == ''Service'')
                          ? has(self.port) : true'
                    backendRefs:
                      description: |-
                        BackendRefs references a Kubernetes object that represents the
                        backend server to which the authorization request will be sent.
                      items:
                        description: BackendRef defines how an ObjectReference that
                          is specific to BackendRef.
                        properties:
                          fallback:
                            description: |-
                              Fallback indicates whether the backend is designated as a fallback.
                              Multiple fallback backends can be configured.
                              It is highly recommended to configure active or passive health checks to ensure that failover can be detected
                              when the active backends become unhealthy and to automatically readjust once the primary backends are healthy again.
                              The overprovisioning factor is set to 1.4, meaning the fallback backends will only start receiving traffic when
                              the health of the active backends falls below 72%.
                            type: boolean
                          group:
                            default: ""
                            description: |-
                              Group is the group of the referent. For example, "gateway.networking.k8s.io".
                              When unspecified or empty string, core API group is inferred.
                            maxLength: 253
                            pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                            type: string
                          kind:
                            default: Service
                            description: |-
                              Kind is the Kubernetes resource kind of the referent. For example
                              "Service".

                              Defaults to "Service" when not specified.

                              ExternalName services can refer to CNAME DNS records that may live
                              outside of the cluster and as such are difficult to reason about in
                              terms of conformance. They also may not be safe to forward to (see
                              CVE-2021-25740 for more information). Implementations SHOULD NOT
                              support ExternalName Services.

                              Support: Core (Services with a type other than ExternalName)

                              Support: Implementation-specific (Services with type ExternalName)
                            maxLength: 63
                            minLength: 1
                            pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                            type: string
                          name:
                            description: Name is the name of the referent.
                            maxLength: 253
                            minLength: 1
                            type: string
                          namespace:
                            description: |-
                              Namespace is the namespace of the backend. When unspecified, the local
                              namespace is inferred.

                              Note that when a namespace different than the local namespace is specified,
                              a ReferenceGrant object is required in the referent namespace to allow that
                              namespace's owner to accept the reference. See the ReferenceGrant
                              documentation for details.

                              Support: Core
                            maxLength: 63
                            minLength: 1
                            pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                            type: string
                          port:
                            description: |-
                              Port specifies the destination port number to use for this resource.
                              Port is required when the referent is a Kubernetes Service. In this
                              case, the port number is the service port number, not the target port.
                              For other resources, destination port might be derived from the referent
                              resource or this field.
                            format: int32
                            maximum: 65535
                            minimum: 1
                            type: integer
                        required:
                        - name
                        type: object
                        x-kubernetes-validations:
                        - message: Must have port for Service reference
                          rule: '(size(self.group) == 0 && self.kind == ''Service'')
                            ? has(self.port) : true'
                      maxItems: 16
                      type: array
                    backendSettings:
                      description: |-
                        BackendSettings holds configuration for managing the connection
                        to the backend.
                      properties:
                        circuitBreaker:
                          description: |-
                            Circuit Breaker settings for the upstream connections and requests.
                            If not set, circuit breakers will be enabled with the default thresholds
                          properties:
                            maxConnections:
                              default: 1024
                              description: The maximum number of connections that
                                Envoy will establish to the referenced backend defined
                                within a xRoute rule.
                              format: int64
                              maximum: 4294967295
                              minimum: 0
                              type: integer
                            maxParallelRequests:
                              default: 1024
                              description: The maximum number of parallel requests
                                that Envoy will make to the referenced backend defined
                                within a xRoute rule.
                              format: int64
                              maximum: 4294967295
                              minimum: 0
                              type: integer
                            maxParallelRetries:
                              default: 1024
                              description: The maximum number of parallel retries
                                that Envoy will make to the referenced backend defined
                                within a xRoute rule.
                              format: int64
                              maximum: 4294967295
                              minimum: 0
                              type: integer
                            maxPendingRequests:
                              default: 1024
                              description: The maximum number of pending requests
                                that Envoy will queue to the referenced backend defined
                                within a xRoute rule.
                              format: int64
                              maximum: 4294967295
                              minimum: 0
                              type: integer
                            maxRequestsPerConnection:
                              description: |-
                                The maximum number of requests that Envoy will make over a single connection to the referenced backend defined within a xRoute rule.
                                Default: unlimited.
                              format: int64
                              maximum: 4294967295
                              minimum: 0
                              type: integer
                            perEndpoint:
                              description: PerEndpoint defines Circuit Breakers that
                                will apply per-endpoint for an upstream cluster
                              properties:
                                maxConnections:
                                  default: 1024
                                  description: MaxConnections configures the maximum
                                    number of connections that Envoy will establish
                                    per-endpoint to the referenced backend defined
                                    within a xRoute rule.
                                  format: int64
                                  maximum: 4294967295
                                  minimum: 0
                                  type: integer
                              type: object
                          type: object
                        connection:
                          description: Connection includes backend connection settings.
                          properties:
                            bufferLimit:
                              allOf:
                              - pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                              - pattern: ^[1-9]+[0-9]*([EPTGMK]i|[EPTGMk])?$
                              anyOf:
                              - type: integer
                              - type: string
                              description: |-
                                BufferLimit Soft limit on size of the cluster’s connections read and write buffers.
                                BufferLimit applies to connection streaming (maybe non-streaming) channel between processes, it's in user space.
                                If unspecified, an implementation defined default is applied (32768 bytes).
                                For example, 20Mi, 1Gi, 256Ki etc.
                                Note: that when the suffix is not provided, the value is interpreted as bytes.
                              x-kubernetes-int-or-string: true
                            socketBufferLimit:
                              allOf:
                              - pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                              - pattern: ^[1-9]+[0-9]*([EPTGMK]i|[EPTGMk])?$
                              anyOf:
                              - type: integer
                              - type: string
                              description: |-
                                SocketBufferLimit provides configuration for the maximum buffer size in bytes for each socket
                                to backend.
                                SocketBufferLimit applies to socket streaming channel between TCP/IP stacks, it's in kernel space.
                                For example, 20Mi, 1Gi, 256Ki etc.
                                Note that when the suffix is not provided, the value is interpreted as bytes.
                              x-kubernetes-int-or-string: true
                          type: object
                        dns:
                          description: DNS includes dns resolution settings.
                          properties:
                            dnsRefreshRate:
                              description: |-
                                DNSRefreshRate specifies the rate at which DNS records should be refreshed.
                                Defaults to 30 seconds.
                              type: string
                            lookupFamily:
                              description: |-
                                LookupFamily determines how Envoy would resolve DNS for Routes where the backend is specified as a fully qualified domain name (FQDN).
                                If set, this configuration overrides other defaults.
                              enum:
                              - IPv4
                              - IPv6
                              - IPv4Preferred
                              - IPv6Preferred
                              - IPv4AndIPv6
                              type: string
                            respectDnsTtl:
                              description: |-
                                RespectDNSTTL indicates whether the DNS Time-To-Live (TTL) should be respected.
                                If the value is set to true, the DNS refresh rate will be set to the resource record’s TTL.
                                Defaults to true.
                              type: boolean
                          type: object
                        healthCheck:
                          description: HealthCheck allows gateway to perform active
                            health checking on backends.
                          properties:
                            active:
                              description: Active health check configuration
                              properties:
                                grpc:
                                  description: |-
                                    GRPC defines the configuration of the GRPC health checker.
                                    It's optional, and can only be used if the specified type is GRPC.
                                  properties:
                                    service:
                                      description: |-
                                        Service to send in the health check request.
                                        If this is not specified, then the health check request applies to the entire
                                        server and not to a specific service.
                                      type: string
                                  type: object
                                healthyThreshold:
                                  default: 1
                                  description: HealthyThreshold defines the number
                                    of healthy health checks required before a backend
                                    host is marked healthy.
                                  format: int32
                                  minimum: 1
                                  type: integer
                                http:
                                  description: |-
                                    HTTP defines the configuration of http health checker.
                                    It's required while the health checker type is HTTP.
                                  properties:
                                    expectedResponse:
                                      description: ExpectedResponse defines a list
                                        of HTTP expected responses to match.
                                      properties:
                                        binary:
                                          description: Binary payload base64 encoded.
                                          format: byte
                                          type: string
                                        text:
                                          description: Text payload in plain text.
                                          type: string
                                        type:
                                          allOf:
                                          - enum:
                                            - Text
                                            - Binary
                                          - enum:
                                            - Text
                                            - Binary
                                          description: Type defines the type of the
                                            payload.
                                          type: string
                                      required:
                                      - type
                                      type: object
                                      x-kubernetes-validations:
                                      - message: If payload type is Text, text field
                                          needs to be set.
                                        rule: 'self.type == ''Text'' ? has(self.text)
                                          : !has(self.text)'
                                      - message: If payload type is Binary, binary
                                          field needs to be set.
                                        rule: 'self.type == ''Binary'' ? has(self.binary)
                                          : !has(self.binary)'
                                    expectedStatuses:
                                      description: |-
                                        ExpectedStatuses defines a list of HTTP response statuses considered healthy.
                                        Defaults to 200 only
                                      items:
                                        description: HTTPStatus defines the http status
                                          code.
                                        exclusiveMaximum: true
                                        maximum: 600
                                        minimum: 100
                                        type: integer
                                      type: array
                                    method:
                                      description: |-
                                        Method defines the HTTP method used for health checking.
                                        Defaults to GET
                                      type: string
                                    path:
                                      description: Path defines the HTTP path that
                                        will be requested during health checking.
                                      maxLength: 1024
                                      minLength: 1
                                      type: string
                                  required:
                                  - path
                                  type: object
                                interval:
                                  default: 3s
                                  description: Interval defines the time between active
                                    health checks.
                                  format: duration
                                  type: string
                                tcp:
                                  description: |-
                                    TCP defines the configuration of tcp health checker.
                                    It's required while the health checker type is TCP.
                                  properties:
                                    receive:
                                      description: Receive defines the expected response
                                        payload.
                                      properties:
                                        binary:
                                          description: Binary payload base64 encoded.
                                          format: byte
                                          type: string
                                        text:
                                          description: Text payload in plain text.
                                          type: string
                                        type:
                                          allOf:
                                          - enum:
                                            - Text
                                            - Binary
                                          - enum:
                                            - Text
                                            - Binary
                                          description: Type defines the type of the
                                            payload.
                                          type: string
                                      required:
                                      - type
                                      type: object
                                      x-kubernetes-validations:
                                      - message: If payload type is Text, text field
                                          needs to be set.
                                        rule: 'self.type == ''Text'' ? has(self.text)
                                          : !has(self.text)'
                                      - message: If payload type is Binary, binary
                                          field needs to be set.
                                        rule: 'self.type == ''Binary'' ? has(self.binary)
                                          : !has(self.binary)'
                                    send:
                                      description: Send defines the request payload.
                                      properties:
                                        binary:
                                          description: Binary payload base64 encoded.
                                          format: byte
                                          type: string
                                        text:
                                          description: Text payload in plain text.
                                          type: string
                                        type:
                                          allOf:
                                          - enum:
                                            - Text
                                            - Binary
                                          - enum:
                                            - Text
                                            - Binary
                                          description: Type defines the type of the
                                            payload.
                                          type: string
                                      required:
                                      - type
                                      type: object
                                      x-kubernetes-validations:
                                      - message: If payload type is Text, text field
                                          needs to be set.
                                        rule: 'self.type == ''Text'' ? has(self.text)
                                          : !has(self.text)'
                                      - message: If payload type is Binary, binary
                                          field needs to be set.
                                        rule: 'self.type == ''Binary'' ? has(self.binary)
                                          : !has(self.binary)'
                                  type: object
                                timeout:
                                  default: 1s
                                  description: Timeout defines the time to wait for
                                    a health check response.
                                  format: duration
                                  type: string
                                type:
                                  allOf:
                                  - enum:
                                    - HTTP
                                    - TCP
                                    - GRPC
                                  - enum:
                                    - HTTP
                                    - TCP
                                    - GRPC
                                  description: Type defines the type of health checker.
                                  type: string
                                unhealthyThreshold:
                                  default: 3
                                  description: UnhealthyThreshold defines the number
                                    of unhealthy health checks required before a backend
                                    host is marked unhealthy.
                                  format: int32
                                  minimum: 1
                                  type: integer
                              required:
                              - type
                              type: object
                              x-kubernetes-validations:
                              - message: If Health Checker type is HTTP, http field
                                  needs to be set.
                                rule: 'self.type == ''HTTP'' ? has(self.http) : !has(self.http)'
                              - message: If Health Checker type is TCP, tcp field
                                  needs to be set.
                                rule: 'self.type == ''TCP'' ? has(self.tcp) : !has(self.tcp)'
                              - message: The grpc field can only be set if the Health
                                  Checker type is GRPC.
                                rule: 'has(self.grpc) ? self.type == ''GRPC'' : true'
                            panicThreshold:
                              description: |-
                                When number of unhealthy endpoints for a backend reaches this threshold
                                Envoy will disregard health status and balance across all endpoints.
                                It's designed to prevent a situation in which host failures cascade throughout the cluster
                                as load increases. If not set, the default value is 50%. To disable panic mode, set value to `0`.
                              format: int32
                              maximum: 100
                              minimum: 0
                              type: integer
                            passive:
                              description: Passive passive check configuration
                              properties:
                                baseEjectionTime:
                                  default: 30s
                                  description: BaseEjectionTime defines the base duration
                                    for which a host will be ejected on consecutive
                                    failures.
                                  format: duration
                                  type: string
                                consecutive5XxErrors:
                                  default: 5
                                  description: Consecutive5xxErrors sets the number
                                    of consecutive 5xx errors triggering ejection.
                                  format: int32
                                  type: integer
                                consecutiveGatewayErrors:
                                  default: 0
                                  description: ConsecutiveGatewayErrors sets the number
                                    of consecutive gateway errors triggering ejection.
                                  format: int32
                                  type: integer
                                consecutiveLocalOriginFailures:
                                  default: 5
                                  description: |-
                                    ConsecutiveLocalOriginFailures sets the number of consecutive local origin failures triggering ejection.
                                    Parameter takes effect only when split_external_local_origin_errors is set to true.
                                  format: int32
                                  type: integer
                                interval:
                                  default: 3s
                                  description: Interval defines the time between passive
                                    health checks.
                                  format: duration
                                  type: string
                                maxEjectionPercent:
                                  default: 10
                                  description: MaxEjectionPercent sets the maximum
                                    percentage of hosts in a cluster that can be ejected.
                                  format: int32
                                  type: integer
                                splitExternalLocalOriginErrors:
                                  default: false
                                  description: SplitExternalLocalOriginErrors enables
                                    splitting of errors between external and local
                                    origin.
                                  type: boolean
                              type: object
                          type: object
                        http2:
                          description: HTTP2 provides HTTP/2 configuration for backend
                            connections.
                          properties:
                            initialConnectionWindowSize:
                              allOf:
                              - pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                              - pattern: ^[1-9]+[0-9]*([EPTGMK]i|[EPTGMk])?$
                              anyOf:
                              - type: integer
                              - type: string
                              description: |-
                                InitialConnectionWindowSize sets the initial window size for HTTP/2 connections.
                                If not set, the default value is 1 MiB.
                              x-kubernetes-int-or-string: true
                            initialStreamWindowSize:
                              allOf:
                              - pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                              - pattern: ^[1-9]+[0-9]*([EPTGMK]i|[EPTGMk])?$
                              anyOf:
                              - type: integer
                              - type: string
                              description: |-
                                InitialStreamWindowSize sets the initial window size for HTTP/2 streams.
                                If not set, the default value is 64 KiB(64*1024).
                              x-kubernetes-int-or-string: true
                            maxConcurrentStreams:
                              description: |-
                                MaxConcurrentStreams sets the maximum number of concurrent streams allowed per connection.
                                If not set, the default value is 100.
                              format: int32
                              maximum: 2147483647
                              minimum: 1
                              type: integer
                            onInvalidMessage:
                              description: |-
                                OnInvalidMessage determines if Envoy will terminate the connection or just the offending stream in the event of HTTP messaging error
                                It's recommended for L2 Envoy deployments to set this value to TerminateStream.
                                https://www.envoyproxy.io/docs/envoy/latest/configuration/best_practices/level_two
                                Default: TerminateConnection
                              type: string
                          type: object
                        loadBalancer:
                          description: |-
                            LoadBalancer policy to apply when routing traffic from the gateway to
                            the backend endpoints. Defaults to `LeastRequest`.
                          properties:
                            consistentHash:
                              description: |-
                                ConsistentHash defines the configuration when the load balancer type is
                                set to ConsistentHash
                              properties:
                                cookie:
                                  description: Cookie configures the cookie hash policy
                                    when the consistent hash type is set to Cookie.
                                  properties:
                                    attributes:
                                      additionalProperties:
                                        type: string
                                      description: Additional Attributes to set for
                                        the generated cookie.
                                      type: object
                                    name:
                                      description: |-
                                        Name of the cookie to hash.
                                        If this cookie does not exist in the request, Envoy will generate a cookie and set
                                        the TTL on the response back to the client based on Layer 4
                                        attributes of the backend endpoint, to ensure that these future requests
                                        go to the same backend endpoint. Make sure to set the TTL field for this case.
                                      type: string
                                    ttl:
                                      description: |-
                                        TTL of the generated cookie if the cookie is not present. This value sets the
                                        Max-Age attribute value.
                                      type: string
                                  required:
                                  - name
                                  type: object
                                header:
                                  description: Header configures the header hash policy
                                    when the consistent hash type is set to Header.
                                  properties:
                                    name:
                                      description: Name of the header to hash.
                                      type: string
                                  required:
                                  - name
                                  type: object
                                tableSize:
                                  default: 65537
                                  description: The table size for consistent hashing,
                                    must be prime number limited to 5000011.
                                  format: int64
                                  maximum: 5000011
                                  minimum: 2
                                  type: integer
                                type:
                                  description: |-
                                    ConsistentHashType defines the type of input to hash on. Valid Type values are
                                    "SourceIP",
                                    "Header",
                                    "Cookie".
                                  enum:
                                  - SourceIP
                                  - Header
                                  - Cookie
                                  type: string
                              required:
                              - type
                              type: object
                              x-kubernetes-validations:
                              - message: If consistent hash type is header, the header
                                  field must be set.
                                rule: 'self.type == ''Header'' ? has(self.header)
                                  : !has(self.header)'
                              - message: If consistent hash type is cookie, the cookie
                                  field must be set.
                                rule: 'self.type == ''Cookie'' ? has(self.cookie)
                                  : !has(self.cookie)'
                            slowStart:
                              description: |-
                                SlowStart defines the configuration related to the slow start load balancer policy.
                                If set, during slow start window, traffic sent to the newly added hosts will gradually increase.
                                Currently this is only supported for RoundRobin and LeastRequest load balancers
                              properties:
                                window:
                                  description: |-
                                    Window defines the duration of the warm up period for newly added host.
                                    During slow start window, traffic sent to the newly added hosts will gradually increase.
                                    Currently only supports linear growth of traffic. For additional details,
                                    see https://www.envoyproxy.io/docs/envoy/latest/api-v3/config/cluster/v3/cluster.proto#config-cluster-v3-cluster-slowstartconfig
                                  type: string
                              required:
                              - window
                              type: object
                            type:
                              description: |-
                                Type decides the type of Load Balancer policy.
                                Valid LoadBalancerType values are
                                "ConsistentHash",
                                "LeastRequest",
                                "Random",
                                "RoundRobin".
                              enum:
                              - ConsistentHash
                              - LeastRequest
                              - Random
                              - RoundRobin
                              type: string
                          required:
                          - type
                          type: object
                          x-kubernetes-validations:
                          - message: If LoadBalancer type is consistentHash, consistentHash
                              field needs to be set.
                            rule: 'self.type == ''ConsistentHash'' ? has(self.consistentHash)
                              : !has(self.consistentHash)'
                          - message: Currently SlowStart is only supported for RoundRobin
                              and LeastRequest load balancers.
                            rule: 'self.type in [''Random'', ''ConsistentHash''] ?
                              !has(self.slowStart) : true '
                        proxyProtocol:
                          description: ProxyProtocol enables the Proxy Protocol when
                            communicating with the backend.
                          properties:
                            version:
                              description: |-
                                Version of ProxyProtol
                                Valid ProxyProtocolVersion values are
                                "V1"
                                "V2"
                              enum:
                              - V1
                              - V2
                              type: string
                          required:
                          - version
                          type: object
                        retry:
                          description: |-
                            Retry provides more advanced usage, allowing users to customize the number of retries, retry fallback strategy, and retry triggering conditions.
                            If not set, retry will be disabled.
                          properties:
                            numRetries:
                              default: 2
                              description: NumRetries is the number of retries to
                                be attempted. Defaults to 2.
                              format: int32
                              minimum: 0
                              type: integer
                            perRetry:
                              description: PerRetry is the retry policy to be applied
                                per retry attempt.
                              properties:
                                backOff:
                                  description: |-
                                    Backoff is the backoff policy to be applied per retry attempt. gateway uses a fully jittered exponential
                                    back-off algorithm for retries. For additional details,
                                    see https://www.envoyproxy.io/docs/envoy/latest/configuration/http/http_filters/router_filter#config-http-filters-router-x-envoy-max-retries
                                  properties:
                                    baseInterval:
                                      description: BaseInterval is the base interval
                                        between retries.
                                      format: duration
                                      type: string
                                    maxInterval:
                                      description: |-
                                        MaxInterval is the maximum interval between retries. This parameter is optional, but must be greater than or equal to the base_interval if set.
                                        The default is 10 times the base_interval
                                      format: duration
                                      type: string
                                  type: object
                                timeout:
                                  description: Timeout is the timeout per retry attempt.
                                  format: duration
                                  type: string
                              type: object
                            retryOn:
                              description: |-
                                RetryOn specifies the retry trigger condition.

                                If not specified, the default is to retry on connect-failure,refused-stream,unavailable,cancelled,retriable-status-codes(503).
                              properties:
                                httpStatusCodes:
                                  description: |-
                                    HttpStatusCodes specifies the http status codes to be retried.
                                    The retriable-status-codes trigger must also be configured for these status codes to trigger a retry.
                                  items:
                                    description: HTTPStatus defines the http status
                                      code.
                                    exclusiveMaximum: true
                                    maximum: 600
                                    minimum: 100
                                    type: integer
                                  type: array
                                triggers:
                                  description: Triggers specifies the retry trigger
                                    condition(Http/Grpc).
                                  items:
                                    description: TriggerEnum specifies the conditions
                                      that trigger retries.
                                    enum:
                                    - 5xx
                                    - gateway-error
                                    - reset
                                    - connect-failure
                                    - retriable-4xx
                                    - refused-stream
                                    - retriable-status-codes
                                    - cancelled
                                    - deadline-exceeded
                                    - internal
                                    - resource-exhausted
                                    - unavailable
                                    type: string
                                  type: array
                              type: object
                          type: object
                        tcpKeepalive:
                          description: |-
                            TcpKeepalive settings associated with the upstream client connection.
                            Disabled by default.
                          properties:
                            idleTime:
                              description: |-
                                The duration a connection needs to be idle before keep-alive
                                probes start being sent.
                                The duration format is
                                Defaults to `7200s`.
                              pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                              type: string
                            interval:
                              description: |-
                                The duration between keep-alive probes.
                                Defaults to `75s`.
                              pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                              type: string
                            probes:
                              description: |-
                                The total number of unacknowledged probes to send before deciding
                                the connection is dead.
                                Defaults to 9.
                              format: int32
                              type: integer
                          type: object
                        timeout:
                          description: Timeout settings for the backend connections.
                          properties:
                            http:
                              description: Timeout settings for HTTP.
                              properties:
                                connectionIdleTimeout:
                                  description: |-
                                    The idle timeout for an HTTP connection. Idle time is defined as a period in which there are no active requests in the connection.
                                    Default: 1 hour.
                                  pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                                  type: string
                                maxConnectionDuration:
                                  description: |-
                                    The maximum duration of an HTTP connection.
                                    Default: unlimited.
                                  pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                                  type: string
                                requestTimeout:
                                  description: RequestTimeout is the time until which
                                    entire response is received from the upstream.
                                  pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                                  type: string
                              type: object
                            tcp:
                              description: Timeout settings for TCP.
                              properties:
                                connectTimeout:
                                  description: |-
                                    The timeout for network connection establishment, including TCP and TLS handshakes.
                                    Default: 10 seconds.
                                  pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                                  type: string
                              type: object
                          type: object
                      type: object
                    failOpen:
                      description: |-
                        FailOpen defines if requests or responses that cannot be processed due to connectivity to the
                        external processor are terminated or passed-through.
                        Default: false
                      type: boolean
                    messageTimeout:
                      description: |-
                        MessageTimeout is the timeout for a response to be returned from the external processor
                        Default: 200ms
                      pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                      type: string
                    metadata:
                      description: |-
                        Metadata defines options related to the sending and receiving of dynamic metadata.
                        These options define which metadata namespaces would be sent to the processor and which dynamic metadata
                        namespaces the processor would be permitted to emit metadata to.
                        Users can specify custom namespaces or well-known envoy metadata namespace (such as envoy.filters.http.ext_authz)
                        documented here: https://www.envoyproxy.io/docs/envoy/latest/configuration/advanced/well_known_dynamic_metadata#well-known-dynamic-metadata
                        Default: no metadata context is sent or received from the external processor
                      properties:
                        accessibleNamespaces:
                          description: AccessibleNamespaces are metadata namespaces
                            that are sent to the external processor as context
                          items:
                            type: string
                          type: array
                        writableNamespaces:
                          description: WritableNamespaces are metadata namespaces
                            that the external processor can write to
                          items:
                            type: string
                          maxItems: 8
                          type: array
                          x-kubernetes-validations:
                          - message: writableNamespaces cannot contain well-known
                              Envoy HTTP filter namespaces
                            rule: self.all(f, !f.startsWith('envoy.filters.http'))
                      type: object
                    processingMode:
                      description: |-
                        ProcessingMode defines how request and response body is processed
                        Default: header and body are not sent to the external processor
                      properties:
                        allowModeOverride:
                          description: |-
                            AllowModeOverride allows the external processor to override the processing mode set via the
                            `mode_override` field in the gRPC response message. This defaults to false.
                          type: boolean
                        request:
                          description: |-
                            Defines processing mode for requests. If present, request headers are sent. Request body is processed according
                            to the specified mode.
                          properties:
                            attributes:
                              description: |-
                                Defines which attributes are sent to the external processor. Envoy Gateway currently
                                supports only the following attribute prefixes: connection, source, destination,
                                request, response, upstream and xds.route.
                                https://www.envoyproxy.io/docs/envoy/latest/intro/arch_overview/advanced/attributes
                              items:
                                pattern: ^(connection\.|source\.|destination\.|request\.|response\.|upstream\.|xds\.route_)[a-z_1-9]*$
                                type: string
                              type: array
                            body:
                              description: Defines body processing mode
                              enum:
                              - Streamed
                              - Buffered
                              - BufferedPartial
                              - FullDuplexStreamed
                              type: string
                          type: object
                        response:
                          description: |-
                            Defines processing mode for responses. If present, response headers are sent. Response body is processed according
                            to the specified mode.
                          properties:
                            attributes:
                              description: |-
                                Defines which attributes are sent to the external processor. Envoy Gateway currently
                                supports only the following attribute prefixes: connection, source, destination,
                                request, response, upstream and xds.route.
                                https://www.envoyproxy.io/docs/envoy/latest/intro/arch_overview/advanced/attributes
                              items:
                                pattern: ^(connection\.|source\.|destination\.|request\.|response\.|upstream\.|xds\.route_)[a-z_1-9]*$
                                type: string
                              type: array
                            body:
                              description: Defines body processing mode
                              enum:
                              - Streamed
                              - Buffered
                              - BufferedPartial
                              - FullDuplexStreamed
                              type: string
                          type: object
                      type: object
                  type: object
                  x-kubernetes-validations:
                  - message: BackendRefs must be used, backendRef is not supported.
                    rule: '!has(self.backendRef)'
                  - message: BackendRefs only supports Service and Backend kind.
                    rule: 'has(self.backendRefs) ? self.backendRefs.all(f, f.kind
                      == ''Service'' || f.kind == ''Backend'') : true'
                  - message: BackendRefs only supports Core and gateway.envoyproxy.io
                      group.
                    rule: 'has(self.backendRefs) ? (self.backendRefs.all(f, f.group
                      == "" || f.group == ''gateway.envoyproxy.io'')) : true'
                maxItems: 16
                type: array
              lua:
                description: |-
                  Lua is an ordered list of Lua filters
                  that should be added to the envoy filter chain
                items:
                  description: |-
                    Lua defines a Lua extension
                    Only one of Inline or ValueRef must be set
                  properties:
                    inline:
                      description: Inline contains the source code as an inline string.
                      type: string
                    type:
                      default: Inline
                      description: |-
                        Type is the type of method to use to read the Lua value.
                        Valid values are Inline and ValueRef, default is Inline.
                      enum:
                      - Inline
                      - ValueRef
                      type: string
                    valueRef:
                      description: |-
                        ValueRef has the source code specified as a local object reference.
                        Only a reference to ConfigMap is supported.
                        The value of key `lua` in the ConfigMap will be used.
                        If the key is not found, the first value in the ConfigMap will be used.
                      properties:
                        group:
                          description: |-
                            Group is the group of the referent. For example, "gateway.networking.k8s.io".
                            When unspecified or empty string, core API group is inferred.
                          maxLength: 253
                          pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                          type: string
                        kind:
                          description: Kind is kind of the referent. For example "HTTPRoute"
                            or "Service".
                          maxLength: 63
                          minLength: 1
                          pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                          type: string
                        name:
                          description: Name is the name of the referent.
                          maxLength: 253
                          minLength: 1
                          type: string
                      required:
                      - group
                      - kind
                      - name
                      type: object
                      x-kubernetes-validations:
                      - message: Only a reference to an object of kind ConfigMap belonging
                          to default v1 API group is supported.
                        rule: self.kind == 'ConfigMap' && (self.group == 'v1' || self.group
                          == '')
                  required:
                  - type
                  type: object
                  x-kubernetes-validations:
                  - message: Exactly one of inline or valueRef must be set with correct
                      type.
                    rule: (self.type == 'Inline' && has(self.inline) && !has(self.valueRef))
                      || (self.type == 'ValueRef' && !has(self.inline) && has(self.valueRef))
                maxItems: 16
                type: array
              targetRef:
                description: |-
                  TargetRef is the name of the resource this policy is being attached to.
                  This policy and the TargetRef MUST be in the same namespace for this
                  Policy to have effect

                  Deprecated: use targetRefs/targetSelectors instead
                properties:
                  group:
                    description: Group is the group of the target resource.
                    maxLength: 253
                    pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                    type: string
                  kind:
                    description: Kind is kind of the target resource.
                    maxLength: 63
                    minLength: 1
                    pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                    type: string
                  name:
                    description: Name is the name of the target resource.
                    maxLength: 253
                    minLength: 1
                    type: string
                  sectionName:
                    description: |-
                      SectionName is the name of a section within the target resource. When
                      unspecified, this targetRef targets the entire resource. In the following
                      resources, SectionName is interpreted as the following:

                      * Gateway: Listener name
                      * HTTPRoute: HTTPRouteRule name
                      * Service: Port name

                      If a SectionName is specified, but does not exist on the targeted object,
                      the Policy must fail to attach, and the policy implementation should record
                      a `ResolvedRefs` or similar Condition in the Policy's status.
                    maxLength: 253
                    minLength: 1
                    pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                    type: string
                required:
                - group
                - kind
                - name
                type: object
              targetRefs:
                description: |-
                  TargetRefs are the names of the Gateway resources this policy
                  is being attached to.
                items:
                  description: |-
                    LocalPolicyTargetReferenceWithSectionName identifies an API object to apply a
                    direct policy to. This should be used as part of Policy resources that can
                    target single resources. For more information on how this policy attachment
                    mode works, and a sample Policy resource, refer to the policy attachment
                    documentation for Gateway API.

                    Note: This should only be used for direct policy attachment when references
                    to SectionName are actually needed. In all other cases,
                    LocalPolicyTargetReference should be used.
                  properties:
                    group:
                      description: Group is the group of the target resource.
                      maxLength: 253
                      pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                      type: string
                    kind:
                      description: Kind is kind of the target resource.
                      maxLength: 63
                      minLength: 1
                      pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                      type: string
                    name:
                      description: Name is the name of the target resource.
                      maxLength: 253
                      minLength: 1
                      type: string
                    sectionName:
                      description: |-
                        SectionName is the name of a section within the target resource. When
                        unspecified, this targetRef targets the entire resource. In the following
                        resources, SectionName is interpreted as the following:

                        * Gateway: Listener name
                        * HTTPRoute: HTTPRouteRule name
                        * Service: Port name

                        If a SectionName is specified, but does not exist on the targeted object,
                        the Policy must fail to attach, and the policy implementation should record
                        a `ResolvedRefs` or similar Condition in the Policy's status.
                      maxLength: 253
                      minLength: 1
                      pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                      type: string
                  required:
                  - group
                  - kind
                  - name
                  type: object
                type: array
              targetSelectors:
                description: TargetSelectors allow targeting resources for this policy
                  based on labels
                items:
                  properties:
                    group:
                      default: gateway.networking.k8s.io
                      description: Group is the group that this selector targets.
                        Defaults to gateway.networking.k8s.io
                      maxLength: 253
                      pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                      type: string
                    kind:
                      description: Kind is the resource kind that this selector targets.
                      maxLength: 63
                      minLength: 1
                      pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                      type: string
                    matchExpressions:
                      description: MatchExpressions is a list of label selector requirements.
                        The requirements are ANDed.
                      items:
                        description: |-
                          A label selector requirement is a selector that contains values, a key, and an operator that
                          relates the key and values.
                        properties:
                          key:
                            description: key is the label key that the selector applies
                              to.
                            type: string
                          operator:
                            description: |-
                              operator represents a key's relationship to a set of values.
                              Valid operators are In, NotIn, Exists and DoesNotExist.
                            type: string
                          values:
                            description: |-
                              values is an array of string values. If the operator is In or NotIn,
                              the values array must be non-empty. If the operator is Exists or DoesNotExist,
                              the values array must be empty. This array is replaced during a strategic
                              merge patch.
                            items:
                              type: string
                            type: array
                            x-kubernetes-list-type: atomic
                        required:
                        - key
                        - operator
                        type: object
                      type: array
                      x-kubernetes-list-type: atomic
                    matchLabels:
                      additionalProperties:
                        type: string
                      description: MatchLabels are the set of label selectors for
                        identifying the targeted resource
                      type: object
                  required:
                  - kind
                  type: object
                  x-kubernetes-validations:
                  - message: group must be gateway.networking.k8s.io
                    rule: 'has(self.group) ? self.group == ''gateway.networking.k8s.io''
                      : true '
                type: array
              wasm:
                description: |-
                  Wasm is a list of Wasm extensions to be loaded by the Gateway.
                  Order matters, as the extensions will be loaded in the order they are
                  defined in this list.
                items:
                  description: |-
                    Wasm defines a Wasm extension.

                    Note: at the moment, Envoy Gateway does not support configuring Wasm runtime.
                    v8 is used as the VM runtime for the Wasm extensions.
                  properties:
                    code:
                      description: Code is the Wasm code for the extension.
                      properties:
                        http:
                          description: |-
                            HTTP is the HTTP URL containing the Wasm code.

                            Note that the HTTP server must be accessible from the Envoy proxy.
                          properties:
                            sha256:
                              description: |-
                                SHA256 checksum that will be used to verify the Wasm code.

                                If not specified, Envoy Gateway will not verify the downloaded Wasm code.
                                kubebuilder:validation:Pattern=`^[a-f0-9]{64}$`
                              type: string
                            tls:
                              description: TLS configuration when connecting to the
                                Wasm code source.
                              properties:
                                caCertificateRef:
                                  description: |-
                                    CACertificateRef contains a references to
                                    Kubernetes objects that contain TLS certificates of
                                    the Certificate Authorities that can be used
                                    as a trust anchor to validate the certificates presented by the Wasm code source.

                                    Kubernetes ConfigMap and Kubernetes Secret are supported.
                                    Note: The ConfigMap or Secret must be in the same namespace as the EnvoyExtensionPolicy.
                                  properties:
                                    group:
                                      default: ""
                                      description: |-
                                        Group is the group of the referent. For example, "gateway.networking.k8s.io".
                                        When unspecified or empty string, core API group is inferred.
                                      maxLength: 253
                                      pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                                      type: string
                                    kind:
                                      default: Secret
                                      description: Kind is kind of the referent. For
                                        example "Secret".
                                      maxLength: 63
                                      minLength: 1
                                      pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                                      type: string
                                    name:
                                      description: Name is the name of the referent.
                                      maxLength: 253
                                      minLength: 1
                                      type: string
                                    namespace:
                                      description: |-
                                        Namespace is the namespace of the referenced object. When unspecified, the local
                                        namespace is inferred.

                                        Note that when a namespace different than the local namespace is specified,
                                        a ReferenceGrant object is required in the referent namespace to allow that
                                        namespace's owner to accept the reference. See the ReferenceGrant
                                        documentation for details.

                                        Support: Core
                                      maxLength: 63
                                      minLength: 1
                                      pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                                      type: string
                                  required:
                                  - name
                                  type: object
                              required:
                              - caCertificateRef
                              type: object
                            url:
                              description: URL is the URL containing the Wasm code.
                              pattern: ^((https?:)(\/\/\/?)([\w]*(?::[\w]*)?@)?([\d\w\.-]+)(?::(\d+))?)?([\/\\\w\.()-]*)?(?:([?][^#]*)?(#.*)?)*
                              type: string
                          required:
                          - url
                          type: object
                        image:
                          description: |-
                            Image is the OCI image containing the Wasm code.

                            Note that the image must be accessible from the Envoy Gateway.
                          properties:
                            pullSecretRef:
                              description: |-
                                PullSecretRef is a reference to the secret containing the credentials to pull the image.
                                Only support Kubernetes Secret resource from the same namespace.
                              properties:
                                group:
                                  default: ""
                                  description: |-
                                    Group is the group of the referent. For example, "gateway.networking.k8s.io".
                                    When unspecified or empty string, core API group is inferred.
                                  maxLength: 253
                                  pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                                  type: string
                                kind:
                                  default: Secret
                                  description: Kind is kind of the referent. For example
                                    "Secret".
                                  maxLength: 63
                                  minLength: 1
                                  pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                                  type: string
                                name:
                                  description: Name is the name of the referent.
                                  maxLength: 253
                                  minLength: 1
                                  type: string
                                namespace:
                                  description: |-
                                    Namespace is the namespace of the referenced object. When unspecified, the local
                                    namespace is inferred.

                                    Note that when a namespace different than the local namespace is specified,
                                    a ReferenceGrant object is required in the referent namespace to allow that
                                    namespace's owner to accept the reference. See the ReferenceGrant
                                    documentation for details.

                                    Support: Core
                                  maxLength: 63
                                  minLength: 1
                                  pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                                  type: string
                              required:
                              - name
                              type: object
                              x-kubernetes-validations:
                              - message: only support Secret kind.
                                rule: self.kind == 'Secret'
                            sha256:
                              description: |-
                                SHA256 checksum that will be used to verify the OCI image.

                                It must match the digest of the OCI image.

                                If not specified, Envoy Gateway will not verify the downloaded OCI image.
                                kubebuilder:validation:Pattern=`^[a-f0-9]{64}$`
                              type: string
                            tls:
                              description: TLS configuration when connecting to the
                                Wasm code source.
                              properties:
                                caCertificateRef:
                                  description: |-
                                    CACertificateRef contains a references to
                                    Kubernetes objects that contain TLS certificates of
                                    the Certificate Authorities that can be used
                                    as a trust anchor to validate the certificates presented by the Wasm code source.

                                    Kubernetes ConfigMap and Kubernetes Secret are supported.
                                    Note: The ConfigMap or Secret must be in the same namespace as the EnvoyExtensionPolicy.
                                  properties:
                                    group:
                                      default: ""
                                      description: |-
                                        Group is the group of the referent. For example, "gateway.networking.k8s.io".
                                        When unspecified or empty string, core API group is inferred.
                                      maxLength: 253
                                      pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                                      type: string
                                    kind:
                                      default: Secret
                                      description: Kind is kind of the referent. For
                                        example "Secret".
                                      maxLength: 63
                                      minLength: 1
                                      pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                                      type: string
                                    name:
                                      description: Name is the name of the referent.
                                      maxLength: 253
                                      minLength: 1
                                      type: string
                                    namespace:
                                      description: |-
                                        Namespace is the namespace of the referenced object. When unspecified, the local
                                        namespace is inferred.

                                        Note that when a namespace different than the local namespace is specified,
                                        a ReferenceGrant object is required in the referent namespace to allow that
                                        namespace's owner to accept the reference. See the ReferenceGrant
                                        documentation for details.

                                        Support: Core
                                      maxLength: 63
                                      minLength: 1
                                      pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                                      type: string
                                  required:
                                  - name
                                  type: object
                              required:
                              - caCertificateRef
                              type: object
                            url:
                              description: |-
                                URL is the URL of the OCI image.
                                URL can be in the format of `registry/image:tag` or `registry/image@sha256:digest`.
                              type: string
                          required:
                          - url
                          type: object
                        pullPolicy:
                          description: |-
                            PullPolicy is the policy to use when pulling the Wasm module by either the HTTP or Image source.
                            This field is only applicable when the SHA256 field is not set.

                            If not specified, the default policy is IfNotPresent except for OCI images whose tag is latest.

                            Note: EG does not update the Wasm module every time an Envoy proxy requests
                            the Wasm module even if the pull policy is set to Always.
                            It only updates the Wasm module when the EnvoyExtension resource version changes.
                          enum:
                          - IfNotPresent
                          - Always
                          type: string
                        type:
                          allOf:
                          - enum:
                            - HTTP
                            - Image
                          - enum:
                            - HTTP
                            - Image
                            - ConfigMap
                          description: |-
                            Type is the type of the source of the Wasm code.
                            Valid WasmCodeSourceType values are "HTTP" or "Image".
                          type: string
                      required:
                      - type
                      type: object
                      x-kubernetes-validations:
                      - message: If type is HTTP, http field needs to be set.
                        rule: 'self.type == ''HTTP'' ? has(self.http) : !has(self.http)'
                      - message: If type is Image, image field needs to be set.
                        rule: 'self.type == ''Image'' ? has(self.image) : !has(self.image)'
                    config:
                      description: |-
                        Config is the configuration for the Wasm extension.
                        This configuration will be passed as a JSON string to the Wasm extension.
                      x-kubernetes-preserve-unknown-fields: true
                    env:
                      description: Env configures the environment for the Wasm extension
                      properties:
                        hostKeys:
                          description: |-
                            HostKeys is a list of keys for environment variables from the host envoy process
                            that should be passed into the Wasm VM. This is useful for passing secrets to to Wasm extensions.
                          items:
                            type: string
                          type: array
                      type: object
                    failOpen:
                      default: false
                      description: |-
                        FailOpen is a switch used to control the behavior when a fatal error occurs
                        during the initialization or the execution of the Wasm extension.
                        If FailOpen is set to true, the system bypasses the Wasm extension and
                        allows the traffic to pass through. Otherwise, if it is set to false or
                        not set (defaulting to false), the system blocks the traffic and returns
                        an HTTP 5xx error.
                      type: boolean
                    name:
                      description: |-
                        Name is a unique name for this Wasm extension. It is used to identify the
                        Wasm extension if multiple extensions are handled by the same vm_id and root_id.
                        It's also used for logging/debugging.
                        If not specified, EG will generate a unique name for the Wasm extension.
                      type: string
                    rootID:
                      description: |-
                        RootID is a unique ID for a set of extensions in a VM which will share a
                        RootContext and Contexts if applicable (e.g., an Wasm HttpFilter and an Wasm AccessLog).
                        If left blank, all extensions with a blank root_id with the same vm_id will share Context(s).

                        Note: RootID must match the root_id parameter used to register the Context in the Wasm code.
                      type: string
                  required:
                  - code
                  type: object
                maxItems: 16
                type: array
            type: object
            x-kubernetes-validations:
            - message: either targetRef or targetRefs must be used
              rule: '(has(self.targetRef) && !has(self.targetRefs)) || (!has(self.targetRef)
                && has(self.targetRefs)) || (has(self.targetSelectors) && self.targetSelectors.size()
                > 0) '
            - message: this policy can only have a targetRef.group of gateway.networking.k8s.io
              rule: 'has(self.targetRef) ? self.targetRef.group == ''gateway.networking.k8s.io''
                : true'
            - message: this policy can only have a targetRef.kind of Gateway/HTTPRoute/GRPCRoute/TCPRoute/UDPRoute/TLSRoute
              rule: 'has(self.targetRef) ? self.targetRef.kind in [''Gateway'', ''HTTPRoute'',
                ''GRPCRoute'', ''UDPRoute'', ''TCPRoute'', ''TLSRoute''] : true'
            - message: this policy does not yet support the sectionName field
              rule: 'has(self.targetRef) ? !has(self.targetRef.sectionName) : true'
            - message: this policy can only have a targetRefs[*].group of gateway.networking.k8s.io
              rule: 'has(self.targetRefs) ? self.targetRefs.all(ref, ref.group ==
                ''gateway.networking.k8s.io'') : true '
            - message: this policy can only have a targetRefs[*].kind of Gateway/HTTPRoute/GRPCRoute/TCPRoute/UDPRoute/TLSRoute
              rule: 'has(self.targetRefs) ? self.targetRefs.all(ref, ref.kind in [''Gateway'',
                ''HTTPRoute'', ''GRPCRoute'', ''UDPRoute'', ''TCPRoute'', ''TLSRoute''])
                : true '
            - message: this policy does not yet support the sectionName field
              rule: 'has(self.targetRefs) ? self.targetRefs.all(ref, !has(ref.sectionName))
                : true'
          status:
            description: Status defines the current status of EnvoyExtensionPolicy.
            properties:
              ancestors:
                description: |-
                  Ancestors is a list of ancestor resources (usually Gateways) that are
                  associated with the policy, and the status of the policy with respect to
                  each ancestor. When this policy attaches to a parent, the controller that
                  manages the parent and the ancestors MUST add an entry to this list when
                  the controller first sees the policy and SHOULD update the entry as
                  appropriate when the relevant ancestor is modified.

                  Note that choosing the relevant ancestor is left to the Policy designers;
                  an important part of Policy design is designing the right object level at
                  which to namespace this status.

                  Note also that implementations MUST ONLY populate ancestor status for
                  the Ancestor resources they are responsible for. Implementations MUST
                  use the ControllerName field to uniquely identify the entries in this list
                  that they are responsible for.

                  Note that to achieve this, the list of PolicyAncestorStatus structs
                  MUST be treated as a map with a composite key, made up of the AncestorRef
                  and ControllerName fields combined.

                  A maximum of 16 ancestors will be represented in this list. An empty list
                  means the Policy is not relevant for any ancestors.

                  If this slice is full, implementations MUST NOT add further entries.
                  Instead they MUST consider the policy unimplementable and signal that
                  on any related resources such as the ancestor that would be referenced
                  here. For example, if this list was full on BackendTLSPolicy, no
                  additional Gateways would be able to reference the Service targeted by
                  the BackendTLSPolicy.
                items:
                  description: |-
                    PolicyAncestorStatus describes the status of a route with respect to an
                    associated Ancestor.

                    Ancestors refer to objects that are either the Target of a policy or above it
                    in terms of object hierarchy. For example, if a policy targets a Service, the
                    Policy's Ancestors are, in order, the Service, the HTTPRoute, the Gateway, and
                    the GatewayClass. Almost always, in this hierarchy, the Gateway will be the most
                    useful object to place Policy status on, so we recommend that implementations
                    SHOULD use Gateway as the PolicyAncestorStatus object unless the designers
                    have a _very_ good reason otherwise.

                    In the context of policy attachment, the Ancestor is used to distinguish which
                    resource results in a distinct application of this policy. For example, if a policy
                    targets a Service, it may have a distinct result per attached Gateway.

                    Policies targeting the same resource may have different effects depending on the
                    ancestors of those resources. For example, different Gateways targeting the same
                    Service may have different capabilities, especially if they have different underlying
                    implementations.

                    For example, in BackendTLSPolicy, the Policy attaches to a Service that is
                    used as a backend in a HTTPRoute that is itself attached to a Gateway.
                    In this case, the relevant object for status is the Gateway, and that is the
                    ancestor object referred to in this status.

                    Note that a parent is also an ancestor, so for objects where the parent is the
                    relevant object for status, this struct SHOULD still be used.

                    This struct is intended to be used in a slice that's effectively a map,
                    with a composite key made up of the AncestorRef and the ControllerName.
                  properties:
                    ancestorRef:
                      description: |-
                        AncestorRef corresponds with a ParentRef in the spec that this
                        PolicyAncestorStatus struct describes the status of.
                      properties:
                        group:
                          default: gateway.networking.k8s.io
                          description: |-
                            Group is the group of the referent.
                            When unspecified, "gateway.networking.k8s.io" is inferred.
                            To set the core API group (such as for a "Service" kind referent),
                            Group must be explicitly set to "" (empty string).

                            Support: Core
                          maxLength: 253
                          pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                          type: string
                        kind:
                          default: Gateway
                          description: |-
                            Kind is kind of the referent.

                            There are two kinds of parent resources with "Core" support:

                            * Gateway (Gateway conformance profile)
                            * Service (Mesh conformance profile, ClusterIP Services only)

                            Support for other resources is Implementation-Specific.
                          maxLength: 63
                          minLength: 1
                          pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                          type: string
                        name:
                          description: |-
                            Name is the name of the referent.

                            Support: Core
                          maxLength: 253
                          minLength: 1
                          type: string
                        namespace:
                          description: |-
                            Namespace is the namespace of the referent. When unspecified, this refers
                            to the local namespace of the Route.

                            Note that there are specific rules for ParentRefs which cross namespace
                            boundaries. Cross-namespace references are only valid if they are explicitly
                            allowed by something in the namespace they are referring to. For example:
                            Gateway has the AllowedRoutes field, and ReferenceGrant provides a
                            generic way to enable any other kind of cross-namespace reference.

                            <gateway:experimental:description>
                            ParentRefs from a Route to a Service in the same namespace are "producer"
                            routes, which apply default routing rules to inbound connections from
                            any namespace to the Service.

                            ParentRefs from a Route to a Service in a different namespace are
                            "consumer" routes, and these routing rules are only applied to outbound
                            connections originating from the same namespace as the Route, for which
                            the intended destination of the connections are a Service targeted as a
                            ParentRef of the Route.
                            </gateway:experimental:description>

                            Support: Core
                          maxLength: 63
                          minLength: 1
                          pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                          type: string
                        port:
                          description: |-
                            Port is the network port this Route targets. It can be interpreted
                            differently based on the type of parent resource.

                            When the parent resource is a Gateway, this targets all listeners
                            listening on the specified port that also support this kind of Route(and
                            select this Route). It's not recommended to set `Port` unless the
                            networking behaviors specified in a Route must apply to a specific port
                            as opposed to a listener(s) whose port(s) may be changed. When both Port
                            and SectionName are specified, the name and port of the selected listener
                            must match both specified values.

                            <gateway:experimental:description>
                            When the parent resource is a Service, this targets a specific port in the
                            Service spec. When both Port (experimental) and SectionName are specified,
                            the name and port of the selected port must match both specified values.
                            </gateway:experimental:description>

                            Implementations MAY choose to support other parent resources.
                            Implementations supporting other types of parent resources MUST clearly
                            document how/if Port is interpreted.

                            For the purpose of status, an attachment is considered successful as
                            long as the parent resource accepts it partially. For example, Gateway
                            listeners can restrict which Routes can attach to them by Route kind,
                            namespace, or hostname. If 1 of 2 Gateway listeners accept attachment
                            from the referencing Route, the Route MUST be considered successfully
                            attached. If no Gateway listeners accept attachment from this Route,
                            the Route MUST be considered detached from the Gateway.

                            Support: Extended
                          format: int32
                          maximum: 65535
                          minimum: 1
                          type: integer
                        sectionName:
                          description: |-
                            SectionName is the name of a section within the target resource. In the
                            following resources, SectionName is interpreted as the following:

                            * Gateway: Listener name. When both Port (experimental) and SectionName
                            are specified, the name and port of the selected listener must match
                            both specified values.
                            * Service: Port name. When both Port (experimental) and SectionName
                            are specified, the name and port of the selected listener must match
                            both specified values.

                            Implementations MAY choose to support attaching Routes to other resources.
                            If that is the case, they MUST clearly document how SectionName is
                            interpreted.

                            When unspecified (empty string), this will reference the entire resource.
                            For the purpose of status, an attachment is considered successful if at
                            least one section in the parent resource accepts it. For example, Gateway
                            listeners can restrict which Routes can attach to them by Route kind,
                            namespace, or hostname. If 1 of 2 Gateway listeners accept attachment from
                            the referencing Route, the Route MUST be considered successfully
                            attached. If no Gateway listeners accept attachment from this Route, the
                            Route MUST be considered detached from the Gateway.

                            Support: Core
                          maxLength: 253
                          minLength: 1
                          pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                          type: string
                      required:
                      - name
                      type: object
                    conditions:
                      description: Conditions describes the status of the Policy with
                        respect to the given Ancestor.
                      items:
                        description: Condition contains details for one aspect of
                          the current state of this API Resource.
                        properties:
                          lastTransitionTime:
                            description: |-
                              lastTransitionTime is the last time the condition transitioned from one status to another.
                              This should be when the underlying condition changed.  If that is not known, then using the time when the API field changed is acceptable.
                            format: date-time
                            type: string
                          message:
                            description: |-
                              message is a human readable message indicating details about the transition.
                              This may be an empty string.
                            maxLength: 32768
                            type: string
                          observedGeneration:
                            description: |-
                              observedGeneration represents the .metadata.generation that the condition was set based upon.
                              For instance, if .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration is 9, the condition is out of date
                              with respect to the current state of the instance.
                            format: int64
                            minimum: 0
                            type: integer
                          reason:
                            description: |-
                              reason contains a programmatic identifier indicating the reason for the condition's last transition.
                              Producers of specific condition types may define expected values and meanings for this field,
                              and whether the values are considered a guaranteed API.
                              The value should be a CamelCase string.
                              This field may not be empty.
                            maxLength: 1024
                            minLength: 1
                            pattern: ^[A-Za-z]([A-Za-z0-9_,:]*[A-Za-z0-9_])?$
                            type: string
                          status:
                            description: status of the condition, one of True, False,
                              Unknown.
                            enum:
                            - "True"
                            - "False"
                            - Unknown
                            type: string
                          type:
                            description: type of condition in CamelCase or in foo.example.com/CamelCase.
                            maxLength: 316
                            pattern: ^([a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*/)?(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])$
                            type: string
                        required:
                        - lastTransitionTime
                        - message
                        - reason
                        - status
                        - type
                        type: object
                      maxItems: 8
                      minItems: 1
                      type: array
                      x-kubernetes-list-map-keys:
                      - type
                      x-kubernetes-list-type: map
                    controllerName:
                      description: |-
                        ControllerName is a domain/path string that indicates the name of the
                        controller that wrote this status. This corresponds with the
                        controllerName field on GatewayClass.

                        Example: "example.net/gateway-controller".

                        The format of this field is DOMAIN "/" PATH, where DOMAIN and PATH are
                        valid Kubernetes names
                        (https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names).

                        Controllers MUST populate this field when writing status. Controllers should ensure that
                        entries to status populated with their ControllerName are cleaned up when they are no
                        longer necessary.
                      maxLength: 253
                      minLength: 1
                      pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*\/[A-Za-z0-9\/\-._~%!$&'()*+,;=:]+$
                      type: string
                  required:
                  - ancestorRef
                  - controllerName
                  type: object
                maxItems: 16
                type: array
            required:
            - ancestors
            type: object
        required:
        - spec
        type: object
    served: true
    storage: true
    subresources:
      status: {}
---
# Source: gateway-crds-helm/templates/generated/gateway.envoyproxy.io_envoypatchpolicies.yaml
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.17.3
  name: envoypatchpolicies.gateway.envoyproxy.io
spec:
  group: gateway.envoyproxy.io
  names:
    categories:
    - envoy-gateway
    kind: EnvoyPatchPolicy
    listKind: EnvoyPatchPolicyList
    plural: envoypatchpolicies
    shortNames:
    - epp
    singular: envoypatchpolicy
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - jsonPath: .status.conditions[?(@.type=="Programmed")].reason
      name: Status
      type: string
    - jsonPath: .metadata.creationTimestamp
      name: Age
      type: date
    name: v1alpha1
    schema:
      openAPIV3Schema:
        description: |-
          EnvoyPatchPolicy allows the user to modify the generated Envoy xDS
          resources by Envoy Gateway using this patch API
        properties:
          apiVersion:
            description: |-
              APIVersion defines the versioned schema of this representation of an object.
              Servers should convert recognized schemas to the latest internal value, and
              may reject unrecognized values.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
            type: string
          kind:
            description: |-
              Kind is a string value representing the REST resource this object represents.
              Servers may infer this from the endpoint the client submits requests to.
              Cannot be updated.
              In CamelCase.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
            type: string
          metadata:
            type: object
          spec:
            description: Spec defines the desired state of EnvoyPatchPolicy.
            properties:
              jsonPatches:
                description: JSONPatch defines the JSONPatch configuration.
                items:
                  description: |-
                    EnvoyJSONPatchConfig defines the configuration for patching a Envoy xDS Resource
                    using JSONPatch semantic
                  properties:
                    name:
                      description: Name is the name of the resource
                      type: string
                    operation:
                      description: Patch defines the JSON Patch Operation
                      properties:
                        from:
                          description: |-
                            From is the source location of the value to be copied or moved. Only valid
                            for move or copy operations
                            Refer to https://datatracker.ietf.org/doc/html/rfc6901 for more details.
                          type: string
                        jsonPath:
                          description: |-
                            JSONPath is a JSONPath expression. Refer to https://datatracker.ietf.org/doc/rfc9535/ for more details.
                            It produces one or more JSONPointer expressions based on the given JSON document.
                            If no JSONPointer is found, it will result in an error.
                            If the 'Path' property is also set, it will be appended to the resulting JSONPointer expressions from the JSONPath evaluation.
                            This is useful when creating a property that does not yet exist in the JSON document.
                            The final JSONPointer expressions specifies the locations in the target document/field where the operation will be applied.
                          type: string
                        op:
                          description: Op is the type of operation to perform
                          enum:
                          - add
                          - remove
                          - replace
                          - move
                          - copy
                          - test
                          type: string
                        path:
                          description: |-
                            Path is a JSONPointer expression. Refer to https://datatracker.ietf.org/doc/html/rfc6901 for more details.
                            It specifies the location of the target document/field where the operation will be performed
                          type: string
                        value:
                          description: |-
                            Value is the new value of the path location. The value is only used by
                            the `add` and `replace` operations.
                          x-kubernetes-preserve-unknown-fields: true
                      required:
                      - op
                      type: object
                    type:
                      description: Type is the typed URL of the Envoy xDS Resource
                      enum:
                      - type.googleapis.com/envoy.config.listener.v3.Listener
                      - type.googleapis.com/envoy.config.route.v3.RouteConfiguration
                      - type.googleapis.com/envoy.config.cluster.v3.Cluster
                      - type.googleapis.com/envoy.config.endpoint.v3.ClusterLoadAssignment
                      - type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.Secret
                      type: string
                  required:
                  - name
                  - operation
                  - type
                  type: object
                type: array
              priority:
                description: |-
                  Priority of the EnvoyPatchPolicy.
                  If multiple EnvoyPatchPolicies are applied to the same
                  TargetRef, they will be applied in the ascending order of
                  the priority i.e. int32.min has the highest priority and
                  int32.max has the lowest priority.
                  Defaults to 0.
                format: int32
                type: integer
              targetRef:
                description: |-
                  TargetRef is the name of the Gateway API resource this policy
                  is being attached to.
                  By default, attaching to Gateway is supported and
                  when mergeGateways is enabled it should attach to GatewayClass.
                  This Policy and the TargetRef MUST be in the same namespace
                  for this Policy to have effect and be applied to the Gateway
                  TargetRef
                properties:
                  group:
                    description: Group is the group of the target resource.
                    maxLength: 253
                    pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                    type: string
                  kind:
                    description: Kind is kind of the target resource.
                    maxLength: 63
                    minLength: 1
                    pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                    type: string
                  name:
                    description: Name is the name of the target resource.
                    maxLength: 253
                    minLength: 1
                    type: string
                required:
                - group
                - kind
                - name
                type: object
              type:
                description: |-
                  Type decides the type of patch.
                  Valid EnvoyPatchType values are "JSONPatch".
                enum:
                - JSONPatch
                type: string
            required:
            - targetRef
            - type
            type: object
          status:
            description: Status defines the current status of EnvoyPatchPolicy.
            properties:
              ancestors:
                description: |-
                  Ancestors is a list of ancestor resources (usually Gateways) that are
                  associated with the policy, and the status of the policy with respect to
                  each ancestor. When this policy attaches to a parent, the controller that
                  manages the parent and the ancestors MUST add an entry to this list when
                  the controller first sees the policy and SHOULD update the entry as
                  appropriate when the relevant ancestor is modified.

                  Note that choosing the relevant ancestor is left to the Policy designers;
                  an important part of Policy design is designing the right object level at
                  which to namespace this status.

                  Note also that implementations MUST ONLY populate ancestor status for
                  the Ancestor resources they are responsible for. Implementations MUST
                  use the ControllerName field to uniquely identify the entries in this list
                  that they are responsible for.

                  Note that to achieve this, the list of PolicyAncestorStatus structs
                  MUST be treated as a map with a composite key, made up of the AncestorRef
                  and ControllerName fields combined.

                  A maximum of 16 ancestors will be represented in this list. An empty list
                  means the Policy is not relevant for any ancestors.

                  If this slice is full, implementations MUST NOT add further entries.
                  Instead they MUST consider the policy unimplementable and signal that
                  on any related resources such as the ancestor that would be referenced
                  here. For example, if this list was full on BackendTLSPolicy, no
                  additional Gateways would be able to reference the Service targeted by
                  the BackendTLSPolicy.
                items:
                  description: |-
                    PolicyAncestorStatus describes the status of a route with respect to an
                    associated Ancestor.

                    Ancestors refer to objects that are either the Target of a policy or above it
                    in terms of object hierarchy. For example, if a policy targets a Service, the
                    Policy's Ancestors are, in order, the Service, the HTTPRoute, the Gateway, and
                    the GatewayClass. Almost always, in this hierarchy, the Gateway will be the most
                    useful object to place Policy status on, so we recommend that implementations
                    SHOULD use Gateway as the PolicyAncestorStatus object unless the designers
                    have a _very_ good reason otherwise.

                    In the context of policy attachment, the Ancestor is used to distinguish which
                    resource results in a distinct application of this policy. For example, if a policy
                    targets a Service, it may have a distinct result per attached Gateway.

                    Policies targeting the same resource may have different effects depending on the
                    ancestors of those resources. For example, different Gateways targeting the same
                    Service may have different capabilities, especially if they have different underlying
                    implementations.

                    For example, in BackendTLSPolicy, the Policy attaches to a Service that is
                    used as a backend in a HTTPRoute that is itself attached to a Gateway.
                    In this case, the relevant object for status is the Gateway, and that is the
                    ancestor object referred to in this status.

                    Note that a parent is also an ancestor, so for objects where the parent is the
                    relevant object for status, this struct SHOULD still be used.

                    This struct is intended to be used in a slice that's effectively a map,
                    with a composite key made up of the AncestorRef and the ControllerName.
                  properties:
                    ancestorRef:
                      description: |-
                        AncestorRef corresponds with a ParentRef in the spec that this
                        PolicyAncestorStatus struct describes the status of.
                      properties:
                        group:
                          default: gateway.networking.k8s.io
                          description: |-
                            Group is the group of the referent.
                            When unspecified, "gateway.networking.k8s.io" is inferred.
                            To set the core API group (such as for a "Service" kind referent),
                            Group must be explicitly set to "" (empty string).

                            Support: Core
                          maxLength: 253
                          pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                          type: string
                        kind:
                          default: Gateway
                          description: |-
                            Kind is kind of the referent.

                            There are two kinds of parent resources with "Core" support:

                            * Gateway (Gateway conformance profile)
                            * Service (Mesh conformance profile, ClusterIP Services only)

                            Support for other resources is Implementation-Specific.
                          maxLength: 63
                          minLength: 1
                          pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                          type: string
                        name:
                          description: |-
                            Name is the name of the referent.

                            Support: Core
                          maxLength: 253
                          minLength: 1
                          type: string
                        namespace:
                          description: |-
                            Namespace is the namespace of the referent. When unspecified, this refers
                            to the local namespace of the Route.

                            Note that there are specific rules for ParentRefs which cross namespace
                            boundaries. Cross-namespace references are only valid if they are explicitly
                            allowed by something in the namespace they are referring to. For example:
                            Gateway has the AllowedRoutes field, and ReferenceGrant provides a
                            generic way to enable any other kind of cross-namespace reference.

                            <gateway:experimental:description>
                            ParentRefs from a Route to a Service in the same namespace are "producer"
                            routes, which apply default routing rules to inbound connections from
                            any namespace to the Service.

                            ParentRefs from a Route to a Service in a different namespace are
                            "consumer" routes, and these routing rules are only applied to outbound
                            connections originating from the same namespace as the Route, for which
                            the intended destination of the connections are a Service targeted as a
                            ParentRef of the Route.
                            </gateway:experimental:description>

                            Support: Core
                          maxLength: 63
                          minLength: 1
                          pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                          type: string
                        port:
                          description: |-
                            Port is the network port this Route targets. It can be interpreted
                            differently based on the type of parent resource.

                            When the parent resource is a Gateway, this targets all listeners
                            listening on the specified port that also support this kind of Route(and
                            select this Route). It's not recommended to set `Port` unless the
                            networking behaviors specified in a Route must apply to a specific port
                            as opposed to a listener(s) whose port(s) may be changed. When both Port
                            and SectionName are specified, the name and port of the selected listener
                            must match both specified values.

                            <gateway:experimental:description>
                            When the parent resource is a Service, this targets a specific port in the
                            Service spec. When both Port (experimental) and SectionName are specified,
                            the name and port of the selected port must match both specified values.
                            </gateway:experimental:description>

                            Implementations MAY choose to support other parent resources.
                            Implementations supporting other types of parent resources MUST clearly
                            document how/if Port is interpreted.

                            For the purpose of status, an attachment is considered successful as
                            long as the parent resource accepts it partially. For example, Gateway
                            listeners can restrict which Routes can attach to them by Route kind,
                            namespace, or hostname. If 1 of 2 Gateway listeners accept attachment
                            from the referencing Route, the Route MUST be considered successfully
                            attached. If no Gateway listeners accept attachment from this Route,
                            the Route MUST be considered detached from the Gateway.

                            Support: Extended
                          format: int32
                          maximum: 65535
                          minimum: 1
                          type: integer
                        sectionName:
                          description: |-
                            SectionName is the name of a section within the target resource. In the
                            following resources, SectionName is interpreted as the following:

                            * Gateway: Listener name. When both Port (experimental) and SectionName
                            are specified, the name and port of the selected listener must match
                            both specified values.
                            * Service: Port name. When both Port (experimental) and SectionName
                            are specified, the name and port of the selected listener must match
                            both specified values.

                            Implementations MAY choose to support attaching Routes to other resources.
                            If that is the case, they MUST clearly document how SectionName is
                            interpreted.

                            When unspecified (empty string), this will reference the entire resource.
                            For the purpose of status, an attachment is considered successful if at
                            least one section in the parent resource accepts it. For example, Gateway
                            listeners can restrict which Routes can attach to them by Route kind,
                            namespace, or hostname. If 1 of 2 Gateway listeners accept attachment from
                            the referencing Route, the Route MUST be considered successfully
                            attached. If no Gateway listeners accept attachment from this Route, the
                            Route MUST be considered detached from the Gateway.

                            Support: Core
                          maxLength: 253
                          minLength: 1
                          pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                          type: string
                      required:
                      - name
                      type: object
                    conditions:
                      description: Conditions describes the status of the Policy with
                        respect to the given Ancestor.
                      items:
                        description: Condition contains details for one aspect of
                          the current state of this API Resource.
                        properties:
                          lastTransitionTime:
                            description: |-
                              lastTransitionTime is the last time the condition transitioned from one status to another.
                              This should be when the underlying condition changed.  If that is not known, then using the time when the API field changed is acceptable.
                            format: date-time
                            type: string
                          message:
                            description: |-
                              message is a human readable message indicating details about the transition.
                              This may be an empty string.
                            maxLength: 32768
                            type: string
                          observedGeneration:
                            description: |-
                              observedGeneration represents the .metadata.generation that the condition was set based upon.
                              For instance, if .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration is 9, the condition is out of date
                              with respect to the current state of the instance.
                            format: int64
                            minimum: 0
                            type: integer
                          reason:
                            description: |-
                              reason contains a programmatic identifier indicating the reason for the condition's last transition.
                              Producers of specific condition types may define expected values and meanings for this field,
                              and whether the values are considered a guaranteed API.
                              The value should be a CamelCase string.
                              This field may not be empty.
                            maxLength: 1024
                            minLength: 1
                            pattern: ^[A-Za-z]([A-Za-z0-9_,:]*[A-Za-z0-9_])?$
                            type: string
                          status:
                            description: status of the condition, one of True, False,
                              Unknown.
                            enum:
                            - "True"
                            - "False"
                            - Unknown
                            type: string
                          type:
                            description: type of condition in CamelCase or in foo.example.com/CamelCase.
                            maxLength: 316
                            pattern: ^([a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*/)?(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])$
                            type: string
                        required:
                        - lastTransitionTime
                        - message
                        - reason
                        - status
                        - type
                        type: object
                      maxItems: 8
                      minItems: 1
                      type: array
                      x-kubernetes-list-map-keys:
                      - type
                      x-kubernetes-list-type: map
                    controllerName:
                      description: |-
                        ControllerName is a domain/path string that indicates the name of the
                        controller that wrote this status. This corresponds with the
                        controllerName field on GatewayClass.

                        Example: "example.net/gateway-controller".

                        The format of this field is DOMAIN "/" PATH, where DOMAIN and PATH are
                        valid Kubernetes names
                        (https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names).

                        Controllers MUST populate this field when writing status. Controllers should ensure that
                        entries to status populated with their ControllerName are cleaned up when they are no
                        longer necessary.
                      maxLength: 253
                      minLength: 1
                      pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*\/[A-Za-z0-9\/\-._~%!$&'()*+,;=:]+$
                      type: string
                  required:
                  - ancestorRef
                  - controllerName
                  type: object
                maxItems: 16
                type: array
            required:
            - ancestors
            type: object
        required:
        - spec
        type: object
    served: true
    storage: true
    subresources:
      status: {}
---
# Source: gateway-crds-helm/templates/generated/gateway.envoyproxy.io_envoyproxies.yaml
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.17.3
  name: envoyproxies.gateway.envoyproxy.io
spec:
  group: gateway.envoyproxy.io
  names:
    categories:
    - envoy-gateway
    kind: EnvoyProxy
    listKind: EnvoyProxyList
    plural: envoyproxies
    shortNames:
    - eproxy
    singular: envoyproxy
  scope: Namespaced
  versions:
  - name: v1alpha1
    schema:
      openAPIV3Schema:
        description: EnvoyProxy is the schema for the envoyproxies API.
        properties:
          apiVersion:
            description: |-
              APIVersion defines the versioned schema of this representation of an object.
              Servers should convert recognized schemas to the latest internal value, and
              may reject unrecognized values.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
            type: string
          kind:
            description: |-
              Kind is a string value representing the REST resource this object represents.
              Servers may infer this from the endpoint the client submits requests to.
              Cannot be updated.
              In CamelCase.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
            type: string
          metadata:
            type: object
          spec:
            description: EnvoyProxySpec defines the desired state of EnvoyProxy.
            properties:
              backendTLS:
                description: |-
                  BackendTLS is the TLS configuration for the Envoy proxy to use when connecting to backends.
                  These settings are applied on backends for which TLS policies are specified.
                properties:
                  alpnProtocols:
                    description: |-
                      ALPNProtocols supplies the list of ALPN protocols that should be
                      exposed by the listener or used by the proxy to connect to the backend.
                      Defaults:
                      1. HTTPS Routes: h2 and http/1.1 are enabled in listener context.
                      2. Other Routes: ALPN is disabled.
                      3. Backends: proxy uses the appropriate ALPN options for the backend protocol.
                      When an empty list is provided, the ALPN TLS extension is disabled.
                      Supported values are:
                      - http/1.0
                      - http/1.1
                      - h2
                    items:
                      description: ALPNProtocol specifies the protocol to be negotiated
                        using ALPN
                      enum:
                      - http/1.0
                      - http/1.1
                      - h2
                      type: string
                    type: array
                  ciphers:
                    description: |-
                      Ciphers specifies the set of cipher suites supported when
                      negotiating TLS 1.0 - 1.2. This setting has no effect for TLS 1.3.
                      In non-FIPS Envoy Proxy builds the default cipher list is:
                      - [ECDHE-ECDSA-AES128-GCM-SHA256|ECDHE-ECDSA-CHACHA20-POLY1305]
                      - [ECDHE-RSA-AES128-GCM-SHA256|ECDHE-RSA-CHACHA20-POLY1305]
                      - ECDHE-ECDSA-AES256-GCM-SHA384
                      - ECDHE-RSA-AES256-GCM-SHA384
                      In builds using BoringSSL FIPS the default cipher list is:
                      - ECDHE-ECDSA-AES128-GCM-SHA256
                      - ECDHE-RSA-AES128-GCM-SHA256
                      - ECDHE-ECDSA-AES256-GCM-SHA384
                      - ECDHE-RSA-AES256-GCM-SHA384
                    items:
                      type: string
                    type: array
                  clientCertificateRef:
                    description: |-
                      ClientCertificateRef defines the reference to a Kubernetes Secret that contains
                      the client certificate and private key for Envoy to use when connecting to
                      backend services and external services, such as ExtAuth, ALS, OpenTelemetry, etc.
                      This secret should be located within the same namespace as the Envoy proxy resource that references it.
                    properties:
                      group:
                        default: ""
                        description: |-
                          Group is the group of the referent. For example, "gateway.networking.k8s.io".
                          When unspecified or empty string, core API group is inferred.
                        maxLength: 253
                        pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                        type: string
                      kind:
                        default: Secret
                        description: Kind is kind of the referent. For example "Secret".
                        maxLength: 63
                        minLength: 1
                        pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                        type: string
                      name:
                        description: Name is the name of the referent.
                        maxLength: 253
                        minLength: 1
                        type: string
                      namespace:
                        description: |-
                          Namespace is the namespace of the referenced object. When unspecified, the local
                          namespace is inferred.

                          Note that when a namespace different than the local namespace is specified,
                          a ReferenceGrant object is required in the referent namespace to allow that
                          namespace's owner to accept the reference. See the ReferenceGrant
                          documentation for details.

                          Support: Core
                        maxLength: 63
                        minLength: 1
                        pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                        type: string
                    required:
                    - name
                    type: object
                  ecdhCurves:
                    description: |-
                      ECDHCurves specifies the set of supported ECDH curves.
                      In non-FIPS Envoy Proxy builds the default curves are:
                      - X25519
                      - P-256
                      In builds using BoringSSL FIPS the default curve is:
                      - P-256
                    items:
                      type: string
                    type: array
                  maxVersion:
                    description: |-
                      Max specifies the maximal TLS protocol version to allow
                      The default is TLS 1.3 if this is not specified.
                    enum:
                    - Auto
                    - "1.0"
                    - "1.1"
                    - "1.2"
                    - "1.3"
                    type: string
                  minVersion:
                    description: |-
                      Min specifies the minimal TLS protocol version to allow.
                      The default is TLS 1.2 if this is not specified.
                    enum:
                    - Auto
                    - "1.0"
                    - "1.1"
                    - "1.2"
                    - "1.3"
                    type: string
                  signatureAlgorithms:
                    description: |-
                      SignatureAlgorithms specifies which signature algorithms the listener should
                      support.
                    items:
                      type: string
                    type: array
                type: object
                x-kubernetes-validations:
                - message: setting ciphers has no effect if the minimum possible TLS
                    version is 1.3
                  rule: 'has(self.minVersion) && self.minVersion == ''1.3'' ? !has(self.ciphers)
                    : true'
                - message: minVersion must be smaller or equal to maxVersion
                  rule: 'has(self.minVersion) && has(self.maxVersion) ? {"Auto":0,"1.0":1,"1.1":2,"1.2":3,"1.3":4}[self.minVersion]
                    <= {"1.0":1,"1.1":2,"1.2":3,"1.3":4,"Auto":5}[self.maxVersion]
                    : !has(self.minVersion) && has(self.maxVersion) ? 3 <= {"1.0":1,"1.1":2,"1.2":3,"1.3":4,"Auto":5}[self.maxVersion]
                    : true'
              bootstrap:
                description: |-
                  Bootstrap defines the Envoy Bootstrap as a YAML string.
                  Visit https://www.envoyproxy.io/docs/envoy/latest/api-v3/config/bootstrap/v3/bootstrap.proto#envoy-v3-api-msg-config-bootstrap-v3-bootstrap
                  to learn more about the syntax.
                  If set, this is the Bootstrap configuration used for the managed Envoy Proxy fleet instead of the default Bootstrap configuration
                  set by Envoy Gateway.
                  Some fields within the Bootstrap that are required to communicate with the xDS Server (Envoy Gateway) and receive xDS resources
                  from it are not configurable and will result in the `EnvoyProxy` resource being rejected.
                  Backward compatibility across minor versions is not guaranteed.
                  We strongly recommend using `egctl x translate` to generate a `EnvoyProxy` resource with the `Bootstrap` field set to the default
                  Bootstrap configuration used. You can edit this configuration, and rerun `egctl x translate` to ensure there are no validation errors.
                properties:
                  jsonPatches:
                    description: |-
                      JSONPatches is an array of JSONPatches to be applied to the default bootstrap. Patches are
                      applied in the order in which they are defined.
                    items:
                      description: |-
                        JSONPatchOperation defines the JSON Patch Operation as defined in
                        https://datatracker.ietf.org/doc/html/rfc6902
                      properties:
                        from:
                          description: |-
                            From is the source location of the value to be copied or moved. Only valid
                            for move or copy operations
                            Refer to https://datatracker.ietf.org/doc/html/rfc6901 for more details.
                          type: string
                        jsonPath:
                          description: |-
                            JSONPath is a JSONPath expression. Refer to https://datatracker.ietf.org/doc/rfc9535/ for more details.
                            It produces one or more JSONPointer expressions based on the given JSON document.
                            If no JSONPointer is found, it will result in an error.
                            If the 'Path' property is also set, it will be appended to the resulting JSONPointer expressions from the JSONPath evaluation.
                            This is useful when creating a property that does not yet exist in the JSON document.
                            The final JSONPointer expressions specifies the locations in the target document/field where the operation will be applied.
                          type: string
                        op:
                          description: Op is the type of operation to perform
                          enum:
                          - add
                          - remove
                          - replace
                          - move
                          - copy
                          - test
                          type: string
                        path:
                          description: |-
                            Path is a JSONPointer expression. Refer to https://datatracker.ietf.org/doc/html/rfc6901 for more details.
                            It specifies the location of the target document/field where the operation will be performed
                          type: string
                        value:
                          description: |-
                            Value is the new value of the path location. The value is only used by
                            the `add` and `replace` operations.
                          x-kubernetes-preserve-unknown-fields: true
                      required:
                      - op
                      type: object
                    type: array
                  type:
                    default: Replace
                    description: |-
                      Type is the type of the bootstrap configuration, it should be either **Replace**,  **Merge**, or **JSONPatch**.
                      If unspecified, it defaults to Replace.
                    enum:
                    - Merge
                    - Replace
                    - JSONPatch
                    type: string
                  value:
                    description: Value is a YAML string of the bootstrap.
                    type: string
                type: object
                x-kubernetes-validations:
                - message: provided bootstrap patch doesn't match the configured patch
                    type
                  rule: 'self.type == ''JSONPatch'' ? self.jsonPatches.size() > 0
                    : has(self.value)'
              concurrency:
                description: |-
                  Concurrency defines the number of worker threads to run. If unset, it defaults to
                  the number of cpuset threads on the platform.
                format: int32
                type: integer
              extraArgs:
                description: |-
                  ExtraArgs defines additional command line options that are provided to Envoy.
                  More info: https://www.envoyproxy.io/docs/envoy/latest/operations/cli#command-line-options
                  Note: some command line options are used internally(e.g. --log-level) so they cannot be provided here.
                items:
                  type: string
                type: array
              filterOrder:
                description: |-
                  FilterOrder defines the order of filters in the Envoy proxy's HTTP filter chain.
                  The FilterPosition in the list will be applied in the order they are defined.
                  If unspecified, the default filter order is applied.
                  Default filter order is:

                  - envoy.filters.http.health_check

                  - envoy.filters.http.fault

                  - envoy.filters.http.cors

                  - envoy.filters.http.ext_authz

                  - envoy.filters.http.basic_auth

                  - envoy.filters.http.oauth2

                  - envoy.filters.http.jwt_authn

                  - envoy.filters.http.stateful_session

                  - envoy.filters.http.lua

                  - envoy.filters.http.ext_proc

                  - envoy.filters.http.wasm

                  - envoy.filters.http.rbac

                  - envoy.filters.http.local_ratelimit

                  - envoy.filters.http.ratelimit

                  - envoy.filters.http.custom_response

                  - envoy.filters.http.router

                  Note: "envoy.filters.http.router" cannot be reordered, it's always the last filter in the chain.
                items:
                  description: FilterPosition defines the position of an Envoy HTTP
                    filter in the filter chain.
                  properties:
                    after:
                      description: |-
                        After defines the filter that should come after the filter.
                        Only one of Before or After must be set.
                      enum:
                      - envoy.filters.http.health_check
                      - envoy.filters.http.fault
                      - envoy.filters.http.cors
                      - envoy.filters.http.ext_authz
                      - envoy.filters.http.api_key_auth
                      - envoy.filters.http.basic_auth
                      - envoy.filters.http.oauth2
                      - envoy.filters.http.jwt_authn
                      - envoy.filters.http.stateful_session
                      - envoy.filters.http.lua
                      - envoy.filters.http.ext_proc
                      - envoy.filters.http.wasm
                      - envoy.filters.http.rbac
                      - envoy.filters.http.local_ratelimit
                      - envoy.filters.http.ratelimit
                      - envoy.filters.http.custom_response
                      - envoy.filters.http.compressor
                      type: string
                    before:
                      description: |-
                        Before defines the filter that should come before the filter.
                        Only one of Before or After must be set.
                      enum:
                      - envoy.filters.http.health_check
                      - envoy.filters.http.fault
                      - envoy.filters.http.cors
                      - envoy.filters.http.ext_authz
                      - envoy.filters.http.api_key_auth
                      - envoy.filters.http.basic_auth
                      - envoy.filters.http.oauth2
                      - envoy.filters.http.jwt_authn
                      - envoy.filters.http.stateful_session
                      - envoy.filters.http.lua
                      - envoy.filters.http.ext_proc
                      - envoy.filters.http.wasm
                      - envoy.filters.http.rbac
                      - envoy.filters.http.local_ratelimit
                      - envoy.filters.http.ratelimit
                      - envoy.filters.http.custom_response
                      - envoy.filters.http.compressor
                      type: string
                    name:
                      description: Name of the filter.
                      enum:
                      - envoy.filters.http.health_check
                      - envoy.filters.http.fault
                      - envoy.filters.http.cors
                      - envoy.filters.http.ext_authz
                      - envoy.filters.http.api_key_auth
                      - envoy.filters.http.basic_auth
                      - envoy.filters.http.oauth2
                      - envoy.filters.http.jwt_authn
                      - envoy.filters.http.stateful_session
                      - envoy.filters.http.lua
                      - envoy.filters.http.ext_proc
                      - envoy.filters.http.wasm
                      - envoy.filters.http.rbac
                      - envoy.filters.http.local_ratelimit
                      - envoy.filters.http.ratelimit
                      - envoy.filters.http.custom_response
                      - envoy.filters.http.compressor
                      type: string
                  required:
                  - name
                  type: object
                  x-kubernetes-validations:
                  - message: one of before or after must be specified
                    rule: (has(self.before) || has(self.after))
                  - message: only one of before or after can be specified
                    rule: (has(self.before) && !has(self.after)) || (!has(self.before)
                      && has(self.after))
                type: array
              ipFamily:
                description: |-
                  IPFamily specifies the IP family for the EnvoyProxy fleet.
                  This setting only affects the Gateway listener port and does not impact
                  other aspects of the Envoy proxy configuration.
                  If not specified, the system will operate as follows:
                  - It defaults to IPv4 only.
                  - IPv6 and dual-stack environments are not supported in this default configuration.
                  Note: To enable IPv6 or dual-stack functionality, explicit configuration is required.
                enum:
                - IPv4
                - IPv6
                - DualStack
                type: string
              logging:
                default:
                  level:
                    default: warn
                description: Logging defines logging parameters for managed proxies.
                properties:
                  level:
                    additionalProperties:
                      description: LogLevel defines a log level for Envoy Gateway
                        and EnvoyProxy system logs.
                      enum:
                      - trace
                      - debug
                      - info
                      - warn
                      - error
                      type: string
                    default:
                      default: warn
                    description: |-
                      Level is a map of logging level per component, where the component is the key
                      and the log level is the value. If unspecified, defaults to "default: warn".
                    type: object
                type: object
              mergeGateways:
                description: |-
                  MergeGateways defines if Gateway resources should be merged onto the same Envoy Proxy Infrastructure.
                  Setting this field to true would merge all Gateway Listeners under the parent Gateway Class.
                  This means that the port, protocol and hostname tuple must be unique for every listener.
                  If a duplicate listener is detected, the newer listener (based on timestamp) will be rejected and its status will be updated with a "Accepted=False" condition.
                type: boolean
              preserveRouteOrder:
                description: |-
                  PreserveRouteOrder determines if the order of matching for HTTPRoutes is determined by Gateway-API
                  specification (https://gateway-api.sigs.k8s.io/reference/spec/#gateway.networking.k8s.io/v1.HTTPRouteRule)
                  or preserves the order defined by users in the HTTPRoute's HTTPRouteRule list.
                  Default: False
                type: boolean
              provider:
                description: |-
                  Provider defines the desired resource provider and provider-specific configuration.
                  If unspecified, the "Kubernetes" resource provider is used with default configuration
                  parameters.
                properties:
                  kubernetes:
                    description: |-
                      Kubernetes defines the desired state of the Kubernetes resource provider.
                      Kubernetes provides infrastructure resources for running the data plane,
                      e.g. Envoy proxy. If unspecified and type is "Kubernetes", default settings
                      for managed Kubernetes resources are applied.
                    properties:
                      envoyDaemonSet:
                        description: |-
                          EnvoyDaemonSet defines the desired state of the Envoy daemonset resource.
                          Disabled by default, a deployment resource is used instead to provision the Envoy Proxy fleet
                        properties:
                          container:
                            description: Container defines the desired specification
                              of main container.
                            properties:
                              env:
                                description: List of environment variables to set
                                  in the container.
                                items:
                                  description: EnvVar represents an environment variable
                                    present in a Container.
                                  properties:
                                    name:
                                      description: Name of the environment variable.
                                        Must be a C_IDENTIFIER.
                                      type: string
                                    value:
                                      description: |-
                                        Variable references $(VAR_NAME) are expanded
                                        using the previously defined environment variables in the container and
                                        any service environment variables. If a variable cannot be resolved,
                                        the reference in the input string will be unchanged. Double $$ are reduced
                                        to a single $, which allows for escaping the $(VAR_NAME) syntax: i.e.
                                        "$$(VAR_NAME)" will produce the string literal "$(VAR_NAME)".
                                        Escaped references will never be expanded, regardless of whether the variable
                                        exists or not.
                                        Defaults to "".
                                      type: string
                                    valueFrom:
                                      description: Source for the environment variable's
                                        value. Cannot be used if value is not empty.
                                      properties:
                                        configMapKeyRef:
                                          description: Selects a key of a ConfigMap.
                                          properties:
                                            key:
                                              description: The key to select.
                                              type: string
                                            name:
                                              default: ""
                                              description: |-
                                                Name of the referent.
                                                This field is effectively required, but due to backwards compatibility is
                                                allowed to be empty. Instances of this type with an empty value here are
                                                almost certainly wrong.
                                                More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                              type: string
                                            optional:
                                              description: Specify whether the ConfigMap
                                                or its key must be defined
                                              type: boolean
                                          required:
                                          - key
                                          type: object
                                          x-kubernetes-map-type: atomic
                                        fieldRef:
                                          description: |-
                                            Selects a field of the pod: supports metadata.name, metadata.namespace, `metadata.labels['<KEY>']`, `metadata.annotations['<KEY>']`,
                                            spec.nodeName, spec.serviceAccountName, status.hostIP, status.podIP, status.podIPs.
                                          properties:
                                            apiVersion:
                                              description: Version of the schema the
                                                FieldPath is written in terms of,
                                                defaults to "v1".
                                              type: string
                                            fieldPath:
                                              description: Path of the field to select
                                                in the specified API version.
                                              type: string
                                          required:
                                          - fieldPath
                                          type: object
                                          x-kubernetes-map-type: atomic
                                        resourceFieldRef:
                                          description: |-
                                            Selects a resource of the container: only resources limits and requests
                                            (limits.cpu, limits.memory, limits.ephemeral-storage, requests.cpu, requests.memory and requests.ephemeral-storage) are currently supported.
                                          properties:
                                            containerName:
                                              description: 'Container name: required
                                                for volumes, optional for env vars'
                                              type: string
                                            divisor:
                                              anyOf:
                                              - type: integer
                                              - type: string
                                              description: Specifies the output format
                                                of the exposed resources, defaults
                                                to "1"
                                              pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                              x-kubernetes-int-or-string: true
                                            resource:
                                              description: 'Required: resource to
                                                select'
                                              type: string
                                          required:
                                          - resource
                                          type: object
                                          x-kubernetes-map-type: atomic
                                        secretKeyRef:
                                          description: Selects a key of a secret in
                                            the pod's namespace
                                          properties:
                                            key:
                                              description: The key of the secret to
                                                select from.  Must be a valid secret
                                                key.
                                              type: string
                                            name:
                                              default: ""
                                              description: |-
                                                Name of the referent.
                                                This field is effectively required, but due to backwards compatibility is
                                                allowed to be empty. Instances of this type with an empty value here are
                                                almost certainly wrong.
                                                More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                              type: string
                                            optional:
                                              description: Specify whether the Secret
                                                or its key must be defined
                                              type: boolean
                                          required:
                                          - key
                                          type: object
                                          x-kubernetes-map-type: atomic
                                      type: object
                                  required:
                                  - name
                                  type: object
                                type: array
                              image:
                                description: Image specifies the EnvoyProxy container
                                  image to be used, instead of the default image.
                                type: string
                              resources:
                                description: |-
                                  Resources required by this container.
                                  More info: https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/
                                properties:
                                  claims:
                                    description: |-
                                      Claims lists the names of resources, defined in spec.resourceClaims,
                                      that are used by this container.

                                      This is an alpha field and requires enabling the
                                      DynamicResourceAllocation feature gate.

                                      This field is immutable. It can only be set for containers.
                                    items:
                                      description: ResourceClaim references one entry
                                        in PodSpec.ResourceClaims.
                                      properties:
                                        name:
                                          description: |-
                                            Name must match the name of one entry in pod.spec.resourceClaims of
                                            the Pod where this field is used. It makes that resource available
                                            inside a container.
                                          type: string
                                        request:
                                          description: |-
                                            Request is the name chosen for a request in the referenced claim.
                                            If empty, everything from the claim is made available, otherwise
                                            only the result of this request.
                                          type: string
                                      required:
                                      - name
                                      type: object
                                    type: array
                                    x-kubernetes-list-map-keys:
                                    - name
                                    x-kubernetes-list-type: map
                                  limits:
                                    additionalProperties:
                                      anyOf:
                                      - type: integer
                                      - type: string
                                      pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                      x-kubernetes-int-or-string: true
                                    description: |-
                                      Limits describes the maximum amount of compute resources allowed.
                                      More info: https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/
                                    type: object
                                  requests:
                                    additionalProperties:
                                      anyOf:
                                      - type: integer
                                      - type: string
                                      pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                      x-kubernetes-int-or-string: true
                                    description: |-
                                      Requests describes the minimum amount of compute resources required.
                                      If Requests is omitted for a container, it defaults to Limits if that is explicitly specified,
                                      otherwise to an implementation-defined value. Requests cannot exceed Limits.
                                      More info: https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/
                                    type: object
                                type: object
                              securityContext:
                                description: |-
                                  SecurityContext defines the security options the container should be run with.
                                  If set, the fields of SecurityContext override the equivalent fields of PodSecurityContext.
                                  More info: https://kubernetes.io/docs/tasks/configure-pod-container/security-context/
                                properties:
                                  allowPrivilegeEscalation:
                                    description: |-
                                      AllowPrivilegeEscalation controls whether a process can gain more
                                      privileges than its parent process. This bool directly controls if
                                      the no_new_privs flag will be set on the container process.
                                      AllowPrivilegeEscalation is true always when the container is:
                                      1) run as Privileged
                                      2) has CAP_SYS_ADMIN
                                      Note that this field cannot be set when spec.os.name is windows.
                                    type: boolean
                                  appArmorProfile:
                                    description: |-
                                      appArmorProfile is the AppArmor options to use by this container. If set, this profile
                                      overrides the pod's appArmorProfile.
                                      Note that this field cannot be set when spec.os.name is windows.
                                    properties:
                                      localhostProfile:
                                        description: |-
                                          localhostProfile indicates a profile loaded on the node that should be used.
                                          The profile must be preconfigured on the node to work.
                                          Must match the loaded name of the profile.
                                          Must be set if and only if type is "Localhost".
                                        type: string
                                      type:
                                        description: |-
                                          type indicates which kind of AppArmor profile will be applied.
                                          Valid options are:
                                            Localhost - a profile pre-loaded on the node.
                                            RuntimeDefault - the container runtime's default profile.
                                            Unconfined - no AppArmor enforcement.
                                        type: string
                                    required:
                                    - type
                                    type: object
                                  capabilities:
                                    description: |-
                                      The capabilities to add/drop when running containers.
                                      Defaults to the default set of capabilities granted by the container runtime.
                                      Note that this field cannot be set when spec.os.name is windows.
                                    properties:
                                      add:
                                        description: Added capabilities
                                        items:
                                          description: Capability represent POSIX
                                            capabilities type
                                          type: string
                                        type: array
                                        x-kubernetes-list-type: atomic
                                      drop:
                                        description: Removed capabilities
                                        items:
                                          description: Capability represent POSIX
                                            capabilities type
                                          type: string
                                        type: array
                                        x-kubernetes-list-type: atomic
                                    type: object
                                  privileged:
                                    description: |-
                                      Run container in privileged mode.
                                      Processes in privileged containers are essentially equivalent to root on the host.
                                      Defaults to false.
                                      Note that this field cannot be set when spec.os.name is windows.
                                    type: boolean
                                  procMount:
                                    description: |-
                                      procMount denotes the type of proc mount to use for the containers.
                                      The default value is Default which uses the container runtime defaults for
                                      readonly paths and masked paths.
                                      This requires the ProcMountType feature flag to be enabled.
                                      Note that this field cannot be set when spec.os.name is windows.
                                    type: string
                                  readOnlyRootFilesystem:
                                    description: |-
                                      Whether this container has a read-only root filesystem.
                                      Default is false.
                                      Note that this field cannot be set when spec.os.name is windows.
                                    type: boolean
                                  runAsGroup:
                                    description: |-
                                      The GID to run the entrypoint of the container process.
                                      Uses runtime default if unset.
                                      May also be set in PodSecurityContext.  If set in both SecurityContext and
                                      PodSecurityContext, the value specified in SecurityContext takes precedence.
                                      Note that this field cannot be set when spec.os.name is windows.
                                    format: int64
                                    type: integer
                                  runAsNonRoot:
                                    description: |-
                                      Indicates that the container must run as a non-root user.
                                      If true, the Kubelet will validate the image at runtime to ensure that it
                                      does not run as UID 0 (root) and fail to start the container if it does.
                                      If unset or false, no such validation will be performed.
                                      May also be set in PodSecurityContext.  If set in both SecurityContext and
                                      PodSecurityContext, the value specified in SecurityContext takes precedence.
                                    type: boolean
                                  runAsUser:
                                    description: |-
                                      The UID to run the entrypoint of the container process.
                                      Defaults to user specified in image metadata if unspecified.
                                      May also be set in PodSecurityContext.  If set in both SecurityContext and
                                      PodSecurityContext, the value specified in SecurityContext takes precedence.
                                      Note that this field cannot be set when spec.os.name is windows.
                                    format: int64
                                    type: integer
                                  seLinuxOptions:
                                    description: |-
                                      The SELinux context to be applied to the container.
                                      If unspecified, the container runtime will allocate a random SELinux context for each
                                      container.  May also be set in PodSecurityContext.  If set in both SecurityContext and
                                      PodSecurityContext, the value specified in SecurityContext takes precedence.
                                      Note that this field cannot be set when spec.os.name is windows.
                                    properties:
                                      level:
                                        description: Level is SELinux level label
                                          that applies to the container.
                                        type: string
                                      role:
                                        description: Role is a SELinux role label
                                          that applies to the container.
                                        type: string
                                      type:
                                        description: Type is a SELinux type label
                                          that applies to the container.
                                        type: string
                                      user:
                                        description: User is a SELinux user label
                                          that applies to the container.
                                        type: string
                                    type: object
                                  seccompProfile:
                                    description: |-
                                      The seccomp options to use by this container. If seccomp options are
                                      provided at both the pod & container level, the container options
                                      override the pod options.
                                      Note that this field cannot be set when spec.os.name is windows.
                                    properties:
                                      localhostProfile:
                                        description: |-
                                          localhostProfile indicates a profile defined in a file on the node should be used.
                                          The profile must be preconfigured on the node to work.
                                          Must be a descending path, relative to the kubelet's configured seccomp profile location.
                                          Must be set if type is "Localhost". Must NOT be set for any other type.
                                        type: string
                                      type:
                                        description: |-
                                          type indicates which kind of seccomp profile will be applied.
                                          Valid options are:

                                          Localhost - a profile defined in a file on the node should be used.
                                          RuntimeDefault - the container runtime default profile should be used.
                                          Unconfined - no profile should be applied.
                                        type: string
                                    required:
                                    - type
                                    type: object
                                  windowsOptions:
                                    description: |-
                                      The Windows specific settings applied to all containers.
                                      If unspecified, the options from the PodSecurityContext will be used.
                                      If set in both SecurityContext and PodSecurityContext, the value specified in SecurityContext takes precedence.
                                      Note that this field cannot be set when spec.os.name is linux.
                                    properties:
                                      gmsaCredentialSpec:
                                        description: |-
                                          GMSACredentialSpec is where the GMSA admission webhook
                                          (https://github.com/kubernetes-sigs/windows-gmsa) inlines the contents of the
                                          GMSA credential spec named by the GMSACredentialSpecName field.
                                        type: string
                                      gmsaCredentialSpecName:
                                        description: GMSACredentialSpecName is the
                                          name of the GMSA credential spec to use.
                                        type: string
                                      hostProcess:
                                        description: |-
                                          HostProcess determines if a container should be run as a 'Host Process' container.
                                          All of a Pod's containers must have the same effective HostProcess value
                                          (it is not allowed to have a mix of HostProcess containers and non-HostProcess containers).
                                          In addition, if HostProcess is true then HostNetwork must also be set to true.
                                        type: boolean
                                      runAsUserName:
                                        description: |-
                                          The UserName in Windows to run the entrypoint of the container process.
                                          Defaults to the user specified in image metadata if unspecified.
                                          May also be set in PodSecurityContext. If set in both SecurityContext and
                                          PodSecurityContext, the value specified in SecurityContext takes precedence.
                                        type: string
                                    type: object
                                type: object
                              volumeMounts:
                                description: |-
                                  VolumeMounts are volumes to mount into the container's filesystem.
                                  Cannot be updated.
                                items:
                                  description: VolumeMount describes a mounting of
                                    a Volume within a container.
                                  properties:
                                    mountPath:
                                      description: |-
                                        Path within the container at which the volume should be mounted.  Must
                                        not contain ':'.
                                      type: string
                                    mountPropagation:
                                      description: |-
                                        mountPropagation determines how mounts are propagated from the host
                                        to container and the other way around.
                                        When not set, MountPropagationNone is used.
                                        This field is beta in 1.10.
                                        When RecursiveReadOnly is set to IfPossible or to Enabled, MountPropagation must be None or unspecified
                                        (which defaults to None).
                                      type: string
                                    name:
                                      description: This must match the Name of a Volume.
                                      type: string
                                    readOnly:
                                      description: |-
                                        Mounted read-only if true, read-write otherwise (false or unspecified).
                                        Defaults to false.
                                      type: boolean
                                    recursiveReadOnly:
                                      description: |-
                                        RecursiveReadOnly specifies whether read-only mounts should be handled
                                        recursively.

                                        If ReadOnly is false, this field has no meaning and must be unspecified.

                                        If ReadOnly is true, and this field is set to Disabled, the mount is not made
                                        recursively read-only.  If this field is set to IfPossible, the mount is made
                                        recursively read-only, if it is supported by the container runtime.  If this
                                        field is set to Enabled, the mount is made recursively read-only if it is
                                        supported by the container runtime, otherwise the pod will not be started and
                                        an error will be generated to indicate the reason.

                                        If this field is set to IfPossible or Enabled, MountPropagation must be set to
                                        None (or be unspecified, which defaults to None).

                                        If this field is not specified, it is treated as an equivalent of Disabled.
                                      type: string
                                    subPath:
                                      description: |-
                                        Path within the volume from which the container's volume should be mounted.
                                        Defaults to "" (volume's root).
                                      type: string
                                    subPathExpr:
                                      description: |-
                                        Expanded path within the volume from which the container's volume should be mounted.
                                        Behaves similarly to SubPath but environment variable references $(VAR_NAME) are expanded using the container's environment.
                                        Defaults to "" (volume's root).
                                        SubPathExpr and SubPath are mutually exclusive.
                                      type: string
                                  required:
                                  - mountPath
                                  - name
                                  type: object
                                type: array
                            type: object
                          name:
                            description: |-
                              Name of the daemonSet.
                              When unset, this defaults to an autogenerated name.
                            type: string
                          patch:
                            description: Patch defines how to perform the patch operation
                              to daemonset
                            properties:
                              type:
                                description: |-
                                  Type is the type of merge operation to perform

                                  By default, StrategicMerge is used as the patch type.
                                type: string
                              value:
                                description: Object contains the raw configuration
                                  for merged object
                                x-kubernetes-preserve-unknown-fields: true
                            required:
                            - value
                            type: object
                          pod:
                            description: Pod defines the desired specification of
                              pod.
                            properties:
                              affinity:
                                description: If specified, the pod's scheduling constraints.
                                properties:
                                  nodeAffinity:
                                    description: Describes node affinity scheduling
                                      rules for the pod.
                                    properties:
                                      preferredDuringSchedulingIgnoredDuringExecution:
                                        description: |-
                                          The scheduler will prefer to schedule pods to nodes that satisfy
                                          the affinity expressions specified by this field, but it may choose
                                          a node that violates one or more of the expressions. The node that is
                                          most preferred is the one with the greatest sum of weights, i.e.
                                          for each node that meets all of the scheduling requirements (resource
                                          request, requiredDuringScheduling affinity expressions, etc.),
                                          compute a sum by iterating through the elements of this field and adding
                                          "weight" to the sum if the node matches the corresponding matchExpressions; the
                                          node(s) with the highest sum are the most preferred.
                                        items:
                                          description: |-
                                            An empty preferred scheduling term matches all objects with implicit weight 0
                                            (i.e. it's a no-op). A null preferred scheduling term matches no objects (i.e. is also a no-op).
                                          properties:
                                            preference:
                                              description: A node selector term, associated
                                                with the corresponding weight.
                                              properties:
                                                matchExpressions:
                                                  description: A list of node selector
                                                    requirements by node's labels.
                                                  items:
                                                    description: |-
                                                      A node selector requirement is a selector that contains values, a key, and an operator
                                                      that relates the key and values.
                                                    properties:
                                                      key:
                                                        description: The label key
                                                          that the selector applies
                                                          to.
                                                        type: string
                                                      operator:
                                                        description: |-
                                                          Represents a key's relationship to a set of values.
                                                          Valid operators are In, NotIn, Exists, DoesNotExist. Gt, and Lt.
                                                        type: string
                                                      values:
                                                        description: |-
                                                          An array of string values. If the operator is In or NotIn,
                                                          the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                          the values array must be empty. If the operator is Gt or Lt, the values
                                                          array must have a single element, which will be interpreted as an integer.
                                                          This array is replaced during a strategic merge patch.
                                                        items:
                                                          type: string
                                                        type: array
                                                        x-kubernetes-list-type: atomic
                                                    required:
                                                    - key
                                                    - operator
                                                    type: object
                                                  type: array
                                                  x-kubernetes-list-type: atomic
                                                matchFields:
                                                  description: A list of node selector
                                                    requirements by node's fields.
                                                  items:
                                                    description: |-
                                                      A node selector requirement is a selector that contains values, a key, and an operator
                                                      that relates the key and values.
                                                    properties:
                                                      key:
                                                        description: The label key
                                                          that the selector applies
                                                          to.
                                                        type: string
                                                      operator:
                                                        description: |-
                                                          Represents a key's relationship to a set of values.
                                                          Valid operators are In, NotIn, Exists, DoesNotExist. Gt, and Lt.
                                                        type: string
                                                      values:
                                                        description: |-
                                                          An array of string values. If the operator is In or NotIn,
                                                          the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                          the values array must be empty. If the operator is Gt or Lt, the values
                                                          array must have a single element, which will be interpreted as an integer.
                                                          This array is replaced during a strategic merge patch.
                                                        items:
                                                          type: string
                                                        type: array
                                                        x-kubernetes-list-type: atomic
                                                    required:
                                                    - key
                                                    - operator
                                                    type: object
                                                  type: array
                                                  x-kubernetes-list-type: atomic
                                              type: object
                                              x-kubernetes-map-type: atomic
                                            weight:
                                              description: Weight associated with
                                                matching the corresponding nodeSelectorTerm,
                                                in the range 1-100.
                                              format: int32
                                              type: integer
                                          required:
                                          - preference
                                          - weight
                                          type: object
                                        type: array
                                        x-kubernetes-list-type: atomic
                                      requiredDuringSchedulingIgnoredDuringExecution:
                                        description: |-
                                          If the affinity requirements specified by this field are not met at
                                          scheduling time, the pod will not be scheduled onto the node.
                                          If the affinity requirements specified by this field cease to be met
                                          at some point during pod execution (e.g. due to an update), the system
                                          may or may not try to eventually evict the pod from its node.
                                        properties:
                                          nodeSelectorTerms:
                                            description: Required. A list of node
                                              selector terms. The terms are ORed.
                                            items:
                                              description: |-
                                                A null or empty node selector term matches no objects. The requirements of
                                                them are ANDed.
                                                The TopologySelectorTerm type implements a subset of the NodeSelectorTerm.
                                              properties:
                                                matchExpressions:
                                                  description: A list of node selector
                                                    requirements by node's labels.
                                                  items:
                                                    description: |-
                                                      A node selector requirement is a selector that contains values, a key, and an operator
                                                      that relates the key and values.
                                                    properties:
                                                      key:
                                                        description: The label key
                                                          that the selector applies
                                                          to.
                                                        type: string
                                                      operator:
                                                        description: |-
                                                          Represents a key's relationship to a set of values.
                                                          Valid operators are In, NotIn, Exists, DoesNotExist. Gt, and Lt.
                                                        type: string
                                                      values:
                                                        description: |-
                                                          An array of string values. If the operator is In or NotIn,
                                                          the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                          the values array must be empty. If the operator is Gt or Lt, the values
                                                          array must have a single element, which will be interpreted as an integer.
                                                          This array is replaced during a strategic merge patch.
                                                        items:
                                                          type: string
                                                        type: array
                                                        x-kubernetes-list-type: atomic
                                                    required:
                                                    - key
                                                    - operator
                                                    type: object
                                                  type: array
                                                  x-kubernetes-list-type: atomic
                                                matchFields:
                                                  description: A list of node selector
                                                    requirements by node's fields.
                                                  items:
                                                    description: |-
                                                      A node selector requirement is a selector that contains values, a key, and an operator
                                                      that relates the key and values.
                                                    properties:
                                                      key:
                                                        description: The label key
                                                          that the selector applies
                                                          to.
                                                        type: string
                                                      operator:
                                                        description: |-
                                                          Represents a key's relationship to a set of values.
                                                          Valid operators are In, NotIn, Exists, DoesNotExist. Gt, and Lt.
                                                        type: string
                                                      values:
                                                        description: |-
                                                          An array of string values. If the operator is In or NotIn,
                                                          the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                          the values array must be empty. If the operator is Gt or Lt, the values
                                                          array must have a single element, which will be interpreted as an integer.
                                                          This array is replaced during a strategic merge patch.
                                                        items:
                                                          type: string
                                                        type: array
                                                        x-kubernetes-list-type: atomic
                                                    required:
                                                    - key
                                                    - operator
                                                    type: object
                                                  type: array
                                                  x-kubernetes-list-type: atomic
                                              type: object
                                              x-kubernetes-map-type: atomic
                                            type: array
                                            x-kubernetes-list-type: atomic
                                        required:
                                        - nodeSelectorTerms
                                        type: object
                                        x-kubernetes-map-type: atomic
                                    type: object
                                  podAffinity:
                                    description: Describes pod affinity scheduling
                                      rules (e.g. co-locate this pod in the same node,
                                      zone, etc. as some other pod(s)).
                                    properties:
                                      preferredDuringSchedulingIgnoredDuringExecution:
                                        description: |-
                                          The scheduler will prefer to schedule pods to nodes that satisfy
                                          the affinity expressions specified by this field, but it may choose
                                          a node that violates one or more of the expressions. The node that is
                                          most preferred is the one with the greatest sum of weights, i.e.
                                          for each node that meets all of the scheduling requirements (resource
                                          request, requiredDuringScheduling affinity expressions, etc.),
                                          compute a sum by iterating through the elements of this field and adding
                                          "weight" to the sum if the node has pods which matches the corresponding podAffinityTerm; the
                                          node(s) with the highest sum are the most preferred.
                                        items:
                                          description: The weights of all of the matched
                                            WeightedPodAffinityTerm fields are added
                                            per-node to find the most preferred node(s)
                                          properties:
                                            podAffinityTerm:
                                              description: Required. A pod affinity
                                                term, associated with the corresponding
                                                weight.
                                              properties:
                                                labelSelector:
                                                  description: |-
                                                    A label query over a set of resources, in this case pods.
                                                    If it's null, this PodAffinityTerm matches with no Pods.
                                                  properties:
                                                    matchExpressions:
                                                      description: matchExpressions
                                                        is a list of label selector
                                                        requirements. The requirements
                                                        are ANDed.
                                                      items:
                                                        description: |-
                                                          A label selector requirement is a selector that contains values, a key, and an operator that
                                                          relates the key and values.
                                                        properties:
                                                          key:
                                                            description: key is the
                                                              label key that the selector
                                                              applies to.
                                                            type: string
                                                          operator:
                                                            description: |-
                                                              operator represents a key's relationship to a set of values.
                                                              Valid operators are In, NotIn, Exists and DoesNotExist.
                                                            type: string
                                                          values:
                                                            description: |-
                                                              values is an array of string values. If the operator is In or NotIn,
                                                              the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                              the values array must be empty. This array is replaced during a strategic
                                                              merge patch.
                                                            items:
                                                              type: string
                                                            type: array
                                                            x-kubernetes-list-type: atomic
                                                        required:
                                                        - key
                                                        - operator
                                                        type: object
                                                      type: array
                                                      x-kubernetes-list-type: atomic
                                                    matchLabels:
                                                      additionalProperties:
                                                        type: string
                                                      description: |-
                                                        matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                                        map is equivalent to an element of matchExpressions, whose key field is "key", the
                                                        operator is "In", and the values array contains only "value". The requirements are ANDed.
                                                      type: object
                                                  type: object
                                                  x-kubernetes-map-type: atomic
                                                matchLabelKeys:
                                                  description: |-
                                                    MatchLabelKeys is a set of pod label keys to select which pods will
                                                    be taken into consideration. The keys are used to lookup values from the
                                                    incoming pod labels, those key-value labels are merged with `labelSelector` as `key in (value)`
                                                    to select the group of existing pods which pods will be taken into consideration
                                                    for the incoming pod's pod (anti) affinity. Keys that don't exist in the incoming
                                                    pod labels will be ignored. The default value is empty.
                                                    The same key is forbidden to exist in both matchLabelKeys and labelSelector.
                                                    Also, matchLabelKeys cannot be set when labelSelector isn't set.
                                                  items:
                                                    type: string
                                                  type: array
                                                  x-kubernetes-list-type: atomic
                                                mismatchLabelKeys:
                                                  description: |-
                                                    MismatchLabelKeys is a set of pod label keys to select which pods will
                                                    be taken into consideration. The keys are used to lookup values from the
                                                    incoming pod labels, those key-value labels are merged with `labelSelector` as `key notin (value)`
                                                    to select the group of existing pods which pods will be taken into consideration
                                                    for the incoming pod's pod (anti) affinity. Keys that don't exist in the incoming
                                                    pod labels will be ignored. The default value is empty.
                                                    The same key is forbidden to exist in both mismatchLabelKeys and labelSelector.
                                                    Also, mismatchLabelKeys cannot be set when labelSelector isn't set.
                                                  items:
                                                    type: string
                                                  type: array
                                                  x-kubernetes-list-type: atomic
                                                namespaceSelector:
                                                  description: |-
                                                    A label query over the set of namespaces that the term applies to.
                                                    The term is applied to the union of the namespaces selected by this field
                                                    and the ones listed in the namespaces field.
                                                    null selector and null or empty namespaces list means "this pod's namespace".
                                                    An empty selector ({}) matches all namespaces.
                                                  properties:
                                                    matchExpressions:
                                                      description: matchExpressions
                                                        is a list of label selector
                                                        requirements. The requirements
                                                        are ANDed.
                                                      items:
                                                        description: |-
                                                          A label selector requirement is a selector that contains values, a key, and an operator that
                                                          relates the key and values.
                                                        properties:
                                                          key:
                                                            description: key is the
                                                              label key that the selector
                                                              applies to.
                                                            type: string
                                                          operator:
                                                            description: |-
                                                              operator represents a key's relationship to a set of values.
                                                              Valid operators are In, NotIn, Exists and DoesNotExist.
                                                            type: string
                                                          values:
                                                            description: |-
                                                              values is an array of string values. If the operator is In or NotIn,
                                                              the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                              the values array must be empty. This array is replaced during a strategic
                                                              merge patch.
                                                            items:
                                                              type: string
                                                            type: array
                                                            x-kubernetes-list-type: atomic
                                                        required:
                                                        - key
                                                        - operator
                                                        type: object
                                                      type: array
                                                      x-kubernetes-list-type: atomic
                                                    matchLabels:
                                                      additionalProperties:
                                                        type: string
                                                      description: |-
                                                        matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                                        map is equivalent to an element of matchExpressions, whose key field is "key", the
                                                        operator is "In", and the values array contains only "value". The requirements are ANDed.
                                                      type: object
                                                  type: object
                                                  x-kubernetes-map-type: atomic
                                                namespaces:
                                                  description: |-
                                                    namespaces specifies a static list of namespace names that the term applies to.
                                                    The term is applied to the union of the namespaces listed in this field
                                                    and the ones selected by namespaceSelector.
                                                    null or empty namespaces list and null namespaceSelector means "this pod's namespace".
                                                  items:
                                                    type: string
                                                  type: array
                                                  x-kubernetes-list-type: atomic
                                                topologyKey:
                                                  description: |-
                                                    This pod should be co-located (affinity) or not co-located (anti-affinity) with the pods matching
                                                    the labelSelector in the specified namespaces, where co-located is defined as running on a node
                                                    whose value of the label with key topologyKey matches that of any node on which any of the
                                                    selected pods is running.
                                                    Empty topologyKey is not allowed.
                                                  type: string
                                              required:
                                              - topologyKey
                                              type: object
                                            weight:
                                              description: |-
                                                weight associated with matching the corresponding podAffinityTerm,
                                                in the range 1-100.
                                              format: int32
                                              type: integer
                                          required:
                                          - podAffinityTerm
                                          - weight
                                          type: object
                                        type: array
                                        x-kubernetes-list-type: atomic
                                      requiredDuringSchedulingIgnoredDuringExecution:
                                        description: |-
                                          If the affinity requirements specified by this field are not met at
                                          scheduling time, the pod will not be scheduled onto the node.
                                          If the affinity requirements specified by this field cease to be met
                                          at some point during pod execution (e.g. due to a pod label update), the
                                          system may or may not try to eventually evict the pod from its node.
                                          When there are multiple elements, the lists of nodes corresponding to each
                                          podAffinityTerm are intersected, i.e. all terms must be satisfied.
                                        items:
                                          description: |-
                                            Defines a set of pods (namely those matching the labelSelector
                                            relative to the given namespace(s)) that this pod should be
                                            co-located (affinity) or not co-located (anti-affinity) with,
                                            where co-located is defined as running on a node whose value of
                                            the label with key <topologyKey> matches that of any node on which
                                            a pod of the set of pods is running
                                          properties:
                                            labelSelector:
                                              description: |-
                                                A label query over a set of resources, in this case pods.
                                                If it's null, this PodAffinityTerm matches with no Pods.
                                              properties:
                                                matchExpressions:
                                                  description: matchExpressions is
                                                    a list of label selector requirements.
                                                    The requirements are ANDed.
                                                  items:
                                                    description: |-
                                                      A label selector requirement is a selector that contains values, a key, and an operator that
                                                      relates the key and values.
                                                    properties:
                                                      key:
                                                        description: key is the label
                                                          key that the selector applies
                                                          to.
                                                        type: string
                                                      operator:
                                                        description: |-
                                                          operator represents a key's relationship to a set of values.
                                                          Valid operators are In, NotIn, Exists and DoesNotExist.
                                                        type: string
                                                      values:
                                                        description: |-
                                                          values is an array of string values. If the operator is In or NotIn,
                                                          the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                          the values array must be empty. This array is replaced during a strategic
                                                          merge patch.
                                                        items:
                                                          type: string
                                                        type: array
                                                        x-kubernetes-list-type: atomic
                                                    required:
                                                    - key
                                                    - operator
                                                    type: object
                                                  type: array
                                                  x-kubernetes-list-type: atomic
                                                matchLabels:
                                                  additionalProperties:
                                                    type: string
                                                  description: |-
                                                    matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                                    map is equivalent to an element of matchExpressions, whose key field is "key", the
                                                    operator is "In", and the values array contains only "value". The requirements are ANDed.
                                                  type: object
                                              type: object
                                              x-kubernetes-map-type: atomic
                                            matchLabelKeys:
                                              description: |-
                                                MatchLabelKeys is a set of pod label keys to select which pods will
                                                be taken into consideration. The keys are used to lookup values from the
                                                incoming pod labels, those key-value labels are merged with `labelSelector` as `key in (value)`
                                                to select the group of existing pods which pods will be taken into consideration
                                                for the incoming pod's pod (anti) affinity. Keys that don't exist in the incoming
                                                pod labels will be ignored. The default value is empty.
                                                The same key is forbidden to exist in both matchLabelKeys and labelSelector.
                                                Also, matchLabelKeys cannot be set when labelSelector isn't set.
                                              items:
                                                type: string
                                              type: array
                                              x-kubernetes-list-type: atomic
                                            mismatchLabelKeys:
                                              description: |-
                                                MismatchLabelKeys is a set of pod label keys to select which pods will
                                                be taken into consideration. The keys are used to lookup values from the
                                                incoming pod labels, those key-value labels are merged with `labelSelector` as `key notin (value)`
                                                to select the group of existing pods which pods will be taken into consideration
                                                for the incoming pod's pod (anti) affinity. Keys that don't exist in the incoming
                                                pod labels will be ignored. The default value is empty.
                                                The same key is forbidden to exist in both mismatchLabelKeys and labelSelector.
                                                Also, mismatchLabelKeys cannot be set when labelSelector isn't set.
                                              items:
                                                type: string
                                              type: array
                                              x-kubernetes-list-type: atomic
                                            namespaceSelector:
                                              description: |-
                                                A label query over the set of namespaces that the term applies to.
                                                The term is applied to the union of the namespaces selected by this field
                                                and the ones listed in the namespaces field.
                                                null selector and null or empty namespaces list means "this pod's namespace".
                                                An empty selector ({}) matches all namespaces.
                                              properties:
                                                matchExpressions:
                                                  description: matchExpressions is
                                                    a list of label selector requirements.
                                                    The requirements are ANDed.
                                                  items:
                                                    description: |-
                                                      A label selector requirement is a selector that contains values, a key, and an operator that
                                                      relates the key and values.
                                                    properties:
                                                      key:
                                                        description: key is the label
                                                          key that the selector applies
                                                          to.
                                                        type: string
                                                      operator:
                                                        description: |-
                                                          operator represents a key's relationship to a set of values.
                                                          Valid operators are In, NotIn, Exists and DoesNotExist.
                                                        type: string
                                                      values:
                                                        description: |-
                                                          values is an array of string values. If the operator is In or NotIn,
                                                          the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                          the values array must be empty. This array is replaced during a strategic
                                                          merge patch.
                                                        items:
                                                          type: string
                                                        type: array
                                                        x-kubernetes-list-type: atomic
                                                    required:
                                                    - key
                                                    - operator
                                                    type: object
                                                  type: array
                                                  x-kubernetes-list-type: atomic
                                                matchLabels:
                                                  additionalProperties:
                                                    type: string
                                                  description: |-
                                                    matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                                    map is equivalent to an element of matchExpressions, whose key field is "key", the
                                                    operator is "In", and the values array contains only "value". The requirements are ANDed.
                                                  type: object
                                              type: object
                                              x-kubernetes-map-type: atomic
                                            namespaces:
                                              description: |-
                                                namespaces specifies a static list of namespace names that the term applies to.
                                                The term is applied to the union of the namespaces listed in this field
                                                and the ones selected by namespaceSelector.
                                                null or empty namespaces list and null namespaceSelector means "this pod's namespace".
                                              items:
                                                type: string
                                              type: array
                                              x-kubernetes-list-type: atomic
                                            topologyKey:
                                              description: |-
                                                This pod should be co-located (affinity) or not co-located (anti-affinity) with the pods matching
                                                the labelSelector in the specified namespaces, where co-located is defined as running on a node
                                                whose value of the label with key topologyKey matches that of any node on which any of the
                                                selected pods is running.
                                                Empty topologyKey is not allowed.
                                              type: string
                                          required:
                                          - topologyKey
                                          type: object
                                        type: array
                                        x-kubernetes-list-type: atomic
                                    type: object
                                  podAntiAffinity:
                                    description: Describes pod anti-affinity scheduling
                                      rules (e.g. avoid putting this pod in the same
                                      node, zone, etc. as some other pod(s)).
                                    properties:
                                      preferredDuringSchedulingIgnoredDuringExecution:
                                        description: |-
                                          The scheduler will prefer to schedule pods to nodes that satisfy
                                          the anti-affinity expressions specified by this field, but it may choose
                                          a node that violates one or more of the expressions. The node that is
                                          most preferred is the one with the greatest sum of weights, i.e.
                                          for each node that meets all of the scheduling requirements (resource
                                          request, requiredDuringScheduling anti-affinity expressions, etc.),
                                          compute a sum by iterating through the elements of this field and adding
                                          "weight" to the sum if the node has pods which matches the corresponding podAffinityTerm; the
                                          node(s) with the highest sum are the most preferred.
                                        items:
                                          description: The weights of all of the matched
                                            WeightedPodAffinityTerm fields are added
                                            per-node to find the most preferred node(s)
                                          properties:
                                            podAffinityTerm:
                                              description: Required. A pod affinity
                                                term, associated with the corresponding
                                                weight.
                                              properties:
                                                labelSelector:
                                                  description: |-
                                                    A label query over a set of resources, in this case pods.
                                                    If it's null, this PodAffinityTerm matches with no Pods.
                                                  properties:
                                                    matchExpressions:
                                                      description: matchExpressions
                                                        is a list of label selector
                                                        requirements. The requirements
                                                        are ANDed.
                                                      items:
                                                        description: |-
                                                          A label selector requirement is a selector that contains values, a key, and an operator that
                                                          relates the key and values.
                                                        properties:
                                                          key:
                                                            description: key is the
                                                              label key that the selector
                                                              applies to.
                                                            type: string
                                                          operator:
                                                            description: |-
                                                              operator represents a key's relationship to a set of values.
                                                              Valid operators are In, NotIn, Exists and DoesNotExist.
                                                            type: string
                                                          values:
                                                            description: |-
                                                              values is an array of string values. If the operator is In or NotIn,
                                                              the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                              the values array must be empty. This array is replaced during a strategic
                                                              merge patch.
                                                            items:
                                                              type: string
                                                            type: array
                                                            x-kubernetes-list-type: atomic
                                                        required:
                                                        - key
                                                        - operator
                                                        type: object
                                                      type: array
                                                      x-kubernetes-list-type: atomic
                                                    matchLabels:
                                                      additionalProperties:
                                                        type: string
                                                      description: |-
                                                        matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                                        map is equivalent to an element of matchExpressions, whose key field is "key", the
                                                        operator is "In", and the values array contains only "value". The requirements are ANDed.
                                                      type: object
                                                  type: object
                                                  x-kubernetes-map-type: atomic
                                                matchLabelKeys:
                                                  description: |-
                                                    MatchLabelKeys is a set of pod label keys to select which pods will
                                                    be taken into consideration. The keys are used to lookup values from the
                                                    incoming pod labels, those key-value labels are merged with `labelSelector` as `key in (value)`
                                                    to select the group of existing pods which pods will be taken into consideration
                                                    for the incoming pod's pod (anti) affinity. Keys that don't exist in the incoming
                                                    pod labels will be ignored. The default value is empty.
                                                    The same key is forbidden to exist in both matchLabelKeys and labelSelector.
                                                    Also, matchLabelKeys cannot be set when labelSelector isn't set.
                                                  items:
                                                    type: string
                                                  type: array
                                                  x-kubernetes-list-type: atomic
                                                mismatchLabelKeys:
                                                  description: |-
                                                    MismatchLabelKeys is a set of pod label keys to select which pods will
                                                    be taken into consideration. The keys are used to lookup values from the
                                                    incoming pod labels, those key-value labels are merged with `labelSelector` as `key notin (value)`
                                                    to select the group of existing pods which pods will be taken into consideration
                                                    for the incoming pod's pod (anti) affinity. Keys that don't exist in the incoming
                                                    pod labels will be ignored. The default value is empty.
                                                    The same key is forbidden to exist in both mismatchLabelKeys and labelSelector.
                                                    Also, mismatchLabelKeys cannot be set when labelSelector isn't set.
                                                  items:
                                                    type: string
                                                  type: array
                                                  x-kubernetes-list-type: atomic
                                                namespaceSelector:
                                                  description: |-
                                                    A label query over the set of namespaces that the term applies to.
                                                    The term is applied to the union of the namespaces selected by this field
                                                    and the ones listed in the namespaces field.
                                                    null selector and null or empty namespaces list means "this pod's namespace".
                                                    An empty selector ({}) matches all namespaces.
                                                  properties:
                                                    matchExpressions:
                                                      description: matchExpressions
                                                        is a list of label selector
                                                        requirements. The requirements
                                                        are ANDed.
                                                      items:
                                                        description: |-
                                                          A label selector requirement is a selector that contains values, a key, and an operator that
                                                          relates the key and values.
                                                        properties:
                                                          key:
                                                            description: key is the
                                                              label key that the selector
                                                              applies to.
                                                            type: string
                                                          operator:
                                                            description: |-
                                                              operator represents a key's relationship to a set of values.
                                                              Valid operators are In, NotIn, Exists and DoesNotExist.
                                                            type: string
                                                          values:
                                                            description: |-
                                                              values is an array of string values. If the operator is In or NotIn,
                                                              the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                              the values array must be empty. This array is replaced during a strategic
                                                              merge patch.
                                                            items:
                                                              type: string
                                                            type: array
                                                            x-kubernetes-list-type: atomic
                                                        required:
                                                        - key
                                                        - operator
                                                        type: object
                                                      type: array
                                                      x-kubernetes-list-type: atomic
                                                    matchLabels:
                                                      additionalProperties:
                                                        type: string
                                                      description: |-
                                                        matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                                        map is equivalent to an element of matchExpressions, whose key field is "key", the
                                                        operator is "In", and the values array contains only "value". The requirements are ANDed.
                                                      type: object
                                                  type: object
                                                  x-kubernetes-map-type: atomic
                                                namespaces:
                                                  description: |-
                                                    namespaces specifies a static list of namespace names that the term applies to.
                                                    The term is applied to the union of the namespaces listed in this field
                                                    and the ones selected by namespaceSelector.
                                                    null or empty namespaces list and null namespaceSelector means "this pod's namespace".
                                                  items:
                                                    type: string
                                                  type: array
                                                  x-kubernetes-list-type: atomic
                                                topologyKey:
                                                  description: |-
                                                    This pod should be co-located (affinity) or not co-located (anti-affinity) with the pods matching
                                                    the labelSelector in the specified namespaces, where co-located is defined as running on a node
                                                    whose value of the label with key topologyKey matches that of any node on which any of the
                                                    selected pods is running.
                                                    Empty topologyKey is not allowed.
                                                  type: string
                                              required:
                                              - topologyKey
                                              type: object
                                            weight:
                                              description: |-
                                                weight associated with matching the corresponding podAffinityTerm,
                                                in the range 1-100.
                                              format: int32
                                              type: integer
                                          required:
                                          - podAffinityTerm
                                          - weight
                                          type: object
                                        type: array
                                        x-kubernetes-list-type: atomic
                                      requiredDuringSchedulingIgnoredDuringExecution:
                                        description: |-
                                          If the anti-affinity requirements specified by this field are not met at
                                          scheduling time, the pod will not be scheduled onto the node.
                                          If the anti-affinity requirements specified by this field cease to be met
                                          at some point during pod execution (e.g. due to a pod label update), the
                                          system may or may not try to eventually evict the pod from its node.
                                          When there are multiple elements, the lists of nodes corresponding to each
                                          podAffinityTerm are intersected, i.e. all terms must be satisfied.
                                        items:
                                          description: |-
                                            Defines a set of pods (namely those matching the labelSelector
                                            relative to the given namespace(s)) that this pod should be
                                            co-located (affinity) or not co-located (anti-affinity) with,
                                            where co-located is defined as running on a node whose value of
                                            the label with key <topologyKey> matches that of any node on which
                                            a pod of the set of pods is running
                                          properties:
                                            labelSelector:
                                              description: |-
                                                A label query over a set of resources, in this case pods.
                                                If it's null, this PodAffinityTerm matches with no Pods.
                                              properties:
                                                matchExpressions:
                                                  description: matchExpressions is
                                                    a list of label selector requirements.
                                                    The requirements are ANDed.
                                                  items:
                                                    description: |-
                                                      A label selector requirement is a selector that contains values, a key, and an operator that
                                                      relates the key and values.
                                                    properties:
                                                      key:
                                                        description: key is the label
                                                          key that the selector applies
                                                          to.
                                                        type: string
                                                      operator:
                                                        description: |-
                                                          operator represents a key's relationship to a set of values.
                                                          Valid operators are In, NotIn, Exists and DoesNotExist.
                                                        type: string
                                                      values:
                                                        description: |-
                                                          values is an array of string values. If the operator is In or NotIn,
                                                          the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                          the values array must be empty. This array is replaced during a strategic
                                                          merge patch.
                                                        items:
                                                          type: string
                                                        type: array
                                                        x-kubernetes-list-type: atomic
                                                    required:
                                                    - key
                                                    - operator
                                                    type: object
                                                  type: array
                                                  x-kubernetes-list-type: atomic
                                                matchLabels:
                                                  additionalProperties:
                                                    type: string
                                                  description: |-
                                                    matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                                    map is equivalent to an element of matchExpressions, whose key field is "key", the
                                                    operator is "In", and the values array contains only "value". The requirements are ANDed.
                                                  type: object
                                              type: object
                                              x-kubernetes-map-type: atomic
                                            matchLabelKeys:
                                              description: |-
                                                MatchLabelKeys is a set of pod label keys to select which pods will
                                                be taken into consideration. The keys are used to lookup values from the
                                                incoming pod labels, those key-value labels are merged with `labelSelector` as `key in (value)`
                                                to select the group of existing pods which pods will be taken into consideration
                                                for the incoming pod's pod (anti) affinity. Keys that don't exist in the incoming
                                                pod labels will be ignored. The default value is empty.
                                                The same key is forbidden to exist in both matchLabelKeys and labelSelector.
                                                Also, matchLabelKeys cannot be set when labelSelector isn't set.
                                              items:
                                                type: string
                                              type: array
                                              x-kubernetes-list-type: atomic
                                            mismatchLabelKeys:
                                              description: |-
                                                MismatchLabelKeys is a set of pod label keys to select which pods will
                                                be taken into consideration. The keys are used to lookup values from the
                                                incoming pod labels, those key-value labels are merged with `labelSelector` as `key notin (value)`
                                                to select the group of existing pods which pods will be taken into consideration
                                                for the incoming pod's pod (anti) affinity. Keys that don't exist in the incoming
                                                pod labels will be ignored. The default value is empty.
                                                The same key is forbidden to exist in both mismatchLabelKeys and labelSelector.
                                                Also, mismatchLabelKeys cannot be set when labelSelector isn't set.
                                              items:
                                                type: string
                                              type: array
                                              x-kubernetes-list-type: atomic
                                            namespaceSelector:
                                              description: |-
                                                A label query over the set of namespaces that the term applies to.
                                                The term is applied to the union of the namespaces selected by this field
                                                and the ones listed in the namespaces field.
                                                null selector and null or empty namespaces list means "this pod's namespace".
                                                An empty selector ({}) matches all namespaces.
                                              properties:
                                                matchExpressions:
                                                  description: matchExpressions is
                                                    a list of label selector requirements.
                                                    The requirements are ANDed.
                                                  items:
                                                    description: |-
                                                      A label selector requirement is a selector that contains values, a key, and an operator that
                                                      relates the key and values.
                                                    properties:
                                                      key:
                                                        description: key is the label
                                                          key that the selector applies
                                                          to.
                                                        type: string
                                                      operator:
                                                        description: |-
                                                          operator represents a key's relationship to a set of values.
                                                          Valid operators are In, NotIn, Exists and DoesNotExist.
                                                        type: string
                                                      values:
                                                        description: |-
                                                          values is an array of string values. If the operator is In or NotIn,
                                                          the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                          the values array must be empty. This array is replaced during a strategic
                                                          merge patch.
                                                        items:
                                                          type: string
                                                        type: array
                                                        x-kubernetes-list-type: atomic
                                                    required:
                                                    - key
                                                    - operator
                                                    type: object
                                                  type: array
                                                  x-kubernetes-list-type: atomic
                                                matchLabels:
                                                  additionalProperties:
                                                    type: string
                                                  description: |-
                                                    matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                                    map is equivalent to an element of matchExpressions, whose key field is "key", the
                                                    operator is "In", and the values array contains only "value". The requirements are ANDed.
                                                  type: object
                                              type: object
                                              x-kubernetes-map-type: atomic
                                            namespaces:
                                              description: |-
                                                namespaces specifies a static list of namespace names that the term applies to.
                                                The term is applied to the union of the namespaces listed in this field
                                                and the ones selected by namespaceSelector.
                                                null or empty namespaces list and null namespaceSelector means "this pod's namespace".
                                              items:
                                                type: string
                                              type: array
                                              x-kubernetes-list-type: atomic
                                            topologyKey:
                                              description: |-
                                                This pod should be co-located (affinity) or not co-located (anti-affinity) with the pods matching
                                                the labelSelector in the specified namespaces, where co-located is defined as running on a node
                                                whose value of the label with key topologyKey matches that of any node on which any of the
                                                selected pods is running.
                                                Empty topologyKey is not allowed.
                                              type: string
                                          required:
                                          - topologyKey
                                          type: object
                                        type: array
                                        x-kubernetes-list-type: atomic
                                    type: object
                                type: object
                              annotations:
                                additionalProperties:
                                  type: string
                                description: |-
                                  Annotations are the annotations that should be appended to the pods.
                                  By default, no pod annotations are appended.
                                type: object
                              imagePullSecrets:
                                description: |-
                                  ImagePullSecrets is an optional list of references to secrets
                                  in the same namespace to use for pulling any of the images used by this PodSpec.
                                  If specified, these secrets will be passed to individual puller implementations for them to use.
                                  More info: https://kubernetes.io/docs/concepts/containers/images#specifying-imagepullsecrets-on-a-pod
                                items:
                                  description: |-
                                    LocalObjectReference contains enough information to let you locate the
                                    referenced object inside the same namespace.
                                  properties:
                                    name:
                                      default: ""
                                      description: |-
                                        Name of the referent.
                                        This field is effectively required, but due to backwards compatibility is
                                        allowed to be empty. Instances of this type with an empty value here are
                                        almost certainly wrong.
                                        More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                      type: string
                                  type: object
                                  x-kubernetes-map-type: atomic
                                type: array
                              labels:
                                additionalProperties:
                                  type: string
                                description: |-
                                  Labels are the additional labels that should be tagged to the pods.
                                  By default, no additional pod labels are tagged.
                                type: object
                              nodeSelector:
                                additionalProperties:
                                  type: string
                                description: |-
                                  NodeSelector is a selector which must be true for the pod to fit on a node.
                                  Selector which must match a node's labels for the pod to be scheduled on that node.
                                  More info: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/
                                type: object
                              securityContext:
                                description: |-
                                  SecurityContext holds pod-level security attributes and common container settings.
                                  Optional: Defaults to empty.  See type description for default values of each field.
                                properties:
                                  appArmorProfile:
                                    description: |-
                                      appArmorProfile is the AppArmor options to use by the containers in this pod.
                                      Note that this field cannot be set when spec.os.name is windows.
                                    properties:
                                      localhostProfile:
                                        description: |-
                                          localhostProfile indicates a profile loaded on the node that should be used.
                                          The profile must be preconfigured on the node to work.
                                          Must match the loaded name of the profile.
                                          Must be set if and only if type is "Localhost".
                                        type: string
                                      type:
                                        description: |-
                                          type indicates which kind of AppArmor profile will be applied.
                                          Valid options are:
                                            Localhost - a profile pre-loaded on the node.
                                            RuntimeDefault - the container runtime's default profile.
                                            Unconfined - no AppArmor enforcement.
                                        type: string
                                    required:
                                    - type
                                    type: object
                                  fsGroup:
                                    description: |-
                                      A special supplemental group that applies to all containers in a pod.
                                      Some volume types allow the Kubelet to change the ownership of that volume
                                      to be owned by the pod:

                                      1. The owning GID will be the FSGroup
                                      2. The setgid bit is set (new files created in the volume will be owned by FSGroup)
                                      3. The permission bits are OR'd with rw-rw----

                                      If unset, the Kubelet will not modify the ownership and permissions of any volume.
                                      Note that this field cannot be set when spec.os.name is windows.
                                    format: int64
                                    type: integer
                                  fsGroupChangePolicy:
                                    description: |-
                                      fsGroupChangePolicy defines behavior of changing ownership and permission of the volume
                                      before being exposed inside Pod. This field will only apply to
                                      volume types which support fsGroup based ownership(and permissions).
                                      It will have no effect on ephemeral volume types such as: secret, configmaps
                                      and emptydir.
                                      Valid values are "OnRootMismatch" and "Always". If not specified, "Always" is used.
                                      Note that this field cannot be set when spec.os.name is windows.
                                    type: string
                                  runAsGroup:
                                    description: |-
                                      The GID to run the entrypoint of the container process.
                                      Uses runtime default if unset.
                                      May also be set in SecurityContext.  If set in both SecurityContext and
                                      PodSecurityContext, the value specified in SecurityContext takes precedence
                                      for that container.
                                      Note that this field cannot be set when spec.os.name is windows.
                                    format: int64
                                    type: integer
                                  runAsNonRoot:
                                    description: |-
                                      Indicates that the container must run as a non-root user.
                                      If true, the Kubelet will validate the image at runtime to ensure that it
                                      does not run as UID 0 (root) and fail to start the container if it does.
                                      If unset or false, no such validation will be performed.
                                      May also be set in SecurityContext.  If set in both SecurityContext and
                                      PodSecurityContext, the value specified in SecurityContext takes precedence.
                                    type: boolean
                                  runAsUser:
                                    description: |-
                                      The UID to run the entrypoint of the container process.
                                      Defaults to user specified in image metadata if unspecified.
                                      May also be set in SecurityContext.  If set in both SecurityContext and
                                      PodSecurityContext, the value specified in SecurityContext takes precedence
                                      for that container.
                                      Note that this field cannot be set when spec.os.name is windows.
                                    format: int64
                                    type: integer
                                  seLinuxChangePolicy:
                                    description: |-
                                      seLinuxChangePolicy defines how the container's SELinux label is applied to all volumes used by the Pod.
                                      It has no effect on nodes that do not support SELinux or to volumes does not support SELinux.
                                      Valid values are "MountOption" and "Recursive".

                                      "Recursive" means relabeling of all files on all Pod volumes by the container runtime.
                                      This may be slow for large volumes, but allows mixing privileged and unprivileged Pods sharing the same volume on the same node.

                                      "MountOption" mounts all eligible Pod volumes with `-o context` mount option.
                                      This requires all Pods that share the same volume to use the same SELinux label.
                                      It is not possible to share the same volume among privileged and unprivileged Pods.
                                      Eligible volumes are in-tree FibreChannel and iSCSI volumes, and all CSI volumes
                                      whose CSI driver announces SELinux support by setting spec.seLinuxMount: true in their
                                      CSIDriver instance. Other volumes are always re-labelled recursively.
                                      "MountOption" value is allowed only when SELinuxMount feature gate is enabled.

                                      If not specified and SELinuxMount feature gate is enabled, "MountOption" is used.
                                      If not specified and SELinuxMount feature gate is disabled, "MountOption" is used for ReadWriteOncePod volumes
                                      and "Recursive" for all other volumes.

                                      This field affects only Pods that have SELinux label set, either in PodSecurityContext or in SecurityContext of all containers.

                                      All Pods that use the same volume should use the same seLinuxChangePolicy, otherwise some pods can get stuck in ContainerCreating state.
                                      Note that this field cannot be set when spec.os.name is windows.
                                    type: string
                                  seLinuxOptions:
                                    description: |-
                                      The SELinux context to be applied to all containers.
                                      If unspecified, the container runtime will allocate a random SELinux context for each
                                      container.  May also be set in SecurityContext.  If set in
                                      both SecurityContext and PodSecurityContext, the value specified in SecurityContext
                                      takes precedence for that container.
                                      Note that this field cannot be set when spec.os.name is windows.
                                    properties:
                                      level:
                                        description: Level is SELinux level label
                                          that applies to the container.
                                        type: string
                                      role:
                                        description: Role is a SELinux role label
                                          that applies to the container.
                                        type: string
                                      type:
                                        description: Type is a SELinux type label
                                          that applies to the container.
                                        type: string
                                      user:
                                        description: User is a SELinux user label
                                          that applies to the container.
                                        type: string
                                    type: object
                                  seccompProfile:
                                    description: |-
                                      The seccomp options to use by the containers in this pod.
                                      Note that this field cannot be set when spec.os.name is windows.
                                    properties:
                                      localhostProfile:
                                        description: |-
                                          localhostProfile indicates a profile defined in a file on the node should be used.
                                          The profile must be preconfigured on the node to work.
                                          Must be a descending path, relative to the kubelet's configured seccomp profile location.
                                          Must be set if type is "Localhost". Must NOT be set for any other type.
                                        type: string
                                      type:
                                        description: |-
                                          type indicates which kind of seccomp profile will be applied.
                                          Valid options are:

                                          Localhost - a profile defined in a file on the node should be used.
                                          RuntimeDefault - the container runtime default profile should be used.
                                          Unconfined - no profile should be applied.
                                        type: string
                                    required:
                                    - type
                                    type: object
                                  supplementalGroups:
                                    description: |-
                                      A list of groups applied to the first process run in each container, in
                                      addition to the container's primary GID and fsGroup (if specified).  If
                                      the SupplementalGroupsPolicy feature is enabled, the
                                      supplementalGroupsPolicy field determines whether these are in addition
                                      to or instead of any group memberships defined in the container image.
                                      If unspecified, no additional groups are added, though group memberships
                                      defined in the container image may still be used, depending on the
                                      supplementalGroupsPolicy field.
                                      Note that this field cannot be set when spec.os.name is windows.
                                    items:
                                      format: int64
                                      type: integer
                                    type: array
                                    x-kubernetes-list-type: atomic
                                  supplementalGroupsPolicy:
                                    description: |-
                                      Defines how supplemental groups of the first container processes are calculated.
                                      Valid values are "Merge" and "Strict". If not specified, "Merge" is used.
                                      (Alpha) Using the field requires the SupplementalGroupsPolicy feature gate to be enabled
                                      and the container runtime must implement support for this feature.
                                      Note that this field cannot be set when spec.os.name is windows.
                                    type: string
                                  sysctls:
                                    description: |-
                                      Sysctls hold a list of namespaced sysctls used for the pod. Pods with unsupported
                                      sysctls (by the container runtime) might fail to launch.
                                      Note that this field cannot be set when spec.os.name is windows.
                                    items:
                                      description: Sysctl defines a kernel parameter
                                        to be set
                                      properties:
                                        name:
                                          description: Name of a property to set
                                          type: string
                                        value:
                                          description: Value of a property to set
                                          type: string
                                      required:
                                      - name
                                      - value
                                      type: object
                                    type: array
                                    x-kubernetes-list-type: atomic
                                  windowsOptions:
                                    description: |-
                                      The Windows specific settings applied to all containers.
                                      If unspecified, the options within a container's SecurityContext will be used.
                                      If set in both SecurityContext and PodSecurityContext, the value specified in SecurityContext takes precedence.
                                      Note that this field cannot be set when spec.os.name is linux.
                                    properties:
                                      gmsaCredentialSpec:
                                        description: |-
                                          GMSACredentialSpec is where the GMSA admission webhook
                                          (https://github.com/kubernetes-sigs/windows-gmsa) inlines the contents of the
                                          GMSA credential spec named by the GMSACredentialSpecName field.
                                        type: string
                                      gmsaCredentialSpecName:
                                        description: GMSACredentialSpecName is the
                                          name of the GMSA credential spec to use.
                                        type: string
                                      hostProcess:
                                        description: |-
                                          HostProcess determines if a container should be run as a 'Host Process' container.
                                          All of a Pod's containers must have the same effective HostProcess value
                                          (it is not allowed to have a mix of HostProcess containers and non-HostProcess containers).
                                          In addition, if HostProcess is true then HostNetwork must also be set to true.
                                        type: boolean
                                      runAsUserName:
                                        description: |-
                                          The UserName in Windows to run the entrypoint of the container process.
                                          Defaults to the user specified in image metadata if unspecified.
                                          May also be set in PodSecurityContext. If set in both SecurityContext and
                                          PodSecurityContext, the value specified in SecurityContext takes precedence.
                                        type: string
                                    type: object
                                type: object
                              tolerations:
                                description: If specified, the pod's tolerations.
                                items:
                                  description: |-
                                    The pod this Toleration is attached to tolerates any taint that matches
                                    the triple <key,value,effect> using the matching operator <operator>.
                                  properties:
                                    effect:
                                      description: |-
                                        Effect indicates the taint effect to match. Empty means match all taint effects.
                                        When specified, allowed values are NoSchedule, PreferNoSchedule and NoExecute.
                                      type: string
                                    key:
                                      description: |-
                                        Key is the taint key that the toleration applies to. Empty means match all taint keys.
                                        If the key is empty, operator must be Exists; this combination means to match all values and all keys.
                                      type: string
                                    operator:
                                      description: |-
                                        Operator represents a key's relationship to the value.
                                        Valid operators are Exists and Equal. Defaults to Equal.
                                        Exists is equivalent to wildcard for value, so that a pod can
                                        tolerate all taints of a particular category.
                                      type: string
                                    tolerationSeconds:
                                      description: |-
                                        TolerationSeconds represents the period of time the toleration (which must be
                                        of effect NoExecute, otherwise this field is ignored) tolerates the taint. By default,
                                        it is not set, which means tolerate the taint forever (do not evict). Zero and
                                        negative values will be treated as 0 (evict immediately) by the system.
                                      format: int64
                                      type: integer
                                    value:
                                      description: |-
                                        Value is the taint value the toleration matches to.
                                        If the operator is Exists, the value should be empty, otherwise just a regular string.
                                      type: string
                                  type: object
                                type: array
                              topologySpreadConstraints:
                                description: |-
                                  TopologySpreadConstraints describes how a group of pods ought to spread across topology
                                  domains. Scheduler will schedule pods in a way which abides by the constraints.
                                  All topologySpreadConstraints are ANDed.
                                items:
                                  description: TopologySpreadConstraint specifies
                                    how to spread matching pods among the given topology.
                                  properties:
                                    labelSelector:
                                      description: |-
                                        LabelSelector is used to find matching pods.
                                        Pods that match this label selector are counted to determine the number of pods
                                        in their corresponding topology domain.
                                      properties:
                                        matchExpressions:
                                          description: matchExpressions is a list
                                            of label selector requirements. The requirements
                                            are ANDed.
                                          items:
                                            description: |-
                                              A label selector requirement is a selector that contains values, a key, and an operator that
                                              relates the key and values.
                                            properties:
                                              key:
                                                description: key is the label key
                                                  that the selector applies to.
                                                type: string
                                              operator:
                                                description: |-
                                                  operator represents a key's relationship to a set of values.
                                                  Valid operators are In, NotIn, Exists and DoesNotExist.
                                                type: string
                                              values:
                                                description: |-
                                                  values is an array of string values. If the operator is In or NotIn,
                                                  the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                  the values array must be empty. This array is replaced during a strategic
                                                  merge patch.
                                                items:
                                                  type: string
                                                type: array
                                                x-kubernetes-list-type: atomic
                                            required:
                                            - key
                                            - operator
                                            type: object
                                          type: array
                                          x-kubernetes-list-type: atomic
                                        matchLabels:
                                          additionalProperties:
                                            type: string
                                          description: |-
                                            matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                            map is equivalent to an element of matchExpressions, whose key field is "key", the
                                            operator is "In", and the values array contains only "value". The requirements are ANDed.
                                          type: object
                                      type: object
                                      x-kubernetes-map-type: atomic
                                    matchLabelKeys:
                                      description: |-
                                        MatchLabelKeys is a set of pod label keys to select the pods over which
                                        spreading will be calculated. The keys are used to lookup values from the
                                        incoming pod labels, those key-value labels are ANDed with labelSelector
                                        to select the group of existing pods over which spreading will be calculated
                                        for the incoming pod. The same key is forbidden to exist in both MatchLabelKeys and LabelSelector.
                                        MatchLabelKeys cannot be set when LabelSelector isn't set.
                                        Keys that don't exist in the incoming pod labels will
                                        be ignored. A null or empty list means only match against labelSelector.

                                        This is a beta field and requires the MatchLabelKeysInPodTopologySpread feature gate to be enabled (enabled by default).
                                      items:
                                        type: string
                                      type: array
                                      x-kubernetes-list-type: atomic
                                    maxSkew:
                                      description: |-
                                        MaxSkew describes the degree to which pods may be unevenly distributed.
                                        When `whenUnsatisfiable=DoNotSchedule`, it is the maximum permitted difference
                                        between the number of matching pods in the target topology and the global minimum.
                                        The global minimum is the minimum number of matching pods in an eligible domain
                                        or zero if the number of eligible domains is less than MinDomains.
                                        For example, in a 3-zone cluster, MaxSkew is set to 1, and pods with the same
                                        labelSelector spread as 2/2/1:
                                        In this case, the global minimum is 1.
                                        | zone1 | zone2 | zone3 |
                                        |  P P  |  P P  |   P   |
                                        - if MaxSkew is 1, incoming pod can only be scheduled to zone3 to become 2/2/2;
                                        scheduling it onto zone1(zone2) would make the ActualSkew(3-1) on zone1(zone2)
                                        violate MaxSkew(1).
                                        - if MaxSkew is 2, incoming pod can be scheduled onto any zone.
                                        When `whenUnsatisfiable=ScheduleAnyway`, it is used to give higher precedence
                                        to topologies that satisfy it.
                                        It's a required field. Default value is 1 and 0 is not allowed.
                                      format: int32
                                      type: integer
                                    minDomains:
                                      description: |-
                                        MinDomains indicates a minimum number of eligible domains.
                                        When the number of eligible domains with matching topology keys is less than minDomains,
                                        Pod Topology Spread treats "global minimum" as 0, and then the calculation of Skew is performed.
                                        And when the number of eligible domains with matching topology keys equals or greater than minDomains,
                                        this value has no effect on scheduling.
                                        As a result, when the number of eligible domains is less than minDomains,
                                        scheduler won't schedule more than maxSkew Pods to those domains.
                                        If value is nil, the constraint behaves as if MinDomains is equal to 1.
                                        Valid values are integers greater than 0.
                                        When value is not nil, WhenUnsatisfiable must be DoNotSchedule.

                                        For example, in a 3-zone cluster, MaxSkew is set to 2, MinDomains is set to 5 and pods with the same
                                        labelSelector spread as 2/2/2:
                                        | zone1 | zone2 | zone3 |
                                        |  P P  |  P P  |  P P  |
                                        The number of domains is less than 5(MinDomains), so "global minimum" is treated as 0.
                                        In this situation, new pod with the same labelSelector cannot be scheduled,
                                        because computed skew will be 3(3 - 0) if new Pod is scheduled to any of the three zones,
                                        it will violate MaxSkew.
                                      format: int32
                                      type: integer
                                    nodeAffinityPolicy:
                                      description: |-
                                        NodeAffinityPolicy indicates how we will treat Pod's nodeAffinity/nodeSelector
                                        when calculating pod topology spread skew. Options are:
                                        - Honor: only nodes matching nodeAffinity/nodeSelector are included in the calculations.
                                        - Ignore: nodeAffinity/nodeSelector are ignored. All nodes are included in the calculations.

                                        If this value is nil, the behavior is equivalent to the Honor policy.
                                      type: string
                                    nodeTaintsPolicy:
                                      description: |-
                                        NodeTaintsPolicy indicates how we will treat node taints when calculating
                                        pod topology spread skew. Options are:
                                        - Honor: nodes without taints, along with tainted nodes for which the incoming pod
                                        has a toleration, are included.
                                        - Ignore: node taints are ignored. All nodes are included.

                                        If this value is nil, the behavior is equivalent to the Ignore policy.
                                      type: string
                                    topologyKey:
                                      description: |-
                                        TopologyKey is the key of node labels. Nodes that have a label with this key
                                        and identical values are considered to be in the same topology.
                                        We consider each <key, value> as a "bucket", and try to put balanced number
                                        of pods into each bucket.
                                        We define a domain as a particular instance of a topology.
                                        Also, we define an eligible domain as a domain whose nodes meet the requirements of
                                        nodeAffinityPolicy and nodeTaintsPolicy.
                                        e.g. If TopologyKey is "kubernetes.io/hostname", each Node is a domain of that topology.
                                        And, if TopologyKey is "topology.kubernetes.io/zone", each zone is a domain of that topology.
                                        It's a required field.
                                      type: string
                                    whenUnsatisfiable:
                                      description: |-
                                        WhenUnsatisfiable indicates how to deal with a pod if it doesn't satisfy
                                        the spread constraint.
                                        - DoNotSchedule (default) tells the scheduler not to schedule it.
                                        - ScheduleAnyway tells the scheduler to schedule the pod in any location,
                                          but giving higher precedence to topologies that would help reduce the
                                          skew.
                                        A constraint is considered "Unsatisfiable" for an incoming pod
                                        if and only if every possible node assignment for that pod would violate
                                        "MaxSkew" on some topology.
                                        For example, in a 3-zone cluster, MaxSkew is set to 1, and pods with the same
                                        labelSelector spread as 3/1/1:
                                        | zone1 | zone2 | zone3 |
                                        | P P P |   P   |   P   |
                                        If WhenUnsatisfiable is set to DoNotSchedule, incoming pod can only be scheduled
                                        to zone2(zone3) to become 3/2/1(3/1/2) as ActualSkew(2-1) on zone2(zone3) satisfies
                                        MaxSkew(1). In other words, the cluster can still be imbalanced, but scheduler
                                        won't make it *more* imbalanced.
                                        It's a required field.
                                      type: string
                                  required:
                                  - maxSkew
                                  - topologyKey
                                  - whenUnsatisfiable
                                  type: object
                                type: array
                              volumes:
                                description: |-
                                  Volumes that can be mounted by containers belonging to the pod.
                                  More info: https://kubernetes.io/docs/concepts/storage/volumes
                                items:
                                  description: Volume represents a named volume in
                                    a pod that may be accessed by any container in
                                    the pod.
                                  properties:
                                    awsElasticBlockStore:
                                      description: |-
                                        awsElasticBlockStore represents an AWS Disk resource that is attached to a
                                        kubelet's host machine and then exposed to the pod.
                                        Deprecated: AWSElasticBlockStore is deprecated. All operations for the in-tree
                                        awsElasticBlockStore type are redirected to the ebs.csi.aws.com CSI driver.
                                        More info: https://kubernetes.io/docs/concepts/storage/volumes#awselasticblockstore
                                      properties:
                                        fsType:
                                          description: |-
                                            fsType is the filesystem type of the volume that you want to mount.
                                            Tip: Ensure that the filesystem type is supported by the host operating system.
                                            Examples: "ext4", "xfs", "ntfs". Implicitly inferred to be "ext4" if unspecified.
                                            More info: https://kubernetes.io/docs/concepts/storage/volumes#awselasticblockstore
                                          type: string
                                        partition:
                                          description: |-
                                            partition is the partition in the volume that you want to mount.
                                            If omitted, the default is to mount by volume name.
                                            Examples: For volume /dev/sda1, you specify the partition as "1".
                                            Similarly, the volume partition for /dev/sda is "0" (or you can leave the property empty).
                                          format: int32
                                          type: integer
                                        readOnly:
                                          description: |-
                                            readOnly value true will force the readOnly setting in VolumeMounts.
                                            More info: https://kubernetes.io/docs/concepts/storage/volumes#awselasticblockstore
                                          type: boolean
                                        volumeID:
                                          description: |-
                                            volumeID is unique ID of the persistent disk resource in AWS (Amazon EBS volume).
                                            More info: https://kubernetes.io/docs/concepts/storage/volumes#awselasticblockstore
                                          type: string
                                      required:
                                      - volumeID
                                      type: object
                                    azureDisk:
                                      description: |-
                                        azureDisk represents an Azure Data Disk mount on the host and bind mount to the pod.
                                        Deprecated: AzureDisk is deprecated. All operations for the in-tree azureDisk type
                                        are redirected to the disk.csi.azure.com CSI driver.
                                      properties:
                                        cachingMode:
                                          description: 'cachingMode is the Host Caching
                                            mode: None, Read Only, Read Write.'
                                          type: string
                                        diskName:
                                          description: diskName is the Name of the
                                            data disk in the blob storage
                                          type: string
                                        diskURI:
                                          description: diskURI is the URI of data
                                            disk in the blob storage
                                          type: string
                                        fsType:
                                          default: ext4
                                          description: |-
                                            fsType is Filesystem type to mount.
                                            Must be a filesystem type supported by the host operating system.
                                            Ex. "ext4", "xfs", "ntfs". Implicitly inferred to be "ext4" if unspecified.
                                          type: string
                                        kind:
                                          description: 'kind expected values are Shared:
                                            multiple blob disks per storage account  Dedicated:
                                            single blob disk per storage account  Managed:
                                            azure managed data disk (only in managed
                                            availability set). defaults to shared'
                                          type: string
                                        readOnly:
                                          default: false
                                          description: |-
                                            readOnly Defaults to false (read/write). ReadOnly here will force
                                            the ReadOnly setting in VolumeMounts.
                                          type: boolean
                                      required:
                                      - diskName
                                      - diskURI
                                      type: object
                                    azureFile:
                                      description: |-
                                        azureFile represents an Azure File Service mount on the host and bind mount to the pod.
                                        Deprecated: AzureFile is deprecated. All operations for the in-tree azureFile type
                                        are redirected to the file.csi.azure.com CSI driver.
                                      properties:
                                        readOnly:
                                          description: |-
                                            readOnly defaults to false (read/write). ReadOnly here will force
                                            the ReadOnly setting in VolumeMounts.
                                          type: boolean
                                        secretName:
                                          description: secretName is the  name of
                                            secret that contains Azure Storage Account
                                            Name and Key
                                          type: string
                                        shareName:
                                          description: shareName is the azure share
                                            Name
                                          type: string
                                      required:
                                      - secretName
                                      - shareName
                                      type: object
                                    cephfs:
                                      description: |-
                                        cephFS represents a Ceph FS mount on the host that shares a pod's lifetime.
                                        Deprecated: CephFS is deprecated and the in-tree cephfs type is no longer supported.
                                      properties:
                                        monitors:
                                          description: |-
                                            monitors is Required: Monitors is a collection of Ceph monitors
                                            More info: https://examples.k8s.io/volumes/cephfs/README.md#how-to-use-it
                                          items:
                                            type: string
                                          type: array
                                          x-kubernetes-list-type: atomic
                                        path:
                                          description: 'path is Optional: Used as
                                            the mounted root, rather than the full
                                            Ceph tree, default is /'
                                          type: string
                                        readOnly:
                                          description: |-
                                            readOnly is Optional: Defaults to false (read/write). ReadOnly here will force
                                            the ReadOnly setting in VolumeMounts.
                                            More info: https://examples.k8s.io/volumes/cephfs/README.md#how-to-use-it
                                          type: boolean
                                        secretFile:
                                          description: |-
                                            secretFile is Optional: SecretFile is the path to key ring for User, default is /etc/ceph/user.secret
                                            More info: https://examples.k8s.io/volumes/cephfs/README.md#how-to-use-it
                                          type: string
                                        secretRef:
                                          description: |-
                                            secretRef is Optional: SecretRef is reference to the authentication secret for User, default is empty.
                                            More info: https://examples.k8s.io/volumes/cephfs/README.md#how-to-use-it
                                          properties:
                                            name:
                                              default: ""
                                              description: |-
                                                Name of the referent.
                                                This field is effectively required, but due to backwards compatibility is
                                                allowed to be empty. Instances of this type with an empty value here are
                                                almost certainly wrong.
                                                More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                              type: string
                                          type: object
                                          x-kubernetes-map-type: atomic
                                        user:
                                          description: |-
                                            user is optional: User is the rados user name, default is admin
                                            More info: https://examples.k8s.io/volumes/cephfs/README.md#how-to-use-it
                                          type: string
                                      required:
                                      - monitors
                                      type: object
                                    cinder:
                                      description: |-
                                        cinder represents a cinder volume attached and mounted on kubelets host machine.
                                        Deprecated: Cinder is deprecated. All operations for the in-tree cinder type
                                        are redirected to the cinder.csi.openstack.org CSI driver.
                                        More info: https://examples.k8s.io/mysql-cinder-pd/README.md
                                      properties:
                                        fsType:
                                          description: |-
                                            fsType is the filesystem type to mount.
                                            Must be a filesystem type supported by the host operating system.
                                            Examples: "ext4", "xfs", "ntfs". Implicitly inferred to be "ext4" if unspecified.
                                            More info: https://examples.k8s.io/mysql-cinder-pd/README.md
                                          type: string
                                        readOnly:
                                          description: |-
                                            readOnly defaults to false (read/write). ReadOnly here will force
                                            the ReadOnly setting in VolumeMounts.
                                            More info: https://examples.k8s.io/mysql-cinder-pd/README.md
                                          type: boolean
                                        secretRef:
                                          description: |-
                                            secretRef is optional: points to a secret object containing parameters used to connect
                                            to OpenStack.
                                          properties:
                                            name:
                                              default: ""
                                              description: |-
                                                Name of the referent.
                                                This field is effectively required, but due to backwards compatibility is
                                                allowed to be empty. Instances of this type with an empty value here are
                                                almost certainly wrong.
                                                More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                              type: string
                                          type: object
                                          x-kubernetes-map-type: atomic
                                        volumeID:
                                          description: |-
                                            volumeID used to identify the volume in cinder.
                                            More info: https://examples.k8s.io/mysql-cinder-pd/README.md
                                          type: string
                                      required:
                                      - volumeID
                                      type: object
                                    configMap:
                                      description: configMap represents a configMap
                                        that should populate this volume
                                      properties:
                                        defaultMode:
                                          description: |-
                                            defaultMode is optional: mode bits used to set permissions on created files by default.
                                            Must be an octal value between 0000 and 0777 or a decimal value between 0 and 511.
                                            YAML accepts both octal and decimal values, JSON requires decimal values for mode bits.
                                            Defaults to 0644.
                                            Directories within the path are not affected by this setting.
                                            This might be in conflict with other options that affect the file
                                            mode, like fsGroup, and the result can be other mode bits set.
                                          format: int32
                                          type: integer
                                        items:
                                          description: |-
                                            items if unspecified, each key-value pair in the Data field of the referenced
                                            ConfigMap will be projected into the volume as a file whose name is the
                                            key and content is the value. If specified, the listed keys will be
                                            projected into the specified paths, and unlisted keys will not be
                                            present. If a key is specified which is not present in the ConfigMap,
                                            the volume setup will error unless it is marked optional. Paths must be
                                            relative and may not contain the '..' path or start with '..'.
                                          items:
                                            description: Maps a string key to a path
                                              within a volume.
                                            properties:
                                              key:
                                                description: key is the key to project.
                                                type: string
                                              mode:
                                                description: |-
                                                  mode is Optional: mode bits used to set permissions on this file.
                                                  Must be an octal value between 0000 and 0777 or a decimal value between 0 and 511.
                                                  YAML accepts both octal and decimal values, JSON requires decimal values for mode bits.
                                                  If not specified, the volume defaultMode will be used.
                                                  This might be in conflict with other options that affect the file
                                                  mode, like fsGroup, and the result can be other mode bits set.
                                                format: int32
                                                type: integer
                                              path:
                                                description: |-
                                                  path is the relative path of the file to map the key to.
                                                  May not be an absolute path.
                                                  May not contain the path element '..'.
                                                  May not start with the string '..'.
                                                type: string
                                            required:
                                            - key
                                            - path
                                            type: object
                                          type: array
                                          x-kubernetes-list-type: atomic
                                        name:
                                          default: ""
                                          description: |-
                                            Name of the referent.
                                            This field is effectively required, but due to backwards compatibility is
                                            allowed to be empty. Instances of this type with an empty value here are
                                            almost certainly wrong.
                                            More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                          type: string
                                        optional:
                                          description: optional specify whether the
                                            ConfigMap or its keys must be defined
                                          type: boolean
                                      type: object
                                      x-kubernetes-map-type: atomic
                                    csi:
                                      description: csi (Container Storage Interface)
                                        represents ephemeral storage that is handled
                                        by certain external CSI drivers.
                                      properties:
                                        driver:
                                          description: |-
                                            driver is the name of the CSI driver that handles this volume.
                                            Consult with your admin for the correct name as registered in the cluster.
                                          type: string
                                        fsType:
                                          description: |-
                                            fsType to mount. Ex. "ext4", "xfs", "ntfs".
                                            If not provided, the empty value is passed to the associated CSI driver
                                            which will determine the default filesystem to apply.
                                          type: string
                                        nodePublishSecretRef:
                                          description: |-
                                            nodePublishSecretRef is a reference to the secret object containing
                                            sensitive information to pass to the CSI driver to complete the CSI
                                            NodePublishVolume and NodeUnpublishVolume calls.
                                            This field is optional, and  may be empty if no secret is required. If the
                                            secret object contains more than one secret, all secret references are passed.
                                          properties:
                                            name:
                                              default: ""
                                              description: |-
                                                Name of the referent.
                                                This field is effectively required, but due to backwards compatibility is
                                                allowed to be empty. Instances of this type with an empty value here are
                                                almost certainly wrong.
                                                More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                              type: string
                                          type: object
                                          x-kubernetes-map-type: atomic
                                        readOnly:
                                          description: |-
                                            readOnly specifies a read-only configuration for the volume.
                                            Defaults to false (read/write).
                                          type: boolean
                                        volumeAttributes:
                                          additionalProperties:
                                            type: string
                                          description: |-
                                            volumeAttributes stores driver-specific properties that are passed to the CSI
                                            driver. Consult your driver's documentation for supported values.
                                          type: object
                                      required:
                                      - driver
                                      type: object
                                    downwardAPI:
                                      description: downwardAPI represents downward
                                        API about the pod that should populate this
                                        volume
                                      properties:
                                        defaultMode:
                                          description: |-
                                            Optional: mode bits to use on created files by default. Must be a
                                            Optional: mode bits used to set permissions on created files by default.
                                            Must be an octal value between 0000 and 0777 or a decimal value between 0 and 511.
                                            YAML accepts both octal and decimal values, JSON requires decimal values for mode bits.
                                            Defaults to 0644.
                                            Directories within the path are not affected by this setting.
                                            This might be in conflict with other options that affect the file
                                            mode, like fsGroup, and the result can be other mode bits set.
                                          format: int32
                                          type: integer
                                        items:
                                          description: Items is a list of downward
                                            API volume file
                                          items:
                                            description: DownwardAPIVolumeFile represents
                                              information to create the file containing
                                              the pod field
                                            properties:
                                              fieldRef:
                                                description: 'Required: Selects a
                                                  field of the pod: only annotations,
                                                  labels, name, namespace and uid
                                                  are supported.'
                                                properties:
                                                  apiVersion:
                                                    description: Version of the schema
                                                      the FieldPath is written in
                                                      terms of, defaults to "v1".
                                                    type: string
                                                  fieldPath:
                                                    description: Path of the field
                                                      to select in the specified API
                                                      version.
                                                    type: string
                                                required:
                                                - fieldPath
                                                type: object
                                                x-kubernetes-map-type: atomic
                                              mode:
                                                description: |-
                                                  Optional: mode bits used to set permissions on this file, must be an octal value
                                                  between 0000 and 0777 or a decimal value between 0 and 511.
                                                  YAML accepts both octal and decimal values, JSON requires decimal values for mode bits.
                                                  If not specified, the volume defaultMode will be used.
                                                  This might be in conflict with other options that affect the file
                                                  mode, like fsGroup, and the result can be other mode bits set.
                                                format: int32
                                                type: integer
                                              path:
                                                description: 'Required: Path is  the
                                                  relative path name of the file to
                                                  be created. Must not be absolute
                                                  or contain the ''..'' path. Must
                                                  be utf-8 encoded. The first item
                                                  of the relative path must not start
                                                  with ''..'''
                                                type: string
                                              resourceFieldRef:
                                                description: |-
                                                  Selects a resource of the container: only resources limits and requests
                                                  (limits.cpu, limits.memory, requests.cpu and requests.memory) are currently supported.
                                                properties:
                                                  containerName:
                                                    description: 'Container name:
                                                      required for volumes, optional
                                                      for env vars'
                                                    type: string
                                                  divisor:
                                                    anyOf:
                                                    - type: integer
                                                    - type: string
                                                    description: Specifies the output
                                                      format of the exposed resources,
                                                      defaults to "1"
                                                    pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                                    x-kubernetes-int-or-string: true
                                                  resource:
                                                    description: 'Required: resource
                                                      to select'
                                                    type: string
                                                required:
                                                - resource
                                                type: object
                                                x-kubernetes-map-type: atomic
                                            required:
                                            - path
                                            type: object
                                          type: array
                                          x-kubernetes-list-type: atomic
                                      type: object
                                    emptyDir:
                                      description: |-
                                        emptyDir represents a temporary directory that shares a pod's lifetime.
                                        More info: https://kubernetes.io/docs/concepts/storage/volumes#emptydir
                                      properties:
                                        medium:
                                          description: |-
                                            medium represents what type of storage medium should back this directory.
                                            The default is "" which means to use the node's default medium.
                                            Must be an empty string (default) or Memory.
                                            More info: https://kubernetes.io/docs/concepts/storage/volumes#emptydir
                                          type: string
                                        sizeLimit:
                                          anyOf:
                                          - type: integer
                                          - type: string
                                          description: |-
                                            sizeLimit is the total amount of local storage required for this EmptyDir volume.
                                            The size limit is also applicable for memory medium.
                                            The maximum usage on memory medium EmptyDir would be the minimum value between
                                            the SizeLimit specified here and the sum of memory limits of all containers in a pod.
                                            The default is nil which means that the limit is undefined.
                                            More info: https://kubernetes.io/docs/concepts/storage/volumes#emptydir
                                          pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                          x-kubernetes-int-or-string: true
                                      type: object
                                    ephemeral:
                                      description: |-
                                        ephemeral represents a volume that is handled by a cluster storage driver.
                                        The volume's lifecycle is tied to the pod that defines it - it will be created before the pod starts,
                                        and deleted when the pod is removed.

                                        Use this if:
                                        a) the volume is only needed while the pod runs,
                                        b) features of normal volumes like restoring from snapshot or capacity
                                           tracking are needed,
                                        c) the storage driver is specified through a storage class, and
                                        d) the storage driver supports dynamic volume provisioning through
                                           a PersistentVolumeClaim (see EphemeralVolumeSource for more
                                           information on the connection between this volume type
                                           and PersistentVolumeClaim).

                                        Use PersistentVolumeClaim or one of the vendor-specific
                                        APIs for volumes that persist for longer than the lifecycle
                                        of an individual pod.

                                        Use CSI for light-weight local ephemeral volumes if the CSI driver is meant to
                                        be used that way - see the documentation of the driver for
                                        more information.

                                        A pod can use both types of ephemeral volumes and
                                        persistent volumes at the same time.
                                      properties:
                                        volumeClaimTemplate:
                                          description: |-
                                            Will be used to create a stand-alone PVC to provision the volume.
                                            The pod in which this EphemeralVolumeSource is embedded will be the
                                            owner of the PVC, i.e. the PVC will be deleted together with the
                                            pod.  The name of the PVC will be `<pod name>-<volume name>` where
                                            `<volume name>` is the name from the `PodSpec.Volumes` array
                                            entry. Pod validation will reject the pod if the concatenated name
                                            is not valid for a PVC (for example, too long).

                                            An existing PVC with that name that is not owned by the pod
                                            will *not* be used for the pod to avoid using an unrelated
                                            volume by mistake. Starting the pod is then blocked until
                                            the unrelated PVC is removed. If such a pre-created PVC is
                                            meant to be used by the pod, the PVC has to updated with an
                                            owner reference to the pod once the pod exists. Normally
                                            this should not be necessary, but it may be useful when
                                            manually reconstructing a broken cluster.

                                            This field is read-only and no changes will be made by Kubernetes
                                            to the PVC after it has been created.

                                            Required, must not be nil.
                                          properties:
                                            metadata:
                                              description: |-
                                                May contain labels and annotations that will be copied into the PVC
                                                when creating it. No other fields are allowed and will be rejected during
                                                validation.
                                              type: object
                                            spec:
                                              description: |-
                                                The specification for the PersistentVolumeClaim. The entire content is
                                                copied unchanged into the PVC that gets created from this
                                                template. The same fields as in a PersistentVolumeClaim
                                                are also valid here.
                                              properties:
                                                accessModes:
                                                  description: |-
                                                    accessModes contains the desired access modes the volume should have.
                                                    More info: https://kubernetes.io/docs/concepts/storage/persistent-volumes#access-modes-1
                                                  items:
                                                    type: string
                                                  type: array
                                                  x-kubernetes-list-type: atomic
                                                dataSource:
                                                  description: |-
                                                    dataSource field can be used to specify either:
                                                    * An existing VolumeSnapshot object (snapshot.storage.k8s.io/VolumeSnapshot)
                                                    * An existing PVC (PersistentVolumeClaim)
                                                    If the provisioner or an external controller can support the specified data source,
                                                    it will create a new volume based on the contents of the specified data source.
                                                    When the AnyVolumeDataSource feature gate is enabled, dataSource contents will be copied to dataSourceRef,
                                                    and dataSourceRef contents will be copied to dataSource when dataSourceRef.namespace is not specified.
                                                    If the namespace is specified, then dataSourceRef will not be copied to dataSource.
                                                  properties:
                                                    apiGroup:
                                                      description: |-
                                                        APIGroup is the group for the resource being referenced.
                                                        If APIGroup is not specified, the specified Kind must be in the core API group.
                                                        For any other third-party types, APIGroup is required.
                                                      type: string
                                                    kind:
                                                      description: Kind is the type
                                                        of resource being referenced
                                                      type: string
                                                    name:
                                                      description: Name is the name
                                                        of resource being referenced
                                                      type: string
                                                  required:
                                                  - kind
                                                  - name
                                                  type: object
                                                  x-kubernetes-map-type: atomic
                                                dataSourceRef:
                                                  description: |-
                                                    dataSourceRef specifies the object from which to populate the volume with data, if a non-empty
                                                    volume is desired. This may be any object from a non-empty API group (non
                                                    core object) or a PersistentVolumeClaim object.
                                                    When this field is specified, volume binding will only succeed if the type of
                                                    the specified object matches some installed volume populator or dynamic
                                                    provisioner.
                                                    This field will replace the functionality of the dataSource field and as such
                                                    if both fields are non-empty, they must have the same value. For backwards
                                                    compatibility, when namespace isn't specified in dataSourceRef,
                                                    both fields (dataSource and dataSourceRef) will be set to the same
                                                    value automatically if one of them is empty and the other is non-empty.
                                                    When namespace is specified in dataSourceRef,
                                                    dataSource isn't set to the same value and must be empty.
                                                    There are three important differences between dataSource and dataSourceRef:
                                                    * While dataSource only allows two specific types of objects, dataSourceRef
                                                      allows any non-core object, as well as PersistentVolumeClaim objects.
                                                    * While dataSource ignores disallowed values (dropping them), dataSourceRef
                                                      preserves all values, and generates an error if a disallowed value is
                                                      specified.
                                                    * While dataSource only allows local objects, dataSourceRef allows objects
                                                      in any namespaces.
                                                    (Beta) Using this field requires the AnyVolumeDataSource feature gate to be enabled.
                                                    (Alpha) Using the namespace field of dataSourceRef requires the CrossNamespaceVolumeDataSource feature gate to be enabled.
                                                  properties:
                                                    apiGroup:
                                                      description: |-
                                                        APIGroup is the group for the resource being referenced.
                                                        If APIGroup is not specified, the specified Kind must be in the core API group.
                                                        For any other third-party types, APIGroup is required.
                                                      type: string
                                                    kind:
                                                      description: Kind is the type
                                                        of resource being referenced
                                                      type: string
                                                    name:
                                                      description: Name is the name
                                                        of resource being referenced
                                                      type: string
                                                    namespace:
                                                      description: |-
                                                        Namespace is the namespace of resource being referenced
                                                        Note that when a namespace is specified, a gateway.networking.k8s.io/ReferenceGrant object is required in the referent namespace to allow that namespace's owner to accept the reference. See the ReferenceGrant documentation for details.
                                                        (Alpha) This field requires the CrossNamespaceVolumeDataSource feature gate to be enabled.
                                                      type: string
                                                  required:
                                                  - kind
                                                  - name
                                                  type: object
                                                resources:
                                                  description: |-
                                                    resources represents the minimum resources the volume should have.
                                                    If RecoverVolumeExpansionFailure feature is enabled users are allowed to specify resource requirements
                                                    that are lower than previous value but must still be higher than capacity recorded in the
                                                    status field of the claim.
                                                    More info: https://kubernetes.io/docs/concepts/storage/persistent-volumes#resources
                                                  properties:
                                                    limits:
                                                      additionalProperties:
                                                        anyOf:
                                                        - type: integer
                                                        - type: string
                                                        pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                                        x-kubernetes-int-or-string: true
                                                      description: |-
                                                        Limits describes the maximum amount of compute resources allowed.
                                                        More info: https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/
                                                      type: object
                                                    requests:
                                                      additionalProperties:
                                                        anyOf:
                                                        - type: integer
                                                        - type: string
                                                        pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                                        x-kubernetes-int-or-string: true
                                                      description: |-
                                                        Requests describes the minimum amount of compute resources required.
                                                        If Requests is omitted for a container, it defaults to Limits if that is explicitly specified,
                                                        otherwise to an implementation-defined value. Requests cannot exceed Limits.
                                                        More info: https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/
                                                      type: object
                                                  type: object
                                                selector:
                                                  description: selector is a label
                                                    query over volumes to consider
                                                    for binding.
                                                  properties:
                                                    matchExpressions:
                                                      description: matchExpressions
                                                        is a list of label selector
                                                        requirements. The requirements
                                                        are ANDed.
                                                      items:
                                                        description: |-
                                                          A label selector requirement is a selector that contains values, a key, and an operator that
                                                          relates the key and values.
                                                        properties:
                                                          key:
                                                            description: key is the
                                                              label key that the selector
                                                              applies to.
                                                            type: string
                                                          operator:
                                                            description: |-
                                                              operator represents a key's relationship to a set of values.
                                                              Valid operators are In, NotIn, Exists and DoesNotExist.
                                                            type: string
                                                          values:
                                                            description: |-
                                                              values is an array of string values. If the operator is In or NotIn,
                                                              the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                              the values array must be empty. This array is replaced during a strategic
                                                              merge patch.
                                                            items:
                                                              type: string
                                                            type: array
                                                            x-kubernetes-list-type: atomic
                                                        required:
                                                        - key
                                                        - operator
                                                        type: object
                                                      type: array
                                                      x-kubernetes-list-type: atomic
                                                    matchLabels:
                                                      additionalProperties:
                                                        type: string
                                                      description: |-
                                                        matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                                        map is equivalent to an element of matchExpressions, whose key field is "key", the
                                                        operator is "In", and the values array contains only "value". The requirements are ANDed.
                                                      type: object
                                                  type: object
                                                  x-kubernetes-map-type: atomic
                                                storageClassName:
                                                  description: |-
                                                    storageClassName is the name of the StorageClass required by the claim.
                                                    More info: https://kubernetes.io/docs/concepts/storage/persistent-volumes#class-1
                                                  type: string
                                                volumeAttributesClassName:
                                                  description: |-
                                                    volumeAttributesClassName may be used to set the VolumeAttributesClass used by this claim.
                                                    If specified, the CSI driver will create or update the volume with the attributes defined
                                                    in the corresponding VolumeAttributesClass. This has a different purpose than storageClassName,
                                                    it can be changed after the claim is created. An empty string value means that no VolumeAttributesClass
                                                    will be applied to the claim but it's not allowed to reset this field to empty string once it is set.
                                                    If unspecified and the PersistentVolumeClaim is unbound, the default VolumeAttributesClass
                                                    will be set by the persistentvolume controller if it exists.
                                                    If the resource referred to by volumeAttributesClass does not exist, this PersistentVolumeClaim will be
                                                    set to a Pending state, as reflected by the modifyVolumeStatus field, until such as a resource
                                                    exists.
                                                    More info: https://kubernetes.io/docs/concepts/storage/volume-attributes-classes/
                                                    (Beta) Using this field requires the VolumeAttributesClass feature gate to be enabled (off by default).
                                                  type: string
                                                volumeMode:
                                                  description: |-
                                                    volumeMode defines what type of volume is required by the claim.
                                                    Value of Filesystem is implied when not included in claim spec.
                                                  type: string
                                                volumeName:
                                                  description: volumeName is the binding
                                                    reference to the PersistentVolume
                                                    backing this claim.
                                                  type: string
                                              type: object
                                          required:
                                          - spec
                                          type: object
                                      type: object
                                    fc:
                                      description: fc represents a Fibre Channel resource
                                        that is attached to a kubelet's host machine
                                        and then exposed to the pod.
                                      properties:
                                        fsType:
                                          description: |-
                                            fsType is the filesystem type to mount.
                                            Must be a filesystem type supported by the host operating system.
                                            Ex. "ext4", "xfs", "ntfs". Implicitly inferred to be "ext4" if unspecified.
                                          type: string
                                        lun:
                                          description: 'lun is Optional: FC target
                                            lun number'
                                          format: int32
                                          type: integer
                                        readOnly:
                                          description: |-
                                            readOnly is Optional: Defaults to false (read/write). ReadOnly here will force
                                            the ReadOnly setting in VolumeMounts.
                                          type: boolean
                                        targetWWNs:
                                          description: 'targetWWNs is Optional: FC
                                            target worldwide names (WWNs)'
                                          items:
                                            type: string
                                          type: array
                                          x-kubernetes-list-type: atomic
                                        wwids:
                                          description: |-
                                            wwids Optional: FC volume world wide identifiers (wwids)
                                            Either wwids or combination of targetWWNs and lun must be set, but not both simultaneously.
                                          items:
                                            type: string
                                          type: array
                                          x-kubernetes-list-type: atomic
                                      type: object
                                    flexVolume:
                                      description: |-
                                        flexVolume represents a generic volume resource that is
                                        provisioned/attached using an exec based plugin.
                                        Deprecated: FlexVolume is deprecated. Consider using a CSIDriver instead.
                                      properties:
                                        driver:
                                          description: driver is the name of the driver
                                            to use for this volume.
                                          type: string
                                        fsType:
                                          description: |-
                                            fsType is the filesystem type to mount.
                                            Must be a filesystem type supported by the host operating system.
                                            Ex. "ext4", "xfs", "ntfs". The default filesystem depends on FlexVolume script.
                                          type: string
                                        options:
                                          additionalProperties:
                                            type: string
                                          description: 'options is Optional: this
                                            field holds extra command options if any.'
                                          type: object
                                        readOnly:
                                          description: |-
                                            readOnly is Optional: defaults to false (read/write). ReadOnly here will force
                                            the ReadOnly setting in VolumeMounts.
                                          type: boolean
                                        secretRef:
                                          description: |-
                                            secretRef is Optional: secretRef is reference to the secret object containing
                                            sensitive information to pass to the plugin scripts. This may be
                                            empty if no secret object is specified. If the secret object
                                            contains more than one secret, all secrets are passed to the plugin
                                            scripts.
                                          properties:
                                            name:
                                              default: ""
                                              description: |-
                                                Name of the referent.
                                                This field is effectively required, but due to backwards compatibility is
                                                allowed to be empty. Instances of this type with an empty value here are
                                                almost certainly wrong.
                                                More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                              type: string
                                          type: object
                                          x-kubernetes-map-type: atomic
                                      required:
                                      - driver
                                      type: object
                                    flocker:
                                      description: |-
                                        flocker represents a Flocker volume attached to a kubelet's host machine. This depends on the Flocker control service being running.
                                        Deprecated: Flocker is deprecated and the in-tree flocker type is no longer supported.
                                      properties:
                                        datasetName:
                                          description: |-
                                            datasetName is Name of the dataset stored as metadata -> name on the dataset for Flocker
                                            should be considered as deprecated
                                          type: string
                                        datasetUUID:
                                          description: datasetUUID is the UUID of
                                            the dataset. This is unique identifier
                                            of a Flocker dataset
                                          type: string
                                      type: object
                                    gcePersistentDisk:
                                      description: |-
                                        gcePersistentDisk represents a GCE Disk resource that is attached to a
                                        kubelet's host machine and then exposed to the pod.
                                        Deprecated: GCEPersistentDisk is deprecated. All operations for the in-tree
                                        gcePersistentDisk type are redirected to the pd.csi.storage.gke.io CSI driver.
                                        More info: https://kubernetes.io/docs/concepts/storage/volumes#gcepersistentdisk
                                      properties:
                                        fsType:
                                          description: |-
                                            fsType is filesystem type of the volume that you want to mount.
                                            Tip: Ensure that the filesystem type is supported by the host operating system.
                                            Examples: "ext4", "xfs", "ntfs". Implicitly inferred to be "ext4" if unspecified.
                                            More info: https://kubernetes.io/docs/concepts/storage/volumes#gcepersistentdisk
                                          type: string
                                        partition:
                                          description: |-
                                            partition is the partition in the volume that you want to mount.
                                            If omitted, the default is to mount by volume name.
                                            Examples: For volume /dev/sda1, you specify the partition as "1".
                                            Similarly, the volume partition for /dev/sda is "0" (or you can leave the property empty).
                                            More info: https://kubernetes.io/docs/concepts/storage/volumes#gcepersistentdisk
                                          format: int32
                                          type: integer
                                        pdName:
                                          description: |-
                                            pdName is unique name of the PD resource in GCE. Used to identify the disk in GCE.
                                            More info: https://kubernetes.io/docs/concepts/storage/volumes#gcepersistentdisk
                                          type: string
                                        readOnly:
                                          description: |-
                                            readOnly here will force the ReadOnly setting in VolumeMounts.
                                            Defaults to false.
                                            More info: https://kubernetes.io/docs/concepts/storage/volumes#gcepersistentdisk
                                          type: boolean
                                      required:
                                      - pdName
                                      type: object
                                    gitRepo:
                                      description: |-
                                        gitRepo represents a git repository at a particular revision.
                                        Deprecated: GitRepo is deprecated. To provision a container with a git repo, mount an
                                        EmptyDir into an InitContainer that clones the repo using git, then mount the EmptyDir
                                        into the Pod's container.
                                      properties:
                                        directory:
                                          description: |-
                                            directory is the target directory name.
                                            Must not contain or start with '..'.  If '.' is supplied, the volume directory will be the
                                            git repository.  Otherwise, if specified, the volume will contain the git repository in
                                            the subdirectory with the given name.
                                          type: string
                                        repository:
                                          description: repository is the URL
                                          type: string
                                        revision:
                                          description: revision is the commit hash
                                            for the specified revision.
                                          type: string
                                      required:
                                      - repository
                                      type: object
                                    glusterfs:
                                      description: |-
                                        glusterfs represents a Glusterfs mount on the host that shares a pod's lifetime.
                                        Deprecated: Glusterfs is deprecated and the in-tree glusterfs type is no longer supported.
                                        More info: https://examples.k8s.io/volumes/glusterfs/README.md
                                      properties:
                                        endpoints:
                                          description: |-
                                            endpoints is the endpoint name that details Glusterfs topology.
                                            More info: https://examples.k8s.io/volumes/glusterfs/README.md#create-a-pod
                                          type: string
                                        path:
                                          description: |-
                                            path is the Glusterfs volume path.
                                            More info: https://examples.k8s.io/volumes/glusterfs/README.md#create-a-pod
                                          type: string
                                        readOnly:
                                          description: |-
                                            readOnly here will force the Glusterfs volume to be mounted with read-only permissions.
                                            Defaults to false.
                                            More info: https://examples.k8s.io/volumes/glusterfs/README.md#create-a-pod
                                          type: boolean
                                      required:
                                      - endpoints
                                      - path
                                      type: object
                                    hostPath:
                                      description: |-
                                        hostPath represents a pre-existing file or directory on the host
                                        machine that is directly exposed to the container. This is generally
                                        used for system agents or other privileged things that are allowed
                                        to see the host machine. Most containers will NOT need this.
                                        More info: https://kubernetes.io/docs/concepts/storage/volumes#hostpath
                                      properties:
                                        path:
                                          description: |-
                                            path of the directory on the host.
                                            If the path is a symlink, it will follow the link to the real path.
                                            More info: https://kubernetes.io/docs/concepts/storage/volumes#hostpath
                                          type: string
                                        type:
                                          description: |-
                                            type for HostPath Volume
                                            Defaults to ""
                                            More info: https://kubernetes.io/docs/concepts/storage/volumes#hostpath
                                          type: string
                                      required:
                                      - path
                                      type: object
                                    image:
                                      description: |-
                                        image represents an OCI object (a container image or artifact) pulled and mounted on the kubelet's host machine.
                                        The volume is resolved at pod startup depending on which PullPolicy value is provided:

                                        - Always: the kubelet always attempts to pull the reference. Container creation will fail If the pull fails.
                                        - Never: the kubelet never pulls the reference and only uses a local image or artifact. Container creation will fail if the reference isn't present.
                                        - IfNotPresent: the kubelet pulls if the reference isn't already present on disk. Container creation will fail if the reference isn't present and the pull fails.

                                        The volume gets re-resolved if the pod gets deleted and recreated, which means that new remote content will become available on pod recreation.
                                        A failure to resolve or pull the image during pod startup will block containers from starting and may add significant latency. Failures will be retried using normal volume backoff and will be reported on the pod reason and message.
                                        The types of objects that may be mounted by this volume are defined by the container runtime implementation on a host machine and at minimum must include all valid types supported by the container image field.
                                        The OCI object gets mounted in a single directory (spec.containers[*].volumeMounts.mountPath) by merging the manifest layers in the same way as for container images.
                                        The volume will be mounted read-only (ro) and non-executable files (noexec).
                                        Sub path mounts for containers are not supported (spec.containers[*].volumeMounts.subpath) before 1.33.
                                        The field spec.securityContext.fsGroupChangePolicy has no effect on this volume type.
                                      properties:
                                        pullPolicy:
                                          description: |-
                                            Policy for pulling OCI objects. Possible values are:
                                            Always: the kubelet always attempts to pull the reference. Container creation will fail If the pull fails.
                                            Never: the kubelet never pulls the reference and only uses a local image or artifact. Container creation will fail if the reference isn't present.
                                            IfNotPresent: the kubelet pulls if the reference isn't already present on disk. Container creation will fail if the reference isn't present and the pull fails.
                                            Defaults to Always if :latest tag is specified, or IfNotPresent otherwise.
                                          type: string
                                        reference:
                                          description: |-
                                            Required: Image or artifact reference to be used.
                                            Behaves in the same way as pod.spec.containers[*].image.
                                            Pull secrets will be assembled in the same way as for the container image by looking up node credentials, SA image pull secrets, and pod spec image pull secrets.
                                            More info: https://kubernetes.io/docs/concepts/containers/images
                                            This field is optional to allow higher level config management to default or override
                                            container images in workload controllers like Deployments and StatefulSets.
                                          type: string
                                      type: object
                                    iscsi:
                                      description: |-
                                        iscsi represents an ISCSI Disk resource that is attached to a
                                        kubelet's host machine and then exposed to the pod.
                                        More info: https://examples.k8s.io/volumes/iscsi/README.md
                                      properties:
                                        chapAuthDiscovery:
                                          description: chapAuthDiscovery defines whether
                                            support iSCSI Discovery CHAP authentication
                                          type: boolean
                                        chapAuthSession:
                                          description: chapAuthSession defines whether
                                            support iSCSI Session CHAP authentication
                                          type: boolean
                                        fsType:
                                          description: |-
                                            fsType is the filesystem type of the volume that you want to mount.
                                            Tip: Ensure that the filesystem type is supported by the host operating system.
                                            Examples: "ext4", "xfs", "ntfs". Implicitly inferred to be "ext4" if unspecified.
                                            More info: https://kubernetes.io/docs/concepts/storage/volumes#iscsi
                                          type: string
                                        initiatorName:
                                          description: |-
                                            initiatorName is the custom iSCSI Initiator Name.
                                            If initiatorName is specified with iscsiInterface simultaneously, new iSCSI interface
                                            <target portal>:<volume name> will be created for the connection.
                                          type: string
                                        iqn:
                                          description: iqn is the target iSCSI Qualified
                                            Name.
                                          type: string
                                        iscsiInterface:
                                          default: default
                                          description: |-
                                            iscsiInterface is the interface Name that uses an iSCSI transport.
                                            Defaults to 'default' (tcp).
                                          type: string
                                        lun:
                                          description: lun represents iSCSI Target
                                            Lun number.
                                          format: int32
                                          type: integer
                                        portals:
                                          description: |-
                                            portals is the iSCSI Target Portal List. The portal is either an IP or ip_addr:port if the port
                                            is other than default (typically TCP ports 860 and 3260).
                                          items:
                                            type: string
                                          type: array
                                          x-kubernetes-list-type: atomic
                                        readOnly:
                                          description: |-
                                            readOnly here will force the ReadOnly setting in VolumeMounts.
                                            Defaults to false.
                                          type: boolean
                                        secretRef:
                                          description: secretRef is the CHAP Secret
                                            for iSCSI target and initiator authentication
                                          properties:
                                            name:
                                              default: ""
                                              description: |-
                                                Name of the referent.
                                                This field is effectively required, but due to backwards compatibility is
                                                allowed to be empty. Instances of this type with an empty value here are
                                                almost certainly wrong.
                                                More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                              type: string
                                          type: object
                                          x-kubernetes-map-type: atomic
                                        targetPortal:
                                          description: |-
                                            targetPortal is iSCSI Target Portal. The Portal is either an IP or ip_addr:port if the port
                                            is other than default (typically TCP ports 860 and 3260).
                                          type: string
                                      required:
                                      - iqn
                                      - lun
                                      - targetPortal
                                      type: object
                                    name:
                                      description: |-
                                        name of the volume.
                                        Must be a DNS_LABEL and unique within the pod.
                                        More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                      type: string
                                    nfs:
                                      description: |-
                                        nfs represents an NFS mount on the host that shares a pod's lifetime
                                        More info: https://kubernetes.io/docs/concepts/storage/volumes#nfs
                                      properties:
                                        path:
                                          description: |-
                                            path that is exported by the NFS server.
                                            More info: https://kubernetes.io/docs/concepts/storage/volumes#nfs
                                          type: string
                                        readOnly:
                                          description: |-
                                            readOnly here will force the NFS export to be mounted with read-only permissions.
                                            Defaults to false.
                                            More info: https://kubernetes.io/docs/concepts/storage/volumes#nfs
                                          type: boolean
                                        server:
                                          description: |-
                                            server is the hostname or IP address of the NFS server.
                                            More info: https://kubernetes.io/docs/concepts/storage/volumes#nfs
                                          type: string
                                      required:
                                      - path
                                      - server
                                      type: object
                                    persistentVolumeClaim:
                                      description: |-
                                        persistentVolumeClaimVolumeSource represents a reference to a
                                        PersistentVolumeClaim in the same namespace.
                                        More info: https://kubernetes.io/docs/concepts/storage/persistent-volumes#persistentvolumeclaims
                                      properties:
                                        claimName:
                                          description: |-
                                            claimName is the name of a PersistentVolumeClaim in the same namespace as the pod using this volume.
                                            More info: https://kubernetes.io/docs/concepts/storage/persistent-volumes#persistentvolumeclaims
                                          type: string
                                        readOnly:
                                          description: |-
                                            readOnly Will force the ReadOnly setting in VolumeMounts.
                                            Default false.
                                          type: boolean
                                      required:
                                      - claimName
                                      type: object
                                    photonPersistentDisk:
                                      description: |-
                                        photonPersistentDisk represents a PhotonController persistent disk attached and mounted on kubelets host machine.
                                        Deprecated: PhotonPersistentDisk is deprecated and the in-tree photonPersistentDisk type is no longer supported.
                                      properties:
                                        fsType:
                                          description: |-
                                            fsType is the filesystem type to mount.
                                            Must be a filesystem type supported by the host operating system.
                                            Ex. "ext4", "xfs", "ntfs". Implicitly inferred to be "ext4" if unspecified.
                                          type: string
                                        pdID:
                                          description: pdID is the ID that identifies
                                            Photon Controller persistent disk
                                          type: string
                                      required:
                                      - pdID
                                      type: object
                                    portworxVolume:
                                      description: |-
                                        portworxVolume represents a portworx volume attached and mounted on kubelets host machine.
                                        Deprecated: PortworxVolume is deprecated. All operations for the in-tree portworxVolume type
                                        are redirected to the pxd.portworx.com CSI driver when the CSIMigrationPortworx feature-gate
                                        is on.
                                      properties:
                                        fsType:
                                          description: |-
                                            fSType represents the filesystem type to mount
                                            Must be a filesystem type supported by the host operating system.
                                            Ex. "ext4", "xfs". Implicitly inferred to be "ext4" if unspecified.
                                          type: string
                                        readOnly:
                                          description: |-
                                            readOnly defaults to false (read/write). ReadOnly here will force
                                            the ReadOnly setting in VolumeMounts.
                                          type: boolean
                                        volumeID:
                                          description: volumeID uniquely identifies
                                            a Portworx volume
                                          type: string
                                      required:
                                      - volumeID
                                      type: object
                                    projected:
                                      description: projected items for all in one
                                        resources secrets, configmaps, and downward
                                        API
                                      properties:
                                        defaultMode:
                                          description: |-
                                            defaultMode are the mode bits used to set permissions on created files by default.
                                            Must be an octal value between 0000 and 0777 or a decimal value between 0 and 511.
                                            YAML accepts both octal and decimal values, JSON requires decimal values for mode bits.
                                            Directories within the path are not affected by this setting.
                                            This might be in conflict with other options that affect the file
                                            mode, like fsGroup, and the result can be other mode bits set.
                                          format: int32
                                          type: integer
                                        sources:
                                          description: |-
                                            sources is the list of volume projections. Each entry in this list
                                            handles one source.
                                          items:
                                            description: |-
                                              Projection that may be projected along with other supported volume types.
                                              Exactly one of these fields must be set.
                                            properties:
                                              clusterTrustBundle:
                                                description: |-
                                                  ClusterTrustBundle allows a pod to access the `.spec.trustBundle` field
                                                  of ClusterTrustBundle objects in an auto-updating file.

                                                  Alpha, gated by the ClusterTrustBundleProjection feature gate.

                                                  ClusterTrustBundle objects can either be selected by name, or by the
                                                  combination of signer name and a label selector.

                                                  Kubelet performs aggressive normalization of the PEM contents written
                                                  into the pod filesystem.  Esoteric PEM features such as inter-block
                                                  comments and block headers are stripped.  Certificates are deduplicated.
                                                  The ordering of certificates within the file is arbitrary, and Kubelet
                                                  may change the order over time.
                                                properties:
                                                  labelSelector:
                                                    description: |-
                                                      Select all ClusterTrustBundles that match this label selector.  Only has
                                                      effect if signerName is set.  Mutually-exclusive with name.  If unset,
                                                      interpreted as "match nothing".  If set but empty, interpreted as "match
                                                      everything".
                                                    properties:
                                                      matchExpressions:
                                                        description: matchExpressions
                                                          is a list of label selector
                                                          requirements. The requirements
                                                          are ANDed.
                                                        items:
                                                          description: |-
                                                            A label selector requirement is a selector that contains values, a key, and an operator that
                                                            relates the key and values.
                                                          properties:
                                                            key:
                                                              description: key is
                                                                the label key that
                                                                the selector applies
                                                                to.
                                                              type: string
                                                            operator:
                                                              description: |-
                                                                operator represents a key's relationship to a set of values.
                                                                Valid operators are In, NotIn, Exists and DoesNotExist.
                                                              type: string
                                                            values:
                                                              description: |-
                                                                values is an array of string values. If the operator is In or NotIn,
                                                                the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                                the values array must be empty. This array is replaced during a strategic
                                                                merge patch.
                                                              items:
                                                                type: string
                                                              type: array
                                                              x-kubernetes-list-type: atomic
                                                          required:
                                                          - key
                                                          - operator
                                                          type: object
                                                        type: array
                                                        x-kubernetes-list-type: atomic
                                                      matchLabels:
                                                        additionalProperties:
                                                          type: string
                                                        description: |-
                                                          matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                                          map is equivalent to an element of matchExpressions, whose key field is "key", the
                                                          operator is "In", and the values array contains only "value". The requirements are ANDed.
                                                        type: object
                                                    type: object
                                                    x-kubernetes-map-type: atomic
                                                  name:
                                                    description: |-
                                                      Select a single ClusterTrustBundle by object name.  Mutually-exclusive
                                                      with signerName and labelSelector.
                                                    type: string
                                                  optional:
                                                    description: |-
                                                      If true, don't block pod startup if the referenced ClusterTrustBundle(s)
                                                      aren't available.  If using name, then the named ClusterTrustBundle is
                                                      allowed not to exist.  If using signerName, then the combination of
                                                      signerName and labelSelector is allowed to match zero
                                                      ClusterTrustBundles.
                                                    type: boolean
                                                  path:
                                                    description: Relative path from
                                                      the volume root to write the
                                                      bundle.
                                                    type: string
                                                  signerName:
                                                    description: |-
                                                      Select all ClusterTrustBundles that match this signer name.
                                                      Mutually-exclusive with name.  The contents of all selected
                                                      ClusterTrustBundles will be unified and deduplicated.
                                                    type: string
                                                required:
                                                - path
                                                type: object
                                              configMap:
                                                description: configMap information
                                                  about the configMap data to project
                                                properties:
                                                  items:
                                                    description: |-
                                                      items if unspecified, each key-value pair in the Data field of the referenced
                                                      ConfigMap will be projected into the volume as a file whose name is the
                                                      key and content is the value. If specified, the listed keys will be
                                                      projected into the specified paths, and unlisted keys will not be
                                                      present. If a key is specified which is not present in the ConfigMap,
                                                      the volume setup will error unless it is marked optional. Paths must be
                                                      relative and may not contain the '..' path or start with '..'.
                                                    items:
                                                      description: Maps a string key
                                                        to a path within a volume.
                                                      properties:
                                                        key:
                                                          description: key is the
                                                            key to project.
                                                          type: string
                                                        mode:
                                                          description: |-
                                                            mode is Optional: mode bits used to set permissions on this file.
                                                            Must be an octal value between 0000 and 0777 or a decimal value between 0 and 511.
                                                            YAML accepts both octal and decimal values, JSON requires decimal values for mode bits.
                                                            If not specified, the volume defaultMode will be used.
                                                            This might be in conflict with other options that affect the file
                                                            mode, like fsGroup, and the result can be other mode bits set.
                                                          format: int32
                                                          type: integer
                                                        path:
                                                          description: |-
                                                            path is the relative path of the file to map the key to.
                                                            May not be an absolute path.
                                                            May not contain the path element '..'.
                                                            May not start with the string '..'.
                                                          type: string
                                                      required:
                                                      - key
                                                      - path
                                                      type: object
                                                    type: array
                                                    x-kubernetes-list-type: atomic
                                                  name:
                                                    default: ""
                                                    description: |-
                                                      Name of the referent.
                                                      This field is effectively required, but due to backwards compatibility is
                                                      allowed to be empty. Instances of this type with an empty value here are
                                                      almost certainly wrong.
                                                      More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                                    type: string
                                                  optional:
                                                    description: optional specify
                                                      whether the ConfigMap or its
                                                      keys must be defined
                                                    type: boolean
                                                type: object
                                                x-kubernetes-map-type: atomic
                                              downwardAPI:
                                                description: downwardAPI information
                                                  about the downwardAPI data to project
                                                properties:
                                                  items:
                                                    description: Items is a list of
                                                      DownwardAPIVolume file
                                                    items:
                                                      description: DownwardAPIVolumeFile
                                                        represents information to
                                                        create the file containing
                                                        the pod field
                                                      properties:
                                                        fieldRef:
                                                          description: 'Required:
                                                            Selects a field of the
                                                            pod: only annotations,
                                                            labels, name, namespace
                                                            and uid are supported.'
                                                          properties:
                                                            apiVersion:
                                                              description: Version
                                                                of the schema the
                                                                FieldPath is written
                                                                in terms of, defaults
                                                                to "v1".
                                                              type: string
                                                            fieldPath:
                                                              description: Path of
                                                                the field to select
                                                                in the specified API
                                                                version.
                                                              type: string
                                                          required:
                                                          - fieldPath
                                                          type: object
                                                          x-kubernetes-map-type: atomic
                                                        mode:
                                                          description: |-
                                                            Optional: mode bits used to set permissions on this file, must be an octal value
                                                            between 0000 and 0777 or a decimal value between 0 and 511.
                                                            YAML accepts both octal and decimal values, JSON requires decimal values for mode bits.
                                                            If not specified, the volume defaultMode will be used.
                                                            This might be in conflict with other options that affect the file
                                                            mode, like fsGroup, and the result can be other mode bits set.
                                                          format: int32
                                                          type: integer
                                                        path:
                                                          description: 'Required:
                                                            Path is  the relative
                                                            path name of the file
                                                            to be created. Must not
                                                            be absolute or contain
                                                            the ''..'' path. Must
                                                            be utf-8 encoded. The
                                                            first item of the relative
                                                            path must not start with
                                                            ''..'''
                                                          type: string
                                                        resourceFieldRef:
                                                          description: |-
                                                            Selects a resource of the container: only resources limits and requests
                                                            (limits.cpu, limits.memory, requests.cpu and requests.memory) are currently supported.
                                                          properties:
                                                            containerName:
                                                              description: 'Container
                                                                name: required for
                                                                volumes, optional
                                                                for env vars'
                                                              type: string
                                                            divisor:
                                                              anyOf:
                                                              - type: integer
                                                              - type: string
                                                              description: Specifies
                                                                the output format
                                                                of the exposed resources,
                                                                defaults to "1"
                                                              pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                                              x-kubernetes-int-or-string: true
                                                            resource:
                                                              description: 'Required:
                                                                resource to select'
                                                              type: string
                                                          required:
                                                          - resource
                                                          type: object
                                                          x-kubernetes-map-type: atomic
                                                      required:
                                                      - path
                                                      type: object
                                                    type: array
                                                    x-kubernetes-list-type: atomic
                                                type: object
                                              secret:
                                                description: secret information about
                                                  the secret data to project
                                                properties:
                                                  items:
                                                    description: |-
                                                      items if unspecified, each key-value pair in the Data field of the referenced
                                                      Secret will be projected into the volume as a file whose name is the
                                                      key and content is the value. If specified, the listed keys will be
                                                      projected into the specified paths, and unlisted keys will not be
                                                      present. If a key is specified which is not present in the Secret,
                                                      the volume setup will error unless it is marked optional. Paths must be
                                                      relative and may not contain the '..' path or start with '..'.
                                                    items:
                                                      description: Maps a string key
                                                        to a path within a volume.
                                                      properties:
                                                        key:
                                                          description: key is the
                                                            key to project.
                                                          type: string
                                                        mode:
                                                          description: |-
                                                            mode is Optional: mode bits used to set permissions on this file.
                                                            Must be an octal value between 0000 and 0777 or a decimal value between 0 and 511.
                                                            YAML accepts both octal and decimal values, JSON requires decimal values for mode bits.
                                                            If not specified, the volume defaultMode will be used.
                                                            This might be in conflict with other options that affect the file
                                                            mode, like fsGroup, and the result can be other mode bits set.
                                                          format: int32
                                                          type: integer
                                                        path:
                                                          description: |-
                                                            path is the relative path of the file to map the key to.
                                                            May not be an absolute path.
                                                            May not contain the path element '..'.
                                                            May not start with the string '..'.
                                                          type: string
                                                      required:
                                                      - key
                                                      - path
                                                      type: object
                                                    type: array
                                                    x-kubernetes-list-type: atomic
                                                  name:
                                                    default: ""
                                                    description: |-
                                                      Name of the referent.
                                                      This field is effectively required, but due to backwards compatibility is
                                                      allowed to be empty. Instances of this type with an empty value here are
                                                      almost certainly wrong.
                                                      More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                                    type: string
                                                  optional:
                                                    description: optional field specify
                                                      whether the Secret or its key
                                                      must be defined
                                                    type: boolean
                                                type: object
                                                x-kubernetes-map-type: atomic
                                              serviceAccountToken:
                                                description: serviceAccountToken is
                                                  information about the serviceAccountToken
                                                  data to project
                                                properties:
                                                  audience:
                                                    description: |-
                                                      audience is the intended audience of the token. A recipient of a token
                                                      must identify itself with an identifier specified in the audience of the
                                                      token, and otherwise should reject the token. The audience defaults to the
                                                      identifier of the apiserver.
                                                    type: string
                                                  expirationSeconds:
                                                    description: |-
                                                      expirationSeconds is the requested duration of validity of the service
                                                      account token. As the token approaches expiration, the kubelet volume
                                                      plugin will proactively rotate the service account token. The kubelet will
                                                      start trying to rotate the token if the token is older than 80 percent of
                                                      its time to live or if the token is older than 24 hours.Defaults to 1 hour
                                                      and must be at least 10 minutes.
                                                    format: int64
                                                    type: integer
                                                  path:
                                                    description: |-
                                                      path is the path relative to the mount point of the file to project the
                                                      token into.
                                                    type: string
                                                required:
                                                - path
                                                type: object
                                            type: object
                                          type: array
                                          x-kubernetes-list-type: atomic
                                      type: object
                                    quobyte:
                                      description: |-
                                        quobyte represents a Quobyte mount on the host that shares a pod's lifetime.
                                        Deprecated: Quobyte is deprecated and the in-tree quobyte type is no longer supported.
                                      properties:
                                        group:
                                          description: |-
                                            group to map volume access to
                                            Default is no group
                                          type: string
                                        readOnly:
                                          description: |-
                                            readOnly here will force the Quobyte volume to be mounted with read-only permissions.
                                            Defaults to false.
                                          type: boolean
                                        registry:
                                          description: |-
                                            registry represents a single or multiple Quobyte Registry services
                                            specified as a string as host:port pair (multiple entries are separated with commas)
                                            which acts as the central registry for volumes
                                          type: string
                                        tenant:
                                          description: |-
                                            tenant owning the given Quobyte volume in the Backend
                                            Used with dynamically provisioned Quobyte volumes, value is set by the plugin
                                          type: string
                                        user:
                                          description: |-
                                            user to map volume access to
                                            Defaults to serivceaccount user
                                          type: string
                                        volume:
                                          description: volume is a string that references
                                            an already created Quobyte volume by name.
                                          type: string
                                      required:
                                      - registry
                                      - volume
                                      type: object
                                    rbd:
                                      description: |-
                                        rbd represents a Rados Block Device mount on the host that shares a pod's lifetime.
                                        Deprecated: RBD is deprecated and the in-tree rbd type is no longer supported.
                                        More info: https://examples.k8s.io/volumes/rbd/README.md
                                      properties:
                                        fsType:
                                          description: |-
                                            fsType is the filesystem type of the volume that you want to mount.
                                            Tip: Ensure that the filesystem type is supported by the host operating system.
                                            Examples: "ext4", "xfs", "ntfs". Implicitly inferred to be "ext4" if unspecified.
                                            More info: https://kubernetes.io/docs/concepts/storage/volumes#rbd
                                          type: string
                                        image:
                                          description: |-
                                            image is the rados image name.
                                            More info: https://examples.k8s.io/volumes/rbd/README.md#how-to-use-it
                                          type: string
                                        keyring:
                                          default: /etc/ceph/keyring
                                          description: |-
                                            keyring is the path to key ring for RBDUser.
                                            Default is /etc/ceph/keyring.
                                            More info: https://examples.k8s.io/volumes/rbd/README.md#how-to-use-it
                                          type: string
                                        monitors:
                                          description: |-
                                            monitors is a collection of Ceph monitors.
                                            More info: https://examples.k8s.io/volumes/rbd/README.md#how-to-use-it
                                          items:
                                            type: string
                                          type: array
                                          x-kubernetes-list-type: atomic
                                        pool:
                                          default: rbd
                                          description: |-
                                            pool is the rados pool name.
                                            Default is rbd.
                                            More info: https://examples.k8s.io/volumes/rbd/README.md#how-to-use-it
                                          type: string
                                        readOnly:
                                          description: |-
                                            readOnly here will force the ReadOnly setting in VolumeMounts.
                                            Defaults to false.
                                            More info: https://examples.k8s.io/volumes/rbd/README.md#how-to-use-it
                                          type: boolean
                                        secretRef:
                                          description: |-
                                            secretRef is name of the authentication secret for RBDUser. If provided
                                            overrides keyring.
                                            Default is nil.
                                            More info: https://examples.k8s.io/volumes/rbd/README.md#how-to-use-it
                                          properties:
                                            name:
                                              default: ""
                                              description: |-
                                                Name of the referent.
                                                This field is effectively required, but due to backwards compatibility is
                                                allowed to be empty. Instances of this type with an empty value here are
                                                almost certainly wrong.
                                                More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                              type: string
                                          type: object
                                          x-kubernetes-map-type: atomic
                                        user:
                                          default: admin
                                          description: |-
                                            user is the rados user name.
                                            Default is admin.
                                            More info: https://examples.k8s.io/volumes/rbd/README.md#how-to-use-it
                                          type: string
                                      required:
                                      - image
                                      - monitors
                                      type: object
                                    scaleIO:
                                      description: |-
                                        scaleIO represents a ScaleIO persistent volume attached and mounted on Kubernetes nodes.
                                        Deprecated: ScaleIO is deprecated and the in-tree scaleIO type is no longer supported.
                                      properties:
                                        fsType:
                                          default: xfs
                                          description: |-
                                            fsType is the filesystem type to mount.
                                            Must be a filesystem type supported by the host operating system.
                                            Ex. "ext4", "xfs", "ntfs".
                                            Default is "xfs".
                                          type: string
                                        gateway:
                                          description: gateway is the host address
                                            of the ScaleIO API Gateway.
                                          type: string
                                        protectionDomain:
                                          description: protectionDomain is the name
                                            of the ScaleIO Protection Domain for the
                                            configured storage.
                                          type: string
                                        readOnly:
                                          description: |-
                                            readOnly Defaults to false (read/write). ReadOnly here will force
                                            the ReadOnly setting in VolumeMounts.
                                          type: boolean
                                        secretRef:
                                          description: |-
                                            secretRef references to the secret for ScaleIO user and other
                                            sensitive information. If this is not provided, Login operation will fail.
                                          properties:
                                            name:
                                              default: ""
                                              description: |-
                                                Name of the referent.
                                                This field is effectively required, but due to backwards compatibility is
                                                allowed to be empty. Instances of this type with an empty value here are
                                                almost certainly wrong.
                                                More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                              type: string
                                          type: object
                                          x-kubernetes-map-type: atomic
                                        sslEnabled:
                                          description: sslEnabled Flag enable/disable
                                            SSL communication with Gateway, default
                                            false
                                          type: boolean
                                        storageMode:
                                          default: ThinProvisioned
                                          description: |-
                                            storageMode indicates whether the storage for a volume should be ThickProvisioned or ThinProvisioned.
                                            Default is ThinProvisioned.
                                          type: string
                                        storagePool:
                                          description: storagePool is the ScaleIO
                                            Storage Pool associated with the protection
                                            domain.
                                          type: string
                                        system:
                                          description: system is the name of the storage
                                            system as configured in ScaleIO.
                                          type: string
                                        volumeName:
                                          description: |-
                                            volumeName is the name of a volume already created in the ScaleIO system
                                            that is associated with this volume source.
                                          type: string
                                      required:
                                      - gateway
                                      - secretRef
                                      - system
                                      type: object
                                    secret:
                                      description: |-
                                        secret represents a secret that should populate this volume.
                                        More info: https://kubernetes.io/docs/concepts/storage/volumes#secret
                                      properties:
                                        defaultMode:
                                          description: |-
                                            defaultMode is Optional: mode bits used to set permissions on created files by default.
                                            Must be an octal value between 0000 and 0777 or a decimal value between 0 and 511.
                                            YAML accepts both octal and decimal values, JSON requires decimal values
                                            for mode bits. Defaults to 0644.
                                            Directories within the path are not affected by this setting.
                                            This might be in conflict with other options that affect the file
                                            mode, like fsGroup, and the result can be other mode bits set.
                                          format: int32
                                          type: integer
                                        items:
                                          description: |-
                                            items If unspecified, each key-value pair in the Data field of the referenced
                                            Secret will be projected into the volume as a file whose name is the
                                            key and content is the value. If specified, the listed keys will be
                                            projected into the specified paths, and unlisted keys will not be
                                            present. If a key is specified which is not present in the Secret,
                                            the volume setup will error unless it is marked optional. Paths must be
                                            relative and may not contain the '..' path or start with '..'.
                                          items:
                                            description: Maps a string key to a path
                                              within a volume.
                                            properties:
                                              key:
                                                description: key is the key to project.
                                                type: string
                                              mode:
                                                description: |-
                                                  mode is Optional: mode bits used to set permissions on this file.
                                                  Must be an octal value between 0000 and 0777 or a decimal value between 0 and 511.
                                                  YAML accepts both octal and decimal values, JSON requires decimal values for mode bits.
                                                  If not specified, the volume defaultMode will be used.
                                                  This might be in conflict with other options that affect the file
                                                  mode, like fsGroup, and the result can be other mode bits set.
                                                format: int32
                                                type: integer
                                              path:
                                                description: |-
                                                  path is the relative path of the file to map the key to.
                                                  May not be an absolute path.
                                                  May not contain the path element '..'.
                                                  May not start with the string '..'.
                                                type: string
                                            required:
                                            - key
                                            - path
                                            type: object
                                          type: array
                                          x-kubernetes-list-type: atomic
                                        optional:
                                          description: optional field specify whether
                                            the Secret or its keys must be defined
                                          type: boolean
                                        secretName:
                                          description: |-
                                            secretName is the name of the secret in the pod's namespace to use.
                                            More info: https://kubernetes.io/docs/concepts/storage/volumes#secret
                                          type: string
                                      type: object
                                    storageos:
                                      description: |-
                                        storageOS represents a StorageOS volume attached and mounted on Kubernetes nodes.
                                        Deprecated: StorageOS is deprecated and the in-tree storageos type is no longer supported.
                                      properties:
                                        fsType:
                                          description: |-
                                            fsType is the filesystem type to mount.
                                            Must be a filesystem type supported by the host operating system.
                                            Ex. "ext4", "xfs", "ntfs". Implicitly inferred to be "ext4" if unspecified.
                                          type: string
                                        readOnly:
                                          description: |-
                                            readOnly defaults to false (read/write). ReadOnly here will force
                                            the ReadOnly setting in VolumeMounts.
                                          type: boolean
                                        secretRef:
                                          description: |-
                                            secretRef specifies the secret to use for obtaining the StorageOS API
                                            credentials.  If not specified, default values will be attempted.
                                          properties:
                                            name:
                                              default: ""
                                              description: |-
                                                Name of the referent.
                                                This field is effectively required, but due to backwards compatibility is
                                                allowed to be empty. Instances of this type with an empty value here are
                                                almost certainly wrong.
                                                More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                              type: string
                                          type: object
                                          x-kubernetes-map-type: atomic
                                        volumeName:
                                          description: |-
                                            volumeName is the human-readable name of the StorageOS volume.  Volume
                                            names are only unique within a namespace.
                                          type: string
                                        volumeNamespace:
                                          description: |-
                                            volumeNamespace specifies the scope of the volume within StorageOS.  If no
                                            namespace is specified then the Pod's namespace will be used.  This allows the
                                            Kubernetes name scoping to be mirrored within StorageOS for tighter integration.
                                            Set VolumeName to any name to override the default behaviour.
                                            Set to "default" if you are not using namespaces within StorageOS.
                                            Namespaces that do not pre-exist within StorageOS will be created.
                                          type: string
                                      type: object
                                    vsphereVolume:
                                      description: |-
                                        vsphereVolume represents a vSphere volume attached and mounted on kubelets host machine.
                                        Deprecated: VsphereVolume is deprecated. All operations for the in-tree vsphereVolume type
                                        are redirected to the csi.vsphere.vmware.com CSI driver.
                                      properties:
                                        fsType:
                                          description: |-
                                            fsType is filesystem type to mount.
                                            Must be a filesystem type supported by the host operating system.
                                            Ex. "ext4", "xfs", "ntfs". Implicitly inferred to be "ext4" if unspecified.
                                          type: string
                                        storagePolicyID:
                                          description: storagePolicyID is the storage
                                            Policy Based Management (SPBM) profile
                                            ID associated with the StoragePolicyName.
                                          type: string
                                        storagePolicyName:
                                          description: storagePolicyName is the storage
                                            Policy Based Management (SPBM) profile
                                            name.
                                          type: string
                                        volumePath:
                                          description: volumePath is the path that
                                            identifies vSphere volume vmdk
                                          type: string
                                      required:
                                      - volumePath
                                      type: object
                                  required:
                                  - name
                                  type: object
                                type: array
                            type: object
                          strategy:
                            description: The daemonset strategy to use to replace
                              existing pods with new ones.
                            properties:
                              rollingUpdate:
                                description: Rolling update config params. Present
                                  only if type = "RollingUpdate".
                                properties:
                                  maxSurge:
                                    anyOf:
                                    - type: integer
                                    - type: string
                                    description: |-
                                      The maximum number of nodes with an existing available DaemonSet pod that
                                      can have an updated DaemonSet pod during during an update.
                                      Value can be an absolute number (ex: 5) or a percentage of desired pods (ex: 10%).
                                      This can not be 0 if MaxUnavailable is 0.
                                      Absolute number is calculated from percentage by rounding up to a minimum of 1.
                                      Default value is 0.
                                      Example: when this is set to 30%, at most 30% of the total number of nodes
                                      that should be running the daemon pod (i.e. status.desiredNumberScheduled)
                                      can have their a new pod created before the old pod is marked as deleted.
                                      The update starts by launching new pods on 30% of nodes. Once an updated
                                      pod is available (Ready for at least minReadySeconds) the old DaemonSet pod
                                      on that node is marked deleted. If the old pod becomes unavailable for any
                                      reason (Ready transitions to false, is evicted, or is drained) an updated
                                      pod is immediatedly created on that node without considering surge limits.
                                      Allowing surge implies the possibility that the resources consumed by the
                                      daemonset on any given node can double if the readiness check fails, and
                                      so resource intensive daemonsets should take into account that they may
                                      cause evictions during disruption.
                                    x-kubernetes-int-or-string: true
                                  maxUnavailable:
                                    anyOf:
                                    - type: integer
                                    - type: string
                                    description: |-
                                      The maximum number of DaemonSet pods that can be unavailable during the
                                      update. Value can be an absolute number (ex: 5) or a percentage of total
                                      number of DaemonSet pods at the start of the update (ex: 10%). Absolute
                                      number is calculated from percentage by rounding up.
                                      This cannot be 0 if MaxSurge is 0
                                      Default value is 1.
                                      Example: when this is set to 30%, at most 30% of the total number of nodes
                                      that should be running the daemon pod (i.e. status.desiredNumberScheduled)
                                      can have their pods stopped for an update at any given time. The update
                                      starts by stopping at most 30% of those DaemonSet pods and then brings
                                      up new DaemonSet pods in their place. Once the new pods are available,
                                      it then proceeds onto other DaemonSet pods, thus ensuring that at least
                                      70% of original number of DaemonSet pods are available at all times during
                                      the update.
                                    x-kubernetes-int-or-string: true
                                type: object
                              type:
                                description: Type of daemon set update. Can be "RollingUpdate"
                                  or "OnDelete". Default is RollingUpdate.
                                type: string
                            type: object
                        type: object
                      envoyDeployment:
                        description: |-
                          EnvoyDeployment defines the desired state of the Envoy deployment resource.
                          If unspecified, default settings for the managed Envoy deployment resource
                          are applied.
                        properties:
                          container:
                            description: Container defines the desired specification
                              of main container.
                            properties:
                              env:
                                description: List of environment variables to set
                                  in the container.
                                items:
                                  description: EnvVar represents an environment variable
                                    present in a Container.
                                  properties:
                                    name:
                                      description: Name of the environment variable.
                                        Must be a C_IDENTIFIER.
                                      type: string
                                    value:
                                      description: |-
                                        Variable references $(VAR_NAME) are expanded
                                        using the previously defined environment variables in the container and
                                        any service environment variables. If a variable cannot be resolved,
                                        the reference in the input string will be unchanged. Double $$ are reduced
                                        to a single $, which allows for escaping the $(VAR_NAME) syntax: i.e.
                                        "$$(VAR_NAME)" will produce the string literal "$(VAR_NAME)".
                                        Escaped references will never be expanded, regardless of whether the variable
                                        exists or not.
                                        Defaults to "".
                                      type: string
                                    valueFrom:
                                      description: Source for the environment variable's
                                        value. Cannot be used if value is not empty.
                                      properties:
                                        configMapKeyRef:
                                          description: Selects a key of a ConfigMap.
                                          properties:
                                            key:
                                              description: The key to select.
                                              type: string
                                            name:
                                              default: ""
                                              description: |-
                                                Name of the referent.
                                                This field is effectively required, but due to backwards compatibility is
                                                allowed to be empty. Instances of this type with an empty value here are
                                                almost certainly wrong.
                                                More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                              type: string
                                            optional:
                                              description: Specify whether the ConfigMap
                                                or its key must be defined
                                              type: boolean
                                          required:
                                          - key
                                          type: object
                                          x-kubernetes-map-type: atomic
                                        fieldRef:
                                          description: |-
                                            Selects a field of the pod: supports metadata.name, metadata.namespace, `metadata.labels['<KEY>']`, `metadata.annotations['<KEY>']`,
                                            spec.nodeName, spec.serviceAccountName, status.hostIP, status.podIP, status.podIPs.
                                          properties:
                                            apiVersion:
                                              description: Version of the schema the
                                                FieldPath is written in terms of,
                                                defaults to "v1".
                                              type: string
                                            fieldPath:
                                              description: Path of the field to select
                                                in the specified API version.
                                              type: string
                                          required:
                                          - fieldPath
                                          type: object
                                          x-kubernetes-map-type: atomic
                                        resourceFieldRef:
                                          description: |-
                                            Selects a resource of the container: only resources limits and requests
                                            (limits.cpu, limits.memory, limits.ephemeral-storage, requests.cpu, requests.memory and requests.ephemeral-storage) are currently supported.
                                          properties:
                                            containerName:
                                              description: 'Container name: required
                                                for volumes, optional for env vars'
                                              type: string
                                            divisor:
                                              anyOf:
                                              - type: integer
                                              - type: string
                                              description: Specifies the output format
                                                of the exposed resources, defaults
                                                to "1"
                                              pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                              x-kubernetes-int-or-string: true
                                            resource:
                                              description: 'Required: resource to
                                                select'
                                              type: string
                                          required:
                                          - resource
                                          type: object
                                          x-kubernetes-map-type: atomic
                                        secretKeyRef:
                                          description: Selects a key of a secret in
                                            the pod's namespace
                                          properties:
                                            key:
                                              description: The key of the secret to
                                                select from.  Must be a valid secret
                                                key.
                                              type: string
                                            name:
                                              default: ""
                                              description: |-
                                                Name of the referent.
                                                This field is effectively required, but due to backwards compatibility is
                                                allowed to be empty. Instances of this type with an empty value here are
                                                almost certainly wrong.
                                                More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                              type: string
                                            optional:
                                              description: Specify whether the Secret
                                                or its key must be defined
                                              type: boolean
                                          required:
                                          - key
                                          type: object
                                          x-kubernetes-map-type: atomic
                                      type: object
                                  required:
                                  - name
                                  type: object
                                type: array
                              image:
                                description: Image specifies the EnvoyProxy container
                                  image to be used, instead of the default image.
                                type: string
                              resources:
                                description: |-
                                  Resources required by this container.
                                  More info: https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/
                                properties:
                                  claims:
                                    description: |-
                                      Claims lists the names of resources, defined in spec.resourceClaims,
                                      that are used by this container.

                                      This is an alpha field and requires enabling the
                                      DynamicResourceAllocation feature gate.

                                      This field is immutable. It can only be set for containers.
                                    items:
                                      description: ResourceClaim references one entry
                                        in PodSpec.ResourceClaims.
                                      properties:
                                        name:
                                          description: |-
                                            Name must match the name of one entry in pod.spec.resourceClaims of
                                            the Pod where this field is used. It makes that resource available
                                            inside a container.
                                          type: string
                                        request:
                                          description: |-
                                            Request is the name chosen for a request in the referenced claim.
                                            If empty, everything from the claim is made available, otherwise
                                            only the result of this request.
                                          type: string
                                      required:
                                      - name
                                      type: object
                                    type: array
                                    x-kubernetes-list-map-keys:
                                    - name
                                    x-kubernetes-list-type: map
                                  limits:
                                    additionalProperties:
                                      anyOf:
                                      - type: integer
                                      - type: string
                                      pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                      x-kubernetes-int-or-string: true
                                    description: |-
                                      Limits describes the maximum amount of compute resources allowed.
                                      More info: https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/
                                    type: object
                                  requests:
                                    additionalProperties:
                                      anyOf:
                                      - type: integer
                                      - type: string
                                      pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                      x-kubernetes-int-or-string: true
                                    description: |-
                                      Requests describes the minimum amount of compute resources required.
                                      If Requests is omitted for a container, it defaults to Limits if that is explicitly specified,
                                      otherwise to an implementation-defined value. Requests cannot exceed Limits.
                                      More info: https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/
                                    type: object
                                type: object
                              securityContext:
                                description: |-
                                  SecurityContext defines the security options the container should be run with.
                                  If set, the fields of SecurityContext override the equivalent fields of PodSecurityContext.
                                  More info: https://kubernetes.io/docs/tasks/configure-pod-container/security-context/
                                properties:
                                  allowPrivilegeEscalation:
                                    description: |-
                                      AllowPrivilegeEscalation controls whether a process can gain more
                                      privileges than its parent process. This bool directly controls if
                                      the no_new_privs flag will be set on the container process.
                                      AllowPrivilegeEscalation is true always when the container is:
                                      1) run as Privileged
                                      2) has CAP_SYS_ADMIN
                                      Note that this field cannot be set when spec.os.name is windows.
                                    type: boolean
                                  appArmorProfile:
                                    description: |-
                                      appArmorProfile is the AppArmor options to use by this container. If set, this profile
                                      overrides the pod's appArmorProfile.
                                      Note that this field cannot be set when spec.os.name is windows.
                                    properties:
                                      localhostProfile:
                                        description: |-
                                          localhostProfile indicates a profile loaded on the node that should be used.
                                          The profile must be preconfigured on the node to work.
                                          Must match the loaded name of the profile.
                                          Must be set if and only if type is "Localhost".
                                        type: string
                                      type:
                                        description: |-
                                          type indicates which kind of AppArmor profile will be applied.
                                          Valid options are:
                                            Localhost - a profile pre-loaded on the node.
                                            RuntimeDefault - the container runtime's default profile.
                                            Unconfined - no AppArmor enforcement.
                                        type: string
                                    required:
                                    - type
                                    type: object
                                  capabilities:
                                    description: |-
                                      The capabilities to add/drop when running containers.
                                      Defaults to the default set of capabilities granted by the container runtime.
                                      Note that this field cannot be set when spec.os.name is windows.
                                    properties:
                                      add:
                                        description: Added capabilities
                                        items:
                                          description: Capability represent POSIX
                                            capabilities type
                                          type: string
                                        type: array
                                        x-kubernetes-list-type: atomic
                                      drop:
                                        description: Removed capabilities
                                        items:
                                          description: Capability represent POSIX
                                            capabilities type
                                          type: string
                                        type: array
                                        x-kubernetes-list-type: atomic
                                    type: object
                                  privileged:
                                    description: |-
                                      Run container in privileged mode.
                                      Processes in privileged containers are essentially equivalent to root on the host.
                                      Defaults to false.
                                      Note that this field cannot be set when spec.os.name is windows.
                                    type: boolean
                                  procMount:
                                    description: |-
                                      procMount denotes the type of proc mount to use for the containers.
                                      The default value is Default which uses the container runtime defaults for
                                      readonly paths and masked paths.
                                      This requires the ProcMountType feature flag to be enabled.
                                      Note that this field cannot be set when spec.os.name is windows.
                                    type: string
                                  readOnlyRootFilesystem:
                                    description: |-
                                      Whether this container has a read-only root filesystem.
                                      Default is false.
                                      Note that this field cannot be set when spec.os.name is windows.
                                    type: boolean
                                  runAsGroup:
                                    description: |-
                                      The GID to run the entrypoint of the container process.
                                      Uses runtime default if unset.
                                      May also be set in PodSecurityContext.  If set in both SecurityContext and
                                      PodSecurityContext, the value specified in SecurityContext takes precedence.
                                      Note that this field cannot be set when spec.os.name is windows.
                                    format: int64
                                    type: integer
                                  runAsNonRoot:
                                    description: |-
                                      Indicates that the container must run as a non-root user.
                                      If true, the Kubelet will validate the image at runtime to ensure that it
                                      does not run as UID 0 (root) and fail to start the container if it does.
                                      If unset or false, no such validation will be performed.
                                      May also be set in PodSecurityContext.  If set in both SecurityContext and
                                      PodSecurityContext, the value specified in SecurityContext takes precedence.
                                    type: boolean
                                  runAsUser:
                                    description: |-
                                      The UID to run the entrypoint of the container process.
                                      Defaults to user specified in image metadata if unspecified.
                                      May also be set in PodSecurityContext.  If set in both SecurityContext and
                                      PodSecurityContext, the value specified in SecurityContext takes precedence.
                                      Note that this field cannot be set when spec.os.name is windows.
                                    format: int64
                                    type: integer
                                  seLinuxOptions:
                                    description: |-
                                      The SELinux context to be applied to the container.
                                      If unspecified, the container runtime will allocate a random SELinux context for each
                                      container.  May also be set in PodSecurityContext.  If set in both SecurityContext and
                                      PodSecurityContext, the value specified in SecurityContext takes precedence.
                                      Note that this field cannot be set when spec.os.name is windows.
                                    properties:
                                      level:
                                        description: Level is SELinux level label
                                          that applies to the container.
                                        type: string
                                      role:
                                        description: Role is a SELinux role label
                                          that applies to the container.
                                        type: string
                                      type:
                                        description: Type is a SELinux type label
                                          that applies to the container.
                                        type: string
                                      user:
                                        description: User is a SELinux user label
                                          that applies to the container.
                                        type: string
                                    type: object
                                  seccompProfile:
                                    description: |-
                                      The seccomp options to use by this container. If seccomp options are
                                      provided at both the pod & container level, the container options
                                      override the pod options.
                                      Note that this field cannot be set when spec.os.name is windows.
                                    properties:
                                      localhostProfile:
                                        description: |-
                                          localhostProfile indicates a profile defined in a file on the node should be used.
                                          The profile must be preconfigured on the node to work.
                                          Must be a descending path, relative to the kubelet's configured seccomp profile location.
                                          Must be set if type is "Localhost". Must NOT be set for any other type.
                                        type: string
                                      type:
                                        description: |-
                                          type indicates which kind of seccomp profile will be applied.
                                          Valid options are:

                                          Localhost - a profile defined in a file on the node should be used.
                                          RuntimeDefault - the container runtime default profile should be used.
                                          Unconfined - no profile should be applied.
                                        type: string
                                    required:
                                    - type
                                    type: object
                                  windowsOptions:
                                    description: |-
                                      The Windows specific settings applied to all containers.
                                      If unspecified, the options from the PodSecurityContext will be used.
                                      If set in both SecurityContext and PodSecurityContext, the value specified in SecurityContext takes precedence.
                                      Note that this field cannot be set when spec.os.name is linux.
                                    properties:
                                      gmsaCredentialSpec:
                                        description: |-
                                          GMSACredentialSpec is where the GMSA admission webhook
                                          (https://github.com/kubernetes-sigs/windows-gmsa) inlines the contents of the
                                          GMSA credential spec named by the GMSACredentialSpecName field.
                                        type: string
                                      gmsaCredentialSpecName:
                                        description: GMSACredentialSpecName is the
                                          name of the GMSA credential spec to use.
                                        type: string
                                      hostProcess:
                                        description: |-
                                          HostProcess determines if a container should be run as a 'Host Process' container.
                                          All of a Pod's containers must have the same effective HostProcess value
                                          (it is not allowed to have a mix of HostProcess containers and non-HostProcess containers).
                                          In addition, if HostProcess is true then HostNetwork must also be set to true.
                                        type: boolean
                                      runAsUserName:
                                        description: |-
                                          The UserName in Windows to run the entrypoint of the container process.
                                          Defaults to the user specified in image metadata if unspecified.
                                          May also be set in PodSecurityContext. If set in both SecurityContext and
                                          PodSecurityContext, the value specified in SecurityContext takes precedence.
                                        type: string
                                    type: object
                                type: object
                              volumeMounts:
                                description: |-
                                  VolumeMounts are volumes to mount into the container's filesystem.
                                  Cannot be updated.
                                items:
                                  description: VolumeMount describes a mounting of
                                    a Volume within a container.
                                  properties:
                                    mountPath:
                                      description: |-
                                        Path within the container at which the volume should be mounted.  Must
                                        not contain ':'.
                                      type: string
                                    mountPropagation:
                                      description: |-
                                        mountPropagation determines how mounts are propagated from the host
                                        to container and the other way around.
                                        When not set, MountPropagationNone is used.
                                        This field is beta in 1.10.
                                        When RecursiveReadOnly is set to IfPossible or to Enabled, MountPropagation must be None or unspecified
                                        (which defaults to None).
                                      type: string
                                    name:
                                      description: This must match the Name of a Volume.
                                      type: string
                                    readOnly:
                                      description: |-
                                        Mounted read-only if true, read-write otherwise (false or unspecified).
                                        Defaults to false.
                                      type: boolean
                                    recursiveReadOnly:
                                      description: |-
                                        RecursiveReadOnly specifies whether read-only mounts should be handled
                                        recursively.

                                        If ReadOnly is false, this field has no meaning and must be unspecified.

                                        If ReadOnly is true, and this field is set to Disabled, the mount is not made
                                        recursively read-only.  If this field is set to IfPossible, the mount is made
                                        recursively read-only, if it is supported by the container runtime.  If this
                                        field is set to Enabled, the mount is made recursively read-only if it is
                                        supported by the container runtime, otherwise the pod will not be started and
                                        an error will be generated to indicate the reason.

                                        If this field is set to IfPossible or Enabled, MountPropagation must be set to
                                        None (or be unspecified, which defaults to None).

                                        If this field is not specified, it is treated as an equivalent of Disabled.
                                      type: string
                                    subPath:
                                      description: |-
                                        Path within the volume from which the container's volume should be mounted.
                                        Defaults to "" (volume's root).
                                      type: string
                                    subPathExpr:
                                      description: |-
                                        Expanded path within the volume from which the container's volume should be mounted.
                                        Behaves similarly to SubPath but environment variable references $(VAR_NAME) are expanded using the container's environment.
                                        Defaults to "" (volume's root).
                                        SubPathExpr and SubPath are mutually exclusive.
                                      type: string
                                  required:
                                  - mountPath
                                  - name
                                  type: object
                                type: array
                            type: object
                          initContainers:
                            description: |-
                              List of initialization containers belonging to the pod.
                              More info: https://kubernetes.io/docs/concepts/workloads/pods/init-containers/
                            items:
                              description: A single application container that you
                                want to run within a pod.
                              properties:
                                args:
                                  description: |-
                                    Arguments to the entrypoint.
                                    The container image's CMD is used if this is not provided.
                                    Variable references $(VAR_NAME) are expanded using the container's environment. If a variable
                                    cannot be resolved, the reference in the input string will be unchanged. Double $$ are reduced
                                    to a single $, which allows for escaping the $(VAR_NAME) syntax: i.e. "$$(VAR_NAME)" will
                                    produce the string literal "$(VAR_NAME)". Escaped references will never be expanded, regardless
                                    of whether the variable exists or not. Cannot be updated.
                                    More info: https://kubernetes.io/docs/tasks/inject-data-application/define-command-argument-container/#running-a-command-in-a-shell
                                  items:
                                    type: string
                                  type: array
                                  x-kubernetes-list-type: atomic
                                command:
                                  description: |-
                                    Entrypoint array. Not executed within a shell.
                                    The container image's ENTRYPOINT is used if this is not provided.
                                    Variable references $(VAR_NAME) are expanded using the container's environment. If a variable
                                    cannot be resolved, the reference in the input string will be unchanged. Double $$ are reduced
                                    to a single $, which allows for escaping the $(VAR_NAME) syntax: i.e. "$$(VAR_NAME)" will
                                    produce the string literal "$(VAR_NAME)". Escaped references will never be expanded, regardless
                                    of whether the variable exists or not. Cannot be updated.
                                    More info: https://kubernetes.io/docs/tasks/inject-data-application/define-command-argument-container/#running-a-command-in-a-shell
                                  items:
                                    type: string
                                  type: array
                                  x-kubernetes-list-type: atomic
                                env:
                                  description: |-
                                    List of environment variables to set in the container.
                                    Cannot be updated.
                                  items:
                                    description: EnvVar represents an environment
                                      variable present in a Container.
                                    properties:
                                      name:
                                        description: Name of the environment variable.
                                          Must be a C_IDENTIFIER.
                                        type: string
                                      value:
                                        description: |-
                                          Variable references $(VAR_NAME) are expanded
                                          using the previously defined environment variables in the container and
                                          any service environment variables. If a variable cannot be resolved,
                                          the reference in the input string will be unchanged. Double $$ are reduced
                                          to a single $, which allows for escaping the $(VAR_NAME) syntax: i.e.
                                          "$$(VAR_NAME)" will produce the string literal "$(VAR_NAME)".
                                          Escaped references will never be expanded, regardless of whether the variable
                                          exists or not.
                                          Defaults to "".
                                        type: string
                                      valueFrom:
                                        description: Source for the environment variable's
                                          value. Cannot be used if value is not empty.
                                        properties:
                                          configMapKeyRef:
                                            description: Selects a key of a ConfigMap.
                                            properties:
                                              key:
                                                description: The key to select.
                                                type: string
                                              name:
                                                default: ""
                                                description: |-
                                                  Name of the referent.
                                                  This field is effectively required, but due to backwards compatibility is
                                                  allowed to be empty. Instances of this type with an empty value here are
                                                  almost certainly wrong.
                                                  More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                                type: string
                                              optional:
                                                description: Specify whether the ConfigMap
                                                  or its key must be defined
                                                type: boolean
                                            required:
                                            - key
                                            type: object
                                            x-kubernetes-map-type: atomic
                                          fieldRef:
                                            description: |-
                                              Selects a field of the pod: supports metadata.name, metadata.namespace, `metadata.labels['<KEY>']`, `metadata.annotations['<KEY>']`,
                                              spec.nodeName, spec.serviceAccountName, status.hostIP, status.podIP, status.podIPs.
                                            properties:
                                              apiVersion:
                                                description: Version of the schema
                                                  the FieldPath is written in terms
                                                  of, defaults to "v1".
                                                type: string
                                              fieldPath:
                                                description: Path of the field to
                                                  select in the specified API version.
                                                type: string
                                            required:
                                            - fieldPath
                                            type: object
                                            x-kubernetes-map-type: atomic
                                          resourceFieldRef:
                                            description: |-
                                              Selects a resource of the container: only resources limits and requests
                                              (limits.cpu, limits.memory, limits.ephemeral-storage, requests.cpu, requests.memory and requests.ephemeral-storage) are currently supported.
                                            properties:
                                              containerName:
                                                description: 'Container name: required
                                                  for volumes, optional for env vars'
                                                type: string
                                              divisor:
                                                anyOf:
                                                - type: integer
                                                - type: string
                                                description: Specifies the output
                                                  format of the exposed resources,
                                                  defaults to "1"
                                                pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                                x-kubernetes-int-or-string: true
                                              resource:
                                                description: 'Required: resource to
                                                  select'
                                                type: string
                                            required:
                                            - resource
                                            type: object
                                            x-kubernetes-map-type: atomic
                                          secretKeyRef:
                                            description: Selects a key of a secret
                                              in the pod's namespace
                                            properties:
                                              key:
                                                description: The key of the secret
                                                  to select from.  Must be a valid
                                                  secret key.
                                                type: string
                                              name:
                                                default: ""
                                                description: |-
                                                  Name of the referent.
                                                  This field is effectively required, but due to backwards compatibility is
                                                  allowed to be empty. Instances of this type with an empty value here are
                                                  almost certainly wrong.
                                                  More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                                type: string
                                              optional:
                                                description: Specify whether the Secret
                                                  or its key must be defined
                                                type: boolean
                                            required:
                                            - key
                                            type: object
                                            x-kubernetes-map-type: atomic
                                        type: object
                                    required:
                                    - name
                                    type: object
                                  type: array
                                  x-kubernetes-list-map-keys:
                                  - name
                                  x-kubernetes-list-type: map
                                envFrom:
                                  description: |-
                                    List of sources to populate environment variables in the container.
                                    The keys defined within a source must be a C_IDENTIFIER. All invalid keys
                                    will be reported as an event when the container is starting. When a key exists in multiple
                                    sources, the value associated with the last source will take precedence.
                                    Values defined by an Env with a duplicate key will take precedence.
                                    Cannot be updated.
                                  items:
                                    description: EnvFromSource represents the source
                                      of a set of ConfigMaps or Secrets
                                    properties:
                                      configMapRef:
                                        description: The ConfigMap to select from
                                        properties:
                                          name:
                                            default: ""
                                            description: |-
                                              Name of the referent.
                                              This field is effectively required, but due to backwards compatibility is
                                              allowed to be empty. Instances of this type with an empty value here are
                                              almost certainly wrong.
                                              More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                            type: string
                                          optional:
                                            description: Specify whether the ConfigMap
                                              must be defined
                                            type: boolean
                                        type: object
                                        x-kubernetes-map-type: atomic
                                      prefix:
                                        description: Optional text to prepend to the
                                          name of each environment variable. Must
                                          be a C_IDENTIFIER.
                                        type: string
                                      secretRef:
                                        description: The Secret to select from
                                        properties:
                                          name:
                                            default: ""
                                            description: |-
                                              Name of the referent.
                                              This field is effectively required, but due to backwards compatibility is
                                              allowed to be empty. Instances of this type with an empty value here are
                                              almost certainly wrong.
                                              More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                            type: string
                                          optional:
                                            description: Specify whether the Secret
                                              must be defined
                                            type: boolean
                                        type: object
                                        x-kubernetes-map-type: atomic
                                    type: object
                                  type: array
                                  x-kubernetes-list-type: atomic
                                image:
                                  description: |-
                                    Container image name.
                                    More info: https://kubernetes.io/docs/concepts/containers/images
                                    This field is optional to allow higher level config management to default or override
                                    container images in workload controllers like Deployments and StatefulSets.
                                  type: string
                                imagePullPolicy:
                                  description: |-
                                    Image pull policy.
                                    One of Always, Never, IfNotPresent.
                                    Defaults to Always if :latest tag is specified, or IfNotPresent otherwise.
                                    Cannot be updated.
                                    More info: https://kubernetes.io/docs/concepts/containers/images#updating-images
                                  type: string
                                lifecycle:
                                  description: |-
                                    Actions that the management system should take in response to container lifecycle events.
                                    Cannot be updated.
                                  properties:
                                    postStart:
                                      description: |-
                                        PostStart is called immediately after a container is created. If the handler fails,
                                        the container is terminated and restarted according to its restart policy.
                                        Other management of the container blocks until the hook completes.
                                        More info: https://kubernetes.io/docs/concepts/containers/container-lifecycle-hooks/#container-hooks
                                      properties:
                                        exec:
                                          description: Exec specifies a command to
                                            execute in the container.
                                          properties:
                                            command:
                                              description: |-
                                                Command is the command line to execute inside the container, the working directory for the
                                                command  is root ('/') in the container's filesystem. The command is simply exec'd, it is
                                                not run inside a shell, so traditional shell instructions ('|', etc) won't work. To use
                                                a shell, you need to explicitly call out to that shell.
                                                Exit status of 0 is treated as live/healthy and non-zero is unhealthy.
                                              items:
                                                type: string
                                              type: array
                                              x-kubernetes-list-type: atomic
                                          type: object
                                        httpGet:
                                          description: HTTPGet specifies an HTTP GET
                                            request to perform.
                                          properties:
                                            host:
                                              description: |-
                                                Host name to connect to, defaults to the pod IP. You probably want to set
                                                "Host" in httpHeaders instead.
                                              type: string
                                            httpHeaders:
                                              description: Custom headers to set in
                                                the request. HTTP allows repeated
                                                headers.
                                              items:
                                                description: HTTPHeader describes
                                                  a custom header to be used in HTTP
                                                  probes
                                                properties:
                                                  name:
                                                    description: |-
                                                      The header field name.
                                                      This will be canonicalized upon output, so case-variant names will be understood as the same header.
                                                    type: string
                                                  value:
                                                    description: The header field
                                                      value
                                                    type: string
                                                required:
                                                - name
                                                - value
                                                type: object
                                              type: array
                                              x-kubernetes-list-type: atomic
                                            path:
                                              description: Path to access on the HTTP
                                                server.
                                              type: string
                                            port:
                                              anyOf:
                                              - type: integer
                                              - type: string
                                              description: |-
                                                Name or number of the port to access on the container.
                                                Number must be in the range 1 to 65535.
                                                Name must be an IANA_SVC_NAME.
                                              x-kubernetes-int-or-string: true
                                            scheme:
                                              description: |-
                                                Scheme to use for connecting to the host.
                                                Defaults to HTTP.
                                              type: string
                                          required:
                                          - port
                                          type: object
                                        sleep:
                                          description: Sleep represents a duration
                                            that the container should sleep.
                                          properties:
                                            seconds:
                                              description: Seconds is the number of
                                                seconds to sleep.
                                              format: int64
                                              type: integer
                                          required:
                                          - seconds
                                          type: object
                                        tcpSocket:
                                          description: |-
                                            Deprecated. TCPSocket is NOT supported as a LifecycleHandler and kept
                                            for backward compatibility. There is no validation of this field and
                                            lifecycle hooks will fail at runtime when it is specified.
                                          properties:
                                            host:
                                              description: 'Optional: Host name to
                                                connect to, defaults to the pod IP.'
                                              type: string
                                            port:
                                              anyOf:
                                              - type: integer
                                              - type: string
                                              description: |-
                                                Number or name of the port to access on the container.
                                                Number must be in the range 1 to 65535.
                                                Name must be an IANA_SVC_NAME.
                                              x-kubernetes-int-or-string: true
                                          required:
                                          - port
                                          type: object
                                      type: object
                                    preStop:
                                      description: |-
                                        PreStop is called immediately before a container is terminated due to an
                                        API request or management event such as liveness/startup probe failure,
                                        preemption, resource contention, etc. The handler is not called if the
                                        container crashes or exits. The Pod's termination grace period countdown begins before the
                                        PreStop hook is executed. Regardless of the outcome of the handler, the
                                        container will eventually terminate within the Pod's termination grace
                                        period (unless delayed by finalizers). Other management of the container blocks until the hook completes
                                        or until the termination grace period is reached.
                                        More info: https://kubernetes.io/docs/concepts/containers/container-lifecycle-hooks/#container-hooks
                                      properties:
                                        exec:
                                          description: Exec specifies a command to
                                            execute in the container.
                                          properties:
                                            command:
                                              description: |-
                                                Command is the command line to execute inside the container, the working directory for the
                                                command  is root ('/') in the container's filesystem. The command is simply exec'd, it is
                                                not run inside a shell, so traditional shell instructions ('|', etc) won't work. To use
                                                a shell, you need to explicitly call out to that shell.
                                                Exit status of 0 is treated as live/healthy and non-zero is unhealthy.
                                              items:
                                                type: string
                                              type: array
                                              x-kubernetes-list-type: atomic
                                          type: object
                                        httpGet:
                                          description: HTTPGet specifies an HTTP GET
                                            request to perform.
                                          properties:
                                            host:
                                              description: |-
                                                Host name to connect to, defaults to the pod IP. You probably want to set
                                                "Host" in httpHeaders instead.
                                              type: string
                                            httpHeaders:
                                              description: Custom headers to set in
                                                the request. HTTP allows repeated
                                                headers.
                                              items:
                                                description: HTTPHeader describes
                                                  a custom header to be used in HTTP
                                                  probes
                                                properties:
                                                  name:
                                                    description: |-
                                                      The header field name.
                                                      This will be canonicalized upon output, so case-variant names will be understood as the same header.
                                                    type: string
                                                  value:
                                                    description: The header field
                                                      value
                                                    type: string
                                                required:
                                                - name
                                                - value
                                                type: object
                                              type: array
                                              x-kubernetes-list-type: atomic
                                            path:
                                              description: Path to access on the HTTP
                                                server.
                                              type: string
                                            port:
                                              anyOf:
                                              - type: integer
                                              - type: string
                                              description: |-
                                                Name or number of the port to access on the container.
                                                Number must be in the range 1 to 65535.
                                                Name must be an IANA_SVC_NAME.
                                              x-kubernetes-int-or-string: true
                                            scheme:
                                              description: |-
                                                Scheme to use for connecting to the host.
                                                Defaults to HTTP.
                                              type: string
                                          required:
                                          - port
                                          type: object
                                        sleep:
                                          description: Sleep represents a duration
                                            that the container should sleep.
                                          properties:
                                            seconds:
                                              description: Seconds is the number of
                                                seconds to sleep.
                                              format: int64
                                              type: integer
                                          required:
                                          - seconds
                                          type: object
                                        tcpSocket:
                                          description: |-
                                            Deprecated. TCPSocket is NOT supported as a LifecycleHandler and kept
                                            for backward compatibility. There is no validation of this field and
                                            lifecycle hooks will fail at runtime when it is specified.
                                          properties:
                                            host:
                                              description: 'Optional: Host name to
                                                connect to, defaults to the pod IP.'
                                              type: string
                                            port:
                                              anyOf:
                                              - type: integer
                                              - type: string
                                              description: |-
                                                Number or name of the port to access on the container.
                                                Number must be in the range 1 to 65535.
                                                Name must be an IANA_SVC_NAME.
                                              x-kubernetes-int-or-string: true
                                          required:
                                          - port
                                          type: object
                                      type: object
                                    stopSignal:
                                      description: |-
                                        StopSignal defines which signal will be sent to a container when it is being stopped.
                                        If not specified, the default is defined by the container runtime in use.
                                        StopSignal can only be set for Pods with a non-empty .spec.os.name
                                      type: string
                                  type: object
                                livenessProbe:
                                  description: |-
                                    Periodic probe of container liveness.
                                    Container will be restarted if the probe fails.
                                    Cannot be updated.
                                    More info: https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#container-probes
                                  properties:
                                    exec:
                                      description: Exec specifies a command to execute
                                        in the container.
                                      properties:
                                        command:
                                          description: |-
                                            Command is the command line to execute inside the container, the working directory for the
                                            command  is root ('/') in the container's filesystem. The command is simply exec'd, it is
                                            not run inside a shell, so traditional shell instructions ('|', etc) won't work. To use
                                            a shell, you need to explicitly call out to that shell.
                                            Exit status of 0 is treated as live/healthy and non-zero is unhealthy.
                                          items:
                                            type: string
                                          type: array
                                          x-kubernetes-list-type: atomic
                                      type: object
                                    failureThreshold:
                                      description: |-
                                        Minimum consecutive failures for the probe to be considered failed after having succeeded.
                                        Defaults to 3. Minimum value is 1.
                                      format: int32
                                      type: integer
                                    grpc:
                                      description: GRPC specifies a GRPC HealthCheckRequest.
                                      properties:
                                        port:
                                          description: Port number of the gRPC service.
                                            Number must be in the range 1 to 65535.
                                          format: int32
                                          type: integer
                                        service:
                                          default: ""
                                          description: |-
                                            Service is the name of the service to place in the gRPC HealthCheckRequest
                                            (see https://github.com/grpc/grpc/blob/master/doc/health-checking.md).

                                            If this is not specified, the default behavior is defined by gRPC.
                                          type: string
                                      required:
                                      - port
                                      type: object
                                    httpGet:
                                      description: HTTPGet specifies an HTTP GET request
                                        to perform.
                                      properties:
                                        host:
                                          description: |-
                                            Host name to connect to, defaults to the pod IP. You probably want to set
                                            "Host" in httpHeaders instead.
                                          type: string
                                        httpHeaders:
                                          description: Custom headers to set in the
                                            request. HTTP allows repeated headers.
                                          items:
                                            description: HTTPHeader describes a custom
                                              header to be used in HTTP probes
                                            properties:
                                              name:
                                                description: |-
                                                  The header field name.
                                                  This will be canonicalized upon output, so case-variant names will be understood as the same header.
                                                type: string
                                              value:
                                                description: The header field value
                                                type: string
                                            required:
                                            - name
                                            - value
                                            type: object
                                          type: array
                                          x-kubernetes-list-type: atomic
                                        path:
                                          description: Path to access on the HTTP
                                            server.
                                          type: string
                                        port:
                                          anyOf:
                                          - type: integer
                                          - type: string
                                          description: |-
                                            Name or number of the port to access on the container.
                                            Number must be in the range 1 to 65535.
                                            Name must be an IANA_SVC_NAME.
                                          x-kubernetes-int-or-string: true
                                        scheme:
                                          description: |-
                                            Scheme to use for connecting to the host.
                                            Defaults to HTTP.
                                          type: string
                                      required:
                                      - port
                                      type: object
                                    initialDelaySeconds:
                                      description: |-
                                        Number of seconds after the container has started before liveness probes are initiated.
                                        More info: https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#container-probes
                                      format: int32
                                      type: integer
                                    periodSeconds:
                                      description: |-
                                        How often (in seconds) to perform the probe.
                                        Default to 10 seconds. Minimum value is 1.
                                      format: int32
                                      type: integer
                                    successThreshold:
                                      description: |-
                                        Minimum consecutive successes for the probe to be considered successful after having failed.
                                        Defaults to 1. Must be 1 for liveness and startup. Minimum value is 1.
                                      format: int32
                                      type: integer
                                    tcpSocket:
                                      description: TCPSocket specifies a connection
                                        to a TCP port.
                                      properties:
                                        host:
                                          description: 'Optional: Host name to connect
                                            to, defaults to the pod IP.'
                                          type: string
                                        port:
                                          anyOf:
                                          - type: integer
                                          - type: string
                                          description: |-
                                            Number or name of the port to access on the container.
                                            Number must be in the range 1 to 65535.
                                            Name must be an IANA_SVC_NAME.
                                          x-kubernetes-int-or-string: true
                                      required:
                                      - port
                                      type: object
                                    terminationGracePeriodSeconds:
                                      description: |-
                                        Optional duration in seconds the pod needs to terminate gracefully upon probe failure.
                                        The grace period is the duration in seconds after the processes running in the pod are sent
                                        a termination signal and the time when the processes are forcibly halted with a kill signal.
                                        Set this value longer than the expected cleanup time for your process.
                                        If this value is nil, the pod's terminationGracePeriodSeconds will be used. Otherwise, this
                                        value overrides the value provided by the pod spec.
                                        Value must be non-negative integer. The value zero indicates stop immediately via
                                        the kill signal (no opportunity to shut down).
                                        This is a beta field and requires enabling ProbeTerminationGracePeriod feature gate.
                                        Minimum value is 1. spec.terminationGracePeriodSeconds is used if unset.
                                      format: int64
                                      type: integer
                                    timeoutSeconds:
                                      description: |-
                                        Number of seconds after which the probe times out.
                                        Defaults to 1 second. Minimum value is 1.
                                        More info: https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#container-probes
                                      format: int32
                                      type: integer
                                  type: object
                                name:
                                  description: |-
                                    Name of the container specified as a DNS_LABEL.
                                    Each container in a pod must have a unique name (DNS_LABEL).
                                    Cannot be updated.
                                  type: string
                                ports:
                                  description: |-
                                    List of ports to expose from the container. Not specifying a port here
                                    DOES NOT prevent that port from being exposed. Any port which is
                                    listening on the default "0.0.0.0" address inside a container will be
                                    accessible from the network.
                                    Modifying this array with strategic merge patch may corrupt the data.
                                    For more information See https://github.com/kubernetes/kubernetes/issues/108255.
                                    Cannot be updated.
                                  items:
                                    description: ContainerPort represents a network
                                      port in a single container.
                                    properties:
                                      containerPort:
                                        description: |-
                                          Number of port to expose on the pod's IP address.
                                          This must be a valid port number, 0 < x < 65536.
                                        format: int32
                                        type: integer
                                      hostIP:
                                        description: What host IP to bind the external
                                          port to.
                                        type: string
                                      hostPort:
                                        description: |-
                                          Number of port to expose on the host.
                                          If specified, this must be a valid port number, 0 < x < 65536.
                                          If HostNetwork is specified, this must match ContainerPort.
                                          Most containers do not need this.
                                        format: int32
                                        type: integer
                                      name:
                                        description: |-
                                          If specified, this must be an IANA_SVC_NAME and unique within the pod. Each
                                          named port in a pod must have a unique name. Name for the port that can be
                                          referred to by services.
                                        type: string
                                      protocol:
                                        default: TCP
                                        description: |-
                                          Protocol for port. Must be UDP, TCP, or SCTP.
                                          Defaults to "TCP".
                                        type: string
                                    required:
                                    - containerPort
                                    type: object
                                  type: array
                                  x-kubernetes-list-map-keys:
                                  - containerPort
                                  - protocol
                                  x-kubernetes-list-type: map
                                readinessProbe:
                                  description: |-
                                    Periodic probe of container service readiness.
                                    Container will be removed from service endpoints if the probe fails.
                                    Cannot be updated.
                                    More info: https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#container-probes
                                  properties:
                                    exec:
                                      description: Exec specifies a command to execute
                                        in the container.
                                      properties:
                                        command:
                                          description: |-
                                            Command is the command line to execute inside the container, the working directory for the
                                            command  is root ('/') in the container's filesystem. The command is simply exec'd, it is
                                            not run inside a shell, so traditional shell instructions ('|', etc) won't work. To use
                                            a shell, you need to explicitly call out to that shell.
                                            Exit status of 0 is treated as live/healthy and non-zero is unhealthy.
                                          items:
                                            type: string
                                          type: array
                                          x-kubernetes-list-type: atomic
                                      type: object
                                    failureThreshold:
                                      description: |-
                                        Minimum consecutive failures for the probe to be considered failed after having succeeded.
                                        Defaults to 3. Minimum value is 1.
                                      format: int32
                                      type: integer
                                    grpc:
                                      description: GRPC specifies a GRPC HealthCheckRequest.
                                      properties:
                                        port:
                                          description: Port number of the gRPC service.
                                            Number must be in the range 1 to 65535.
                                          format: int32
                                          type: integer
                                        service:
                                          default: ""
                                          description: |-
                                            Service is the name of the service to place in the gRPC HealthCheckRequest
                                            (see https://github.com/grpc/grpc/blob/master/doc/health-checking.md).

                                            If this is not specified, the default behavior is defined by gRPC.
                                          type: string
                                      required:
                                      - port
                                      type: object
                                    httpGet:
                                      description: HTTPGet specifies an HTTP GET request
                                        to perform.
                                      properties:
                                        host:
                                          description: |-
                                            Host name to connect to, defaults to the pod IP. You probably want to set
                                            "Host" in httpHeaders instead.
                                          type: string
                                        httpHeaders:
                                          description: Custom headers to set in the
                                            request. HTTP allows repeated headers.
                                          items:
                                            description: HTTPHeader describes a custom
                                              header to be used in HTTP probes
                                            properties:
                                              name:
                                                description: |-
                                                  The header field name.
                                                  This will be canonicalized upon output, so case-variant names will be understood as the same header.
                                                type: string
                                              value:
                                                description: The header field value
                                                type: string
                                            required:
                                            - name
                                            - value
                                            type: object
                                          type: array
                                          x-kubernetes-list-type: atomic
                                        path:
                                          description: Path to access on the HTTP
                                            server.
                                          type: string
                                        port:
                                          anyOf:
                                          - type: integer
                                          - type: string
                                          description: |-
                                            Name or number of the port to access on the container.
                                            Number must be in the range 1 to 65535.
                                            Name must be an IANA_SVC_NAME.
                                          x-kubernetes-int-or-string: true
                                        scheme:
                                          description: |-
                                            Scheme to use for connecting to the host.
                                            Defaults to HTTP.
                                          type: string
                                      required:
                                      - port
                                      type: object
                                    initialDelaySeconds:
                                      description: |-
                                        Number of seconds after the container has started before liveness probes are initiated.
                                        More info: https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#container-probes
                                      format: int32
                                      type: integer
                                    periodSeconds:
                                      description: |-
                                        How often (in seconds) to perform the probe.
                                        Default to 10 seconds. Minimum value is 1.
                                      format: int32
                                      type: integer
                                    successThreshold:
                                      description: |-
                                        Minimum consecutive successes for the probe to be considered successful after having failed.
                                        Defaults to 1. Must be 1 for liveness and startup. Minimum value is 1.
                                      format: int32
                                      type: integer
                                    tcpSocket:
                                      description: TCPSocket specifies a connection
                                        to a TCP port.
                                      properties:
                                        host:
                                          description: 'Optional: Host name to connect
                                            to, defaults to the pod IP.'
                                          type: string
                                        port:
                                          anyOf:
                                          - type: integer
                                          - type: string
                                          description: |-
                                            Number or name of the port to access on the container.
                                            Number must be in the range 1 to 65535.
                                            Name must be an IANA_SVC_NAME.
                                          x-kubernetes-int-or-string: true
                                      required:
                                      - port
                                      type: object
                                    terminationGracePeriodSeconds:
                                      description: |-
                                        Optional duration in seconds the pod needs to terminate gracefully upon probe failure.
                                        The grace period is the duration in seconds after the processes running in the pod are sent
                                        a termination signal and the time when the processes are forcibly halted with a kill signal.
                                        Set this value longer than the expected cleanup time for your process.
                                        If this value is nil, the pod's terminationGracePeriodSeconds will be used. Otherwise, this
                                        value overrides the value provided by the pod spec.
                                        Value must be non-negative integer. The value zero indicates stop immediately via
                                        the kill signal (no opportunity to shut down).
                                        This is a beta field and requires enabling ProbeTerminationGracePeriod feature gate.
                                        Minimum value is 1. spec.terminationGracePeriodSeconds is used if unset.
                                      format: int64
                                      type: integer
                                    timeoutSeconds:
                                      description: |-
                                        Number of seconds after which the probe times out.
                                        Defaults to 1 second. Minimum value is 1.
                                        More info: https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#container-probes
                                      format: int32
                                      type: integer
                                  type: object
                                resizePolicy:
                                  description: Resources resize policy for the container.
                                  items:
                                    description: ContainerResizePolicy represents
                                      resource resize policy for the container.
                                    properties:
                                      resourceName:
                                        description: |-
                                          Name of the resource to which this resource resize policy applies.
                                          Supported values: cpu, memory.
                                        type: string
                                      restartPolicy:
                                        description: |-
                                          Restart policy to apply when specified resource is resized.
                                          If not specified, it defaults to NotRequired.
                                        type: string
                                    required:
                                    - resourceName
                                    - restartPolicy
                                    type: object
                                  type: array
                                  x-kubernetes-list-type: atomic
                                resources:
                                  description: |-
                                    Compute Resources required by this container.
                                    Cannot be updated.
                                    More info: https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/
                                  properties:
                                    claims:
                                      description: |-
                                        Claims lists the names of resources, defined in spec.resourceClaims,
                                        that are used by this container.

                                        This is an alpha field and requires enabling the
                                        DynamicResourceAllocation feature gate.

                                        This field is immutable. It can only be set for containers.
                                      items:
                                        description: ResourceClaim references one
                                          entry in PodSpec.ResourceClaims.
                                        properties:
                                          name:
                                            description: |-
                                              Name must match the name of one entry in pod.spec.resourceClaims of
                                              the Pod where this field is used. It makes that resource available
                                              inside a container.
                                            type: string
                                          request:
                                            description: |-
                                              Request is the name chosen for a request in the referenced claim.
                                              If empty, everything from the claim is made available, otherwise
                                              only the result of this request.
                                            type: string
                                        required:
                                        - name
                                        type: object
                                      type: array
                                      x-kubernetes-list-map-keys:
                                      - name
                                      x-kubernetes-list-type: map
                                    limits:
                                      additionalProperties:
                                        anyOf:
                                        - type: integer
                                        - type: string
                                        pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                        x-kubernetes-int-or-string: true
                                      description: |-
                                        Limits describes the maximum amount of compute resources allowed.
                                        More info: https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/
                                      type: object
                                    requests:
                                      additionalProperties:
                                        anyOf:
                                        - type: integer
                                        - type: string
                                        pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                        x-kubernetes-int-or-string: true
                                      description: |-
                                        Requests describes the minimum amount of compute resources required.
                                        If Requests is omitted for a container, it defaults to Limits if that is explicitly specified,
                                        otherwise to an implementation-defined value. Requests cannot exceed Limits.
                                        More info: https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/
                                      type: object
                                  type: object
                                restartPolicy:
                                  description: |-
                                    RestartPolicy defines the restart behavior of individual containers in a pod.
                                    This field may only be set for init containers, and the only allowed value is "Always".
                                    For non-init containers or when this field is not specified,
                                    the restart behavior is defined by the Pod's restart policy and the container type.
                                    Setting the RestartPolicy as "Always" for the init container will have the following effect:
                                    this init container will be continually restarted on
                                    exit until all regular containers have terminated. Once all regular
                                    containers have completed, all init containers with restartPolicy "Always"
                                    will be shut down. This lifecycle differs from normal init containers and
                                    is often referred to as a "sidecar" container. Although this init
                                    container still starts in the init container sequence, it does not wait
                                    for the container to complete before proceeding to the next init
                                    container. Instead, the next init container starts immediately after this
                                    init container is started, or after any startupProbe has successfully
                                    completed.
                                  type: string
                                securityContext:
                                  description: |-
                                    SecurityContext defines the security options the container should be run with.
                                    If set, the fields of SecurityContext override the equivalent fields of PodSecurityContext.
                                    More info: https://kubernetes.io/docs/tasks/configure-pod-container/security-context/
                                  properties:
                                    allowPrivilegeEscalation:
                                      description: |-
                                        AllowPrivilegeEscalation controls whether a process can gain more
                                        privileges than its parent process. This bool directly controls if
                                        the no_new_privs flag will be set on the container process.
                                        AllowPrivilegeEscalation is true always when the container is:
                                        1) run as Privileged
                                        2) has CAP_SYS_ADMIN
                                        Note that this field cannot be set when spec.os.name is windows.
                                      type: boolean
                                    appArmorProfile:
                                      description: |-
                                        appArmorProfile is the AppArmor options to use by this container. If set, this profile
                                        overrides the pod's appArmorProfile.
                                        Note that this field cannot be set when spec.os.name is windows.
                                      properties:
                                        localhostProfile:
                                          description: |-
                                            localhostProfile indicates a profile loaded on the node that should be used.
                                            The profile must be preconfigured on the node to work.
                                            Must match the loaded name of the profile.
                                            Must be set if and only if type is "Localhost".
                                          type: string
                                        type:
                                          description: |-
                                            type indicates which kind of AppArmor profile will be applied.
                                            Valid options are:
                                              Localhost - a profile pre-loaded on the node.
                                              RuntimeDefault - the container runtime's default profile.
                                              Unconfined - no AppArmor enforcement.
                                          type: string
                                      required:
                                      - type
                                      type: object
                                    capabilities:
                                      description: |-
                                        The capabilities to add/drop when running containers.
                                        Defaults to the default set of capabilities granted by the container runtime.
                                        Note that this field cannot be set when spec.os.name is windows.
                                      properties:
                                        add:
                                          description: Added capabilities
                                          items:
                                            description: Capability represent POSIX
                                              capabilities type
                                            type: string
                                          type: array
                                          x-kubernetes-list-type: atomic
                                        drop:
                                          description: Removed capabilities
                                          items:
                                            description: Capability represent POSIX
                                              capabilities type
                                            type: string
                                          type: array
                                          x-kubernetes-list-type: atomic
                                      type: object
                                    privileged:
                                      description: |-
                                        Run container in privileged mode.
                                        Processes in privileged containers are essentially equivalent to root on the host.
                                        Defaults to false.
                                        Note that this field cannot be set when spec.os.name is windows.
                                      type: boolean
                                    procMount:
                                      description: |-
                                        procMount denotes the type of proc mount to use for the containers.
                                        The default value is Default which uses the container runtime defaults for
                                        readonly paths and masked paths.
                                        This requires the ProcMountType feature flag to be enabled.
                                        Note that this field cannot be set when spec.os.name is windows.
                                      type: string
                                    readOnlyRootFilesystem:
                                      description: |-
                                        Whether this container has a read-only root filesystem.
                                        Default is false.
                                        Note that this field cannot be set when spec.os.name is windows.
                                      type: boolean
                                    runAsGroup:
                                      description: |-
                                        The GID to run the entrypoint of the container process.
                                        Uses runtime default if unset.
                                        May also be set in PodSecurityContext.  If set in both SecurityContext and
                                        PodSecurityContext, the value specified in SecurityContext takes precedence.
                                        Note that this field cannot be set when spec.os.name is windows.
                                      format: int64
                                      type: integer
                                    runAsNonRoot:
                                      description: |-
                                        Indicates that the container must run as a non-root user.
                                        If true, the Kubelet will validate the image at runtime to ensure that it
                                        does not run as UID 0 (root) and fail to start the container if it does.
                                        If unset or false, no such validation will be performed.
                                        May also be set in PodSecurityContext.  If set in both SecurityContext and
                                        PodSecurityContext, the value specified in SecurityContext takes precedence.
                                      type: boolean
                                    runAsUser:
                                      description: |-
                                        The UID to run the entrypoint of the container process.
                                        Defaults to user specified in image metadata if unspecified.
                                        May also be set in PodSecurityContext.  If set in both SecurityContext and
                                        PodSecurityContext, the value specified in SecurityContext takes precedence.
                                        Note that this field cannot be set when spec.os.name is windows.
                                      format: int64
                                      type: integer
                                    seLinuxOptions:
                                      description: |-
                                        The SELinux context to be applied to the container.
                                        If unspecified, the container runtime will allocate a random SELinux context for each
                                        container.  May also be set in PodSecurityContext.  If set in both SecurityContext and
                                        PodSecurityContext, the value specified in SecurityContext takes precedence.
                                        Note that this field cannot be set when spec.os.name is windows.
                                      properties:
                                        level:
                                          description: Level is SELinux level label
                                            that applies to the container.
                                          type: string
                                        role:
                                          description: Role is a SELinux role label
                                            that applies to the container.
                                          type: string
                                        type:
                                          description: Type is a SELinux type label
                                            that applies to the container.
                                          type: string
                                        user:
                                          description: User is a SELinux user label
                                            that applies to the container.
                                          type: string
                                      type: object
                                    seccompProfile:
                                      description: |-
                                        The seccomp options to use by this container. If seccomp options are
                                        provided at both the pod & container level, the container options
                                        override the pod options.
                                        Note that this field cannot be set when spec.os.name is windows.
                                      properties:
                                        localhostProfile:
                                          description: |-
                                            localhostProfile indicates a profile defined in a file on the node should be used.
                                            The profile must be preconfigured on the node to work.
                                            Must be a descending path, relative to the kubelet's configured seccomp profile location.
                                            Must be set if type is "Localhost". Must NOT be set for any other type.
                                          type: string
                                        type:
                                          description: |-
                                            type indicates which kind of seccomp profile will be applied.
                                            Valid options are:

                                            Localhost - a profile defined in a file on the node should be used.
                                            RuntimeDefault - the container runtime default profile should be used.
                                            Unconfined - no profile should be applied.
                                          type: string
                                      required:
                                      - type
                                      type: object
                                    windowsOptions:
                                      description: |-
                                        The Windows specific settings applied to all containers.
                                        If unspecified, the options from the PodSecurityContext will be used.
                                        If set in both SecurityContext and PodSecurityContext, the value specified in SecurityContext takes precedence.
                                        Note that this field cannot be set when spec.os.name is linux.
                                      properties:
                                        gmsaCredentialSpec:
                                          description: |-
                                            GMSACredentialSpec is where the GMSA admission webhook
                                            (https://github.com/kubernetes-sigs/windows-gmsa) inlines the contents of the
                                            GMSA credential spec named by the GMSACredentialSpecName field.
                                          type: string
                                        gmsaCredentialSpecName:
                                          description: GMSACredentialSpecName is the
                                            name of the GMSA credential spec to use.
                                          type: string
                                        hostProcess:
                                          description: |-
                                            HostProcess determines if a container should be run as a 'Host Process' container.
                                            All of a Pod's containers must have the same effective HostProcess value
                                            (it is not allowed to have a mix of HostProcess containers and non-HostProcess containers).
                                            In addition, if HostProcess is true then HostNetwork must also be set to true.
                                          type: boolean
                                        runAsUserName:
                                          description: |-
                                            The UserName in Windows to run the entrypoint of the container process.
                                            Defaults to the user specified in image metadata if unspecified.
                                            May also be set in PodSecurityContext. If set in both SecurityContext and
                                            PodSecurityContext, the value specified in SecurityContext takes precedence.
                                          type: string
                                      type: object
                                  type: object
                                startupProbe:
                                  description: |-
                                    StartupProbe indicates that the Pod has successfully initialized.
                                    If specified, no other probes are executed until this completes successfully.
                                    If this probe fails, the Pod will be restarted, just as if the livenessProbe failed.
                                    This can be used to provide different probe parameters at the beginning of a Pod's lifecycle,
                                    when it might take a long time to load data or warm a cache, than during steady-state operation.
                                    This cannot be updated.
                                    More info: https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#container-probes
                                  properties:
                                    exec:
                                      description: Exec specifies a command to execute
                                        in the container.
                                      properties:
                                        command:
                                          description: |-
                                            Command is the command line to execute inside the container, the working directory for the
                                            command  is root ('/') in the container's filesystem. The command is simply exec'd, it is
                                            not run inside a shell, so traditional shell instructions ('|', etc) won't work. To use
                                            a shell, you need to explicitly call out to that shell.
                                            Exit status of 0 is treated as live/healthy and non-zero is unhealthy.
                                          items:
                                            type: string
                                          type: array
                                          x-kubernetes-list-type: atomic
                                      type: object
                                    failureThreshold:
                                      description: |-
                                        Minimum consecutive failures for the probe to be considered failed after having succeeded.
                                        Defaults to 3. Minimum value is 1.
                                      format: int32
                                      type: integer
                                    grpc:
                                      description: GRPC specifies a GRPC HealthCheckRequest.
                                      properties:
                                        port:
                                          description: Port number of the gRPC service.
                                            Number must be in the range 1 to 65535.
                                          format: int32
                                          type: integer
                                        service:
                                          default: ""
                                          description: |-
                                            Service is the name of the service to place in the gRPC HealthCheckRequest
                                            (see https://github.com/grpc/grpc/blob/master/doc/health-checking.md).

                                            If this is not specified, the default behavior is defined by gRPC.
                                          type: string
                                      required:
                                      - port
                                      type: object
                                    httpGet:
                                      description: HTTPGet specifies an HTTP GET request
                                        to perform.
                                      properties:
                                        host:
                                          description: |-
                                            Host name to connect to, defaults to the pod IP. You probably want to set
                                            "Host" in httpHeaders instead.
                                          type: string
                                        httpHeaders:
                                          description: Custom headers to set in the
                                            request. HTTP allows repeated headers.
                                          items:
                                            description: HTTPHeader describes a custom
                                              header to be used in HTTP probes
                                            properties:
                                              name:
                                                description: |-
                                                  The header field name.
                                                  This will be canonicalized upon output, so case-variant names will be understood as the same header.
                                                type: string
                                              value:
                                                description: The header field value
                                                type: string
                                            required:
                                            - name
                                            - value
                                            type: object
                                          type: array
                                          x-kubernetes-list-type: atomic
                                        path:
                                          description: Path to access on the HTTP
                                            server.
                                          type: string
                                        port:
                                          anyOf:
                                          - type: integer
                                          - type: string
                                          description: |-
                                            Name or number of the port to access on the container.
                                            Number must be in the range 1 to 65535.
                                            Name must be an IANA_SVC_NAME.
                                          x-kubernetes-int-or-string: true
                                        scheme:
                                          description: |-
                                            Scheme to use for connecting to the host.
                                            Defaults to HTTP.
                                          type: string
                                      required:
                                      - port
                                      type: object
                                    initialDelaySeconds:
                                      description: |-
                                        Number of seconds after the container has started before liveness probes are initiated.
                                        More info: https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#container-probes
                                      format: int32
                                      type: integer
                                    periodSeconds:
                                      description: |-
                                        How often (in seconds) to perform the probe.
                                        Default to 10 seconds. Minimum value is 1.
                                      format: int32
                                      type: integer
                                    successThreshold:
                                      description: |-
                                        Minimum consecutive successes for the probe to be considered successful after having failed.
                                        Defaults to 1. Must be 1 for liveness and startup. Minimum value is 1.
                                      format: int32
                                      type: integer
                                    tcpSocket:
                                      description: TCPSocket specifies a connection
                                        to a TCP port.
                                      properties:
                                        host:
                                          description: 'Optional: Host name to connect
                                            to, defaults to the pod IP.'
                                          type: string
                                        port:
                                          anyOf:
                                          - type: integer
                                          - type: string
                                          description: |-
                                            Number or name of the port to access on the container.
                                            Number must be in the range 1 to 65535.
                                            Name must be an IANA_SVC_NAME.
                                          x-kubernetes-int-or-string: true
                                      required:
                                      - port
                                      type: object
                                    terminationGracePeriodSeconds:
                                      description: |-
                                        Optional duration in seconds the pod needs to terminate gracefully upon probe failure.
                                        The grace period is the duration in seconds after the processes running in the pod are sent
                                        a termination signal and the time when the processes are forcibly halted with a kill signal.
                                        Set this value longer than the expected cleanup time for your process.
                                        If this value is nil, the pod's terminationGracePeriodSeconds will be used. Otherwise, this
                                        value overrides the value provided by the pod spec.
                                        Value must be non-negative integer. The value zero indicates stop immediately via
                                        the kill signal (no opportunity to shut down).
                                        This is a beta field and requires enabling ProbeTerminationGracePeriod feature gate.
                                        Minimum value is 1. spec.terminationGracePeriodSeconds is used if unset.
                                      format: int64
                                      type: integer
                                    timeoutSeconds:
                                      description: |-
                                        Number of seconds after which the probe times out.
                                        Defaults to 1 second. Minimum value is 1.
                                        More info: https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#container-probes
                                      format: int32
                                      type: integer
                                  type: object
                                stdin:
                                  description: |-
                                    Whether this container should allocate a buffer for stdin in the container runtime. If this
                                    is not set, reads from stdin in the container will always result in EOF.
                                    Default is false.
                                  type: boolean
                                stdinOnce:
                                  description: |-
                                    Whether the container runtime should close the stdin channel after it has been opened by
                                    a single attach. When stdin is true the stdin stream will remain open across multiple attach
                                    sessions. If stdinOnce is set to true, stdin is opened on container start, is empty until the
                                    first client attaches to stdin, and then remains open and accepts data until the client disconnects,
                                    at which time stdin is closed and remains closed until the container is restarted. If this
                                    flag is false, a container processes that reads from stdin will never receive an EOF.
                                    Default is false
                                  type: boolean
                                terminationMessagePath:
                                  description: |-
                                    Optional: Path at which the file to which the container's termination message
                                    will be written is mounted into the container's filesystem.
                                    Message written is intended to be brief final status, such as an assertion failure message.
                                    Will be truncated by the node if greater than 4096 bytes. The total message length across
                                    all containers will be limited to 12kb.
                                    Defaults to /dev/termination-log.
                                    Cannot be updated.
                                  type: string
                                terminationMessagePolicy:
                                  description: |-
                                    Indicate how the termination message should be populated. File will use the contents of
                                    terminationMessagePath to populate the container status message on both success and failure.
                                    FallbackToLogsOnError will use the last chunk of container log output if the termination
                                    message file is empty and the container exited with an error.
                                    The log output is limited to 2048 bytes or 80 lines, whichever is smaller.
                                    Defaults to File.
                                    Cannot be updated.
                                  type: string
                                tty:
                                  description: |-
                                    Whether this container should allocate a TTY for itself, also requires 'stdin' to be true.
                                    Default is false.
                                  type: boolean
                                volumeDevices:
                                  description: volumeDevices is the list of block
                                    devices to be used by the container.
                                  items:
                                    description: volumeDevice describes a mapping
                                      of a raw block device within a container.
                                    properties:
                                      devicePath:
                                        description: devicePath is the path inside
                                          of the container that the device will be
                                          mapped to.
                                        type: string
                                      name:
                                        description: name must match the name of a
                                          persistentVolumeClaim in the pod
                                        type: string
                                    required:
                                    - devicePath
                                    - name
                                    type: object
                                  type: array
                                  x-kubernetes-list-map-keys:
                                  - devicePath
                                  x-kubernetes-list-type: map
                                volumeMounts:
                                  description: |-
                                    Pod volumes to mount into the container's filesystem.
                                    Cannot be updated.
                                  items:
                                    description: VolumeMount describes a mounting
                                      of a Volume within a container.
                                    properties:
                                      mountPath:
                                        description: |-
                                          Path within the container at which the volume should be mounted.  Must
                                          not contain ':'.
                                        type: string
                                      mountPropagation:
                                        description: |-
                                          mountPropagation determines how mounts are propagated from the host
                                          to container and the other way around.
                                          When not set, MountPropagationNone is used.
                                          This field is beta in 1.10.
                                          When RecursiveReadOnly is set to IfPossible or to Enabled, MountPropagation must be None or unspecified
                                          (which defaults to None).
                                        type: string
                                      name:
                                        description: This must match the Name of a
                                          Volume.
                                        type: string
                                      readOnly:
                                        description: |-
                                          Mounted read-only if true, read-write otherwise (false or unspecified).
                                          Defaults to false.
                                        type: boolean
                                      recursiveReadOnly:
                                        description: |-
                                          RecursiveReadOnly specifies whether read-only mounts should be handled
                                          recursively.

                                          If ReadOnly is false, this field has no meaning and must be unspecified.

                                          If ReadOnly is true, and this field is set to Disabled, the mount is not made
                                          recursively read-only.  If this field is set to IfPossible, the mount is made
                                          recursively read-only, if it is supported by the container runtime.  If this
                                          field is set to Enabled, the mount is made recursively read-only if it is
                                          supported by the container runtime, otherwise the pod will not be started and
                                          an error will be generated to indicate the reason.

                                          If this field is set to IfPossible or Enabled, MountPropagation must be set to
                                          None (or be unspecified, which defaults to None).

                                          If this field is not specified, it is treated as an equivalent of Disabled.
                                        type: string
                                      subPath:
                                        description: |-
                                          Path within the volume from which the container's volume should be mounted.
                                          Defaults to "" (volume's root).
                                        type: string
                                      subPathExpr:
                                        description: |-
                                          Expanded path within the volume from which the container's volume should be mounted.
                                          Behaves similarly to SubPath but environment variable references $(VAR_NAME) are expanded using the container's environment.
                                          Defaults to "" (volume's root).
                                          SubPathExpr and SubPath are mutually exclusive.
                                        type: string
                                    required:
                                    - mountPath
                                    - name
                                    type: object
                                  type: array
                                  x-kubernetes-list-map-keys:
                                  - mountPath
                                  x-kubernetes-list-type: map
                                workingDir:
                                  description: |-
                                    Container's working directory.
                                    If not specified, the container runtime's default will be used, which
                                    might be configured in the container image.
                                    Cannot be updated.
                                  type: string
                              required:
                              - name
                              type: object
                            type: array
                          name:
                            description: |-
                              Name of the deployment.
                              When unset, this defaults to an autogenerated name.
                            type: string
                          patch:
                            description: Patch defines how to perform the patch operation
                              to deployment
                            properties:
                              type:
                                description: |-
                                  Type is the type of merge operation to perform

                                  By default, StrategicMerge is used as the patch type.
                                type: string
                              value:
                                description: Object contains the raw configuration
                                  for merged object
                                x-kubernetes-preserve-unknown-fields: true
                            required:
                            - value
                            type: object
                          pod:
                            description: Pod defines the desired specification of
                              pod.
                            properties:
                              affinity:
                                description: If specified, the pod's scheduling constraints.
                                properties:
                                  nodeAffinity:
                                    description: Describes node affinity scheduling
                                      rules for the pod.
                                    properties:
                                      preferredDuringSchedulingIgnoredDuringExecution:
                                        description: |-
                                          The scheduler will prefer to schedule pods to nodes that satisfy
                                          the affinity expressions specified by this field, but it may choose
                                          a node that violates one or more of the expressions. The node that is
                                          most preferred is the one with the greatest sum of weights, i.e.
                                          for each node that meets all of the scheduling requirements (resource
                                          request, requiredDuringScheduling affinity expressions, etc.),
                                          compute a sum by iterating through the elements of this field and adding
                                          "weight" to the sum if the node matches the corresponding matchExpressions; the
                                          node(s) with the highest sum are the most preferred.
                                        items:
                                          description: |-
                                            An empty preferred scheduling term matches all objects with implicit weight 0
                                            (i.e. it's a no-op). A null preferred scheduling term matches no objects (i.e. is also a no-op).
                                          properties:
                                            preference:
                                              description: A node selector term, associated
                                                with the corresponding weight.
                                              properties:
                                                matchExpressions:
                                                  description: A list of node selector
                                                    requirements by node's labels.
                                                  items:
                                                    description: |-
                                                      A node selector requirement is a selector that contains values, a key, and an operator
                                                      that relates the key and values.
                                                    properties:
                                                      key:
                                                        description: The label key
                                                          that the selector applies
                                                          to.
                                                        type: string
                                                      operator:
                                                        description: |-
                                                          Represents a key's relationship to a set of values.
                                                          Valid operators are In, NotIn, Exists, DoesNotExist. Gt, and Lt.
                                                        type: string
                                                      values:
                                                        description: |-
                                                          An array of string values. If the operator is In or NotIn,
                                                          the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                          the values array must be empty. If the operator is Gt or Lt, the values
                                                          array must have a single element, which will be interpreted as an integer.
                                                          This array is replaced during a strategic merge patch.
                                                        items:
                                                          type: string
                                                        type: array
                                                        x-kubernetes-list-type: atomic
                                                    required:
                                                    - key
                                                    - operator
                                                    type: object
                                                  type: array
                                                  x-kubernetes-list-type: atomic
                                                matchFields:
                                                  description: A list of node selector
                                                    requirements by node's fields.
                                                  items:
                                                    description: |-
                                                      A node selector requirement is a selector that contains values, a key, and an operator
                                                      that relates the key and values.
                                                    properties:
                                                      key:
                                                        description: The label key
                                                          that the selector applies
                                                          to.
                                                        type: string
                                                      operator:
                                                        description: |-
                                                          Represents a key's relationship to a set of values.
                                                          Valid operators are In, NotIn, Exists, DoesNotExist. Gt, and Lt.
                                                        type: string
                                                      values:
                                                        description: |-
                                                          An array of string values. If the operator is In or NotIn,
                                                          the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                          the values array must be empty. If the operator is Gt or Lt, the values
                                                          array must have a single element, which will be interpreted as an integer.
                                                          This array is replaced during a strategic merge patch.
                                                        items:
                                                          type: string
                                                        type: array
                                                        x-kubernetes-list-type: atomic
                                                    required:
                                                    - key
                                                    - operator
                                                    type: object
                                                  type: array
                                                  x-kubernetes-list-type: atomic
                                              type: object
                                              x-kubernetes-map-type: atomic
                                            weight:
                                              description: Weight associated with
                                                matching the corresponding nodeSelectorTerm,
                                                in the range 1-100.
                                              format: int32
                                              type: integer
                                          required:
                                          - preference
                                          - weight
                                          type: object
                                        type: array
                                        x-kubernetes-list-type: atomic
                                      requiredDuringSchedulingIgnoredDuringExecution:
                                        description: |-
                                          If the affinity requirements specified by this field are not met at
                                          scheduling time, the pod will not be scheduled onto the node.
                                          If the affinity requirements specified by this field cease to be met
                                          at some point during pod execution (e.g. due to an update), the system
                                          may or may not try to eventually evict the pod from its node.
                                        properties:
                                          nodeSelectorTerms:
                                            description: Required. A list of node
                                              selector terms. The terms are ORed.
                                            items:
                                              description: |-
                                                A null or empty node selector term matches no objects. The requirements of
                                                them are ANDed.
                                                The TopologySelectorTerm type implements a subset of the NodeSelectorTerm.
                                              properties:
                                                matchExpressions:
                                                  description: A list of node selector
                                                    requirements by node's labels.
                                                  items:
                                                    description: |-
                                                      A node selector requirement is a selector that contains values, a key, and an operator
                                                      that relates the key and values.
                                                    properties:
                                                      key:
                                                        description: The label key
                                                          that the selector applies
                                                          to.
                                                        type: string
                                                      operator:
                                                        description: |-
                                                          Represents a key's relationship to a set of values.
                                                          Valid operators are In, NotIn, Exists, DoesNotExist. Gt, and Lt.
                                                        type: string
                                                      values:
                                                        description: |-
                                                          An array of string values. If the operator is In or NotIn,
                                                          the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                          the values array must be empty. If the operator is Gt or Lt, the values
                                                          array must have a single element, which will be interpreted as an integer.
                                                          This array is replaced during a strategic merge patch.
                                                        items:
                                                          type: string
                                                        type: array
                                                        x-kubernetes-list-type: atomic
                                                    required:
                                                    - key
                                                    - operator
                                                    type: object
                                                  type: array
                                                  x-kubernetes-list-type: atomic
                                                matchFields:
                                                  description: A list of node selector
                                                    requirements by node's fields.
                                                  items:
                                                    description: |-
                                                      A node selector requirement is a selector that contains values, a key, and an operator
                                                      that relates the key and values.
                                                    properties:
                                                      key:
                                                        description: The label key
                                                          that the selector applies
                                                          to.
                                                        type: string
                                                      operator:
                                                        description: |-
                                                          Represents a key's relationship to a set of values.
                                                          Valid operators are In, NotIn, Exists, DoesNotExist. Gt, and Lt.
                                                        type: string
                                                      values:
                                                        description: |-
                                                          An array of string values. If the operator is In or NotIn,
                                                          the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                          the values array must be empty. If the operator is Gt or Lt, the values
                                                          array must have a single element, which will be interpreted as an integer.
                                                          This array is replaced during a strategic merge patch.
                                                        items:
                                                          type: string
                                                        type: array
                                                        x-kubernetes-list-type: atomic
                                                    required:
                                                    - key
                                                    - operator
                                                    type: object
                                                  type: array
                                                  x-kubernetes-list-type: atomic
                                              type: object
                                              x-kubernetes-map-type: atomic
                                            type: array
                                            x-kubernetes-list-type: atomic
                                        required:
                                        - nodeSelectorTerms
                                        type: object
                                        x-kubernetes-map-type: atomic
                                    type: object
                                  podAffinity:
                                    description: Describes pod affinity scheduling
                                      rules (e.g. co-locate this pod in the same node,
                                      zone, etc. as some other pod(s)).
                                    properties:
                                      preferredDuringSchedulingIgnoredDuringExecution:
                                        description: |-
                                          The scheduler will prefer to schedule pods to nodes that satisfy
                                          the affinity expressions specified by this field, but it may choose
                                          a node that violates one or more of the expressions. The node that is
                                          most preferred is the one with the greatest sum of weights, i.e.
                                          for each node that meets all of the scheduling requirements (resource
                                          request, requiredDuringScheduling affinity expressions, etc.),
                                          compute a sum by iterating through the elements of this field and adding
                                          "weight" to the sum if the node has pods which matches the corresponding podAffinityTerm; the
                                          node(s) with the highest sum are the most preferred.
                                        items:
                                          description: The weights of all of the matched
                                            WeightedPodAffinityTerm fields are added
                                            per-node to find the most preferred node(s)
                                          properties:
                                            podAffinityTerm:
                                              description: Required. A pod affinity
                                                term, associated with the corresponding
                                                weight.
                                              properties:
                                                labelSelector:
                                                  description: |-
                                                    A label query over a set of resources, in this case pods.
                                                    If it's null, this PodAffinityTerm matches with no Pods.
                                                  properties:
                                                    matchExpressions:
                                                      description: matchExpressions
                                                        is a list of label selector
                                                        requirements. The requirements
                                                        are ANDed.
                                                      items:
                                                        description: |-
                                                          A label selector requirement is a selector that contains values, a key, and an operator that
                                                          relates the key and values.
                                                        properties:
                                                          key:
                                                            description: key is the
                                                              label key that the selector
                                                              applies to.
                                                            type: string
                                                          operator:
                                                            description: |-
                                                              operator represents a key's relationship to a set of values.
                                                              Valid operators are In, NotIn, Exists and DoesNotExist.
                                                            type: string
                                                          values:
                                                            description: |-
                                                              values is an array of string values. If the operator is In or NotIn,
                                                              the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                              the values array must be empty. This array is replaced during a strategic
                                                              merge patch.
                                                            items:
                                                              type: string
                                                            type: array
                                                            x-kubernetes-list-type: atomic
                                                        required:
                                                        - key
                                                        - operator
                                                        type: object
                                                      type: array
                                                      x-kubernetes-list-type: atomic
                                                    matchLabels:
                                                      additionalProperties:
                                                        type: string
                                                      description: |-
                                                        matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                                        map is equivalent to an element of matchExpressions, whose key field is "key", the
                                                        operator is "In", and the values array contains only "value". The requirements are ANDed.
                                                      type: object
                                                  type: object
                                                  x-kubernetes-map-type: atomic
                                                matchLabelKeys:
                                                  description: |-
                                                    MatchLabelKeys is a set of pod label keys to select which pods will
                                                    be taken into consideration. The keys are used to lookup values from the
                                                    incoming pod labels, those key-value labels are merged with `labelSelector` as `key in (value)`
                                                    to select the group of existing pods which pods will be taken into consideration
                                                    for the incoming pod's pod (anti) affinity. Keys that don't exist in the incoming
                                                    pod labels will be ignored. The default value is empty.
                                                    The same key is forbidden to exist in both matchLabelKeys and labelSelector.
                                                    Also, matchLabelKeys cannot be set when labelSelector isn't set.
                                                  items:
                                                    type: string
                                                  type: array
                                                  x-kubernetes-list-type: atomic
                                                mismatchLabelKeys:
                                                  description: |-
                                                    MismatchLabelKeys is a set of pod label keys to select which pods will
                                                    be taken into consideration. The keys are used to lookup values from the
                                                    incoming pod labels, those key-value labels are merged with `labelSelector` as `key notin (value)`
                                                    to select the group of existing pods which pods will be taken into consideration
                                                    for the incoming pod's pod (anti) affinity. Keys that don't exist in the incoming
                                                    pod labels will be ignored. The default value is empty.
                                                    The same key is forbidden to exist in both mismatchLabelKeys and labelSelector.
                                                    Also, mismatchLabelKeys cannot be set when labelSelector isn't set.
                                                  items:
                                                    type: string
                                                  type: array
                                                  x-kubernetes-list-type: atomic
                                                namespaceSelector:
                                                  description: |-
                                                    A label query over the set of namespaces that the term applies to.
                                                    The term is applied to the union of the namespaces selected by this field
                                                    and the ones listed in the namespaces field.
                                                    null selector and null or empty namespaces list means "this pod's namespace".
                                                    An empty selector ({}) matches all namespaces.
                                                  properties:
                                                    matchExpressions:
                                                      description: matchExpressions
                                                        is a list of label selector
                                                        requirements. The requirements
                                                        are ANDed.
                                                      items:
                                                        description: |-
                                                          A label selector requirement is a selector that contains values, a key, and an operator that
                                                          relates the key and values.
                                                        properties:
                                                          key:
                                                            description: key is the
                                                              label key that the selector
                                                              applies to.
                                                            type: string
                                                          operator:
                                                            description: |-
                                                              operator represents a key's relationship to a set of values.
                                                              Valid operators are In, NotIn, Exists and DoesNotExist.
                                                            type: string
                                                          values:
                                                            description: |-
                                                              values is an array of string values. If the operator is In or NotIn,
                                                              the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                              the values array must be empty. This array is replaced during a strategic
                                                              merge patch.
                                                            items:
                                                              type: string
                                                            type: array
                                                            x-kubernetes-list-type: atomic
                                                        required:
                                                        - key
                                                        - operator
                                                        type: object
                                                      type: array
                                                      x-kubernetes-list-type: atomic
                                                    matchLabels:
                                                      additionalProperties:
                                                        type: string
                                                      description: |-
                                                        matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                                        map is equivalent to an element of matchExpressions, whose key field is "key", the
                                                        operator is "In", and the values array contains only "value". The requirements are ANDed.
                                                      type: object
                                                  type: object
                                                  x-kubernetes-map-type: atomic
                                                namespaces:
                                                  description: |-
                                                    namespaces specifies a static list of namespace names that the term applies to.
                                                    The term is applied to the union of the namespaces listed in this field
                                                    and the ones selected by namespaceSelector.
                                                    null or empty namespaces list and null namespaceSelector means "this pod's namespace".
                                                  items:
                                                    type: string
                                                  type: array
                                                  x-kubernetes-list-type: atomic
                                                topologyKey:
                                                  description: |-
                                                    This pod should be co-located (affinity) or not co-located (anti-affinity) with the pods matching
                                                    the labelSelector in the specified namespaces, where co-located is defined as running on a node
                                                    whose value of the label with key topologyKey matches that of any node on which any of the
                                                    selected pods is running.
                                                    Empty topologyKey is not allowed.
                                                  type: string
                                              required:
                                              - topologyKey
                                              type: object
                                            weight:
                                              description: |-
                                                weight associated with matching the corresponding podAffinityTerm,
                                                in the range 1-100.
                                              format: int32
                                              type: integer
                                          required:
                                          - podAffinityTerm
                                          - weight
                                          type: object
                                        type: array
                                        x-kubernetes-list-type: atomic
                                      requiredDuringSchedulingIgnoredDuringExecution:
                                        description: |-
                                          If the affinity requirements specified by this field are not met at
                                          scheduling time, the pod will not be scheduled onto the node.
                                          If the affinity requirements specified by this field cease to be met
                                          at some point during pod execution (e.g. due to a pod label update), the
                                          system may or may not try to eventually evict the pod from its node.
                                          When there are multiple elements, the lists of nodes corresponding to each
                                          podAffinityTerm are intersected, i.e. all terms must be satisfied.
                                        items:
                                          description: |-
                                            Defines a set of pods (namely those matching the labelSelector
                                            relative to the given namespace(s)) that this pod should be
                                            co-located (affinity) or not co-located (anti-affinity) with,
                                            where co-located is defined as running on a node whose value of
                                            the label with key <topologyKey> matches that of any node on which
                                            a pod of the set of pods is running
                                          properties:
                                            labelSelector:
                                              description: |-
                                                A label query over a set of resources, in this case pods.
                                                If it's null, this PodAffinityTerm matches with no Pods.
                                              properties:
                                                matchExpressions:
                                                  description: matchExpressions is
                                                    a list of label selector requirements.
                                                    The requirements are ANDed.
                                                  items:
                                                    description: |-
                                                      A label selector requirement is a selector that contains values, a key, and an operator that
                                                      relates the key and values.
                                                    properties:
                                                      key:
                                                        description: key is the label
                                                          key that the selector applies
                                                          to.
                                                        type: string
                                                      operator:
                                                        description: |-
                                                          operator represents a key's relationship to a set of values.
                                                          Valid operators are In, NotIn, Exists and DoesNotExist.
                                                        type: string
                                                      values:
                                                        description: |-
                                                          values is an array of string values. If the operator is In or NotIn,
                                                          the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                          the values array must be empty. This array is replaced during a strategic
                                                          merge patch.
                                                        items:
                                                          type: string
                                                        type: array
                                                        x-kubernetes-list-type: atomic
                                                    required:
                                                    - key
                                                    - operator
                                                    type: object
                                                  type: array
                                                  x-kubernetes-list-type: atomic
                                                matchLabels:
                                                  additionalProperties:
                                                    type: string
                                                  description: |-
                                                    matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                                    map is equivalent to an element of matchExpressions, whose key field is "key", the
                                                    operator is "In", and the values array contains only "value". The requirements are ANDed.
                                                  type: object
                                              type: object
                                              x-kubernetes-map-type: atomic
                                            matchLabelKeys:
                                              description: |-
                                                MatchLabelKeys is a set of pod label keys to select which pods will
                                                be taken into consideration. The keys are used to lookup values from the
                                                incoming pod labels, those key-value labels are merged with `labelSelector` as `key in (value)`
                                                to select the group of existing pods which pods will be taken into consideration
                                                for the incoming pod's pod (anti) affinity. Keys that don't exist in the incoming
                                                pod labels will be ignored. The default value is empty.
                                                The same key is forbidden to exist in both matchLabelKeys and labelSelector.
                                                Also, matchLabelKeys cannot be set when labelSelector isn't set.
                                              items:
                                                type: string
                                              type: array
                                              x-kubernetes-list-type: atomic
                                            mismatchLabelKeys:
                                              description: |-
                                                MismatchLabelKeys is a set of pod label keys to select which pods will
                                                be taken into consideration. The keys are used to lookup values from the
                                                incoming pod labels, those key-value labels are merged with `labelSelector` as `key notin (value)`
                                                to select the group of existing pods which pods will be taken into consideration
                                                for the incoming pod's pod (anti) affinity. Keys that don't exist in the incoming
                                                pod labels will be ignored. The default value is empty.
                                                The same key is forbidden to exist in both mismatchLabelKeys and labelSelector.
                                                Also, mismatchLabelKeys cannot be set when labelSelector isn't set.
                                              items:
                                                type: string
                                              type: array
                                              x-kubernetes-list-type: atomic
                                            namespaceSelector:
                                              description: |-
                                                A label query over the set of namespaces that the term applies to.
                                                The term is applied to the union of the namespaces selected by this field
                                                and the ones listed in the namespaces field.
                                                null selector and null or empty namespaces list means "this pod's namespace".
                                                An empty selector ({}) matches all namespaces.
                                              properties:
                                                matchExpressions:
                                                  description: matchExpressions is
                                                    a list of label selector requirements.
                                                    The requirements are ANDed.
                                                  items:
                                                    description: |-
                                                      A label selector requirement is a selector that contains values, a key, and an operator that
                                                      relates the key and values.
                                                    properties:
                                                      key:
                                                        description: key is the label
                                                          key that the selector applies
                                                          to.
                                                        type: string
                                                      operator:
                                                        description: |-
                                                          operator represents a key's relationship to a set of values.
                                                          Valid operators are In, NotIn, Exists and DoesNotExist.
                                                        type: string
                                                      values:
                                                        description: |-
                                                          values is an array of string values. If the operator is In or NotIn,
                                                          the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                          the values array must be empty. This array is replaced during a strategic
                                                          merge patch.
                                                        items:
                                                          type: string
                                                        type: array
                                                        x-kubernetes-list-type: atomic
                                                    required:
                                                    - key
                                                    - operator
                                                    type: object
                                                  type: array
                                                  x-kubernetes-list-type: atomic
                                                matchLabels:
                                                  additionalProperties:
                                                    type: string
                                                  description: |-
                                                    matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                                    map is equivalent to an element of matchExpressions, whose key field is "key", the
                                                    operator is "In", and the values array contains only "value". The requirements are ANDed.
                                                  type: object
                                              type: object
                                              x-kubernetes-map-type: atomic
                                            namespaces:
                                              description: |-
                                                namespaces specifies a static list of namespace names that the term applies to.
                                                The term is applied to the union of the namespaces listed in this field
                                                and the ones selected by namespaceSelector.
                                                null or empty namespaces list and null namespaceSelector means "this pod's namespace".
                                              items:
                                                type: string
                                              type: array
                                              x-kubernetes-list-type: atomic
                                            topologyKey:
                                              description: |-
                                                This pod should be co-located (affinity) or not co-located (anti-affinity) with the pods matching
                                                the labelSelector in the specified namespaces, where co-located is defined as running on a node
                                                whose value of the label with key topologyKey matches that of any node on which any of the
                                                selected pods is running.
                                                Empty topologyKey is not allowed.
                                              type: string
                                          required:
                                          - topologyKey
                                          type: object
                                        type: array
                                        x-kubernetes-list-type: atomic
                                    type: object
                                  podAntiAffinity:
                                    description: Describes pod anti-affinity scheduling
                                      rules (e.g. avoid putting this pod in the same
                                      node, zone, etc. as some other pod(s)).
                                    properties:
                                      preferredDuringSchedulingIgnoredDuringExecution:
                                        description: |-
                                          The scheduler will prefer to schedule pods to nodes that satisfy
                                          the anti-affinity expressions specified by this field, but it may choose
                                          a node that violates one or more of the expressions. The node that is
                                          most preferred is the one with the greatest sum of weights, i.e.
                                          for each node that meets all of the scheduling requirements (resource
                                          request, requiredDuringScheduling anti-affinity expressions, etc.),
                                          compute a sum by iterating through the elements of this field and adding
                                          "weight" to the sum if the node has pods which matches the corresponding podAffinityTerm; the
                                          node(s) with the highest sum are the most preferred.
                                        items:
                                          description: The weights of all of the matched
                                            WeightedPodAffinityTerm fields are added
                                            per-node to find the most preferred node(s)
                                          properties:
                                            podAffinityTerm:
                                              description: Required. A pod affinity
                                                term, associated with the corresponding
                                                weight.
                                              properties:
                                                labelSelector:
                                                  description: |-
                                                    A label query over a set of resources, in this case pods.
                                                    If it's null, this PodAffinityTerm matches with no Pods.
                                                  properties:
                                                    matchExpressions:
                                                      description: matchExpressions
                                                        is a list of label selector
                                                        requirements. The requirements
                                                        are ANDed.
                                                      items:
                                                        description: |-
                                                          A label selector requirement is a selector that contains values, a key, and an operator that
                                                          relates the key and values.
                                                        properties:
                                                          key:
                                                            description: key is the
                                                              label key that the selector
                                                              applies to.
                                                            type: string
                                                          operator:
                                                            description: |-
                                                              operator represents a key's relationship to a set of values.
                                                              Valid operators are In, NotIn, Exists and DoesNotExist.
                                                            type: string
                                                          values:
                                                            description: |-
                                                              values is an array of string values. If the operator is In or NotIn,
                                                              the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                              the values array must be empty. This array is replaced during a strategic
                                                              merge patch.
                                                            items:
                                                              type: string
                                                            type: array
                                                            x-kubernetes-list-type: atomic
                                                        required:
                                                        - key
                                                        - operator
                                                        type: object
                                                      type: array
                                                      x-kubernetes-list-type: atomic
                                                    matchLabels:
                                                      additionalProperties:
                                                        type: string
                                                      description: |-
                                                        matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                                        map is equivalent to an element of matchExpressions, whose key field is "key", the
                                                        operator is "In", and the values array contains only "value". The requirements are ANDed.
                                                      type: object
                                                  type: object
                                                  x-kubernetes-map-type: atomic
                                                matchLabelKeys:
                                                  description: |-
                                                    MatchLabelKeys is a set of pod label keys to select which pods will
                                                    be taken into consideration. The keys are used to lookup values from the
                                                    incoming pod labels, those key-value labels are merged with `labelSelector` as `key in (value)`
                                                    to select the group of existing pods which pods will be taken into consideration
                                                    for the incoming pod's pod (anti) affinity. Keys that don't exist in the incoming
                                                    pod labels will be ignored. The default value is empty.
                                                    The same key is forbidden to exist in both matchLabelKeys and labelSelector.
                                                    Also, matchLabelKeys cannot be set when labelSelector isn't set.
                                                  items:
                                                    type: string
                                                  type: array
                                                  x-kubernetes-list-type: atomic
                                                mismatchLabelKeys:
                                                  description: |-
                                                    MismatchLabelKeys is a set of pod label keys to select which pods will
                                                    be taken into consideration. The keys are used to lookup values from the
                                                    incoming pod labels, those key-value labels are merged with `labelSelector` as `key notin (value)`
                                                    to select the group of existing pods which pods will be taken into consideration
                                                    for the incoming pod's pod (anti) affinity. Keys that don't exist in the incoming
                                                    pod labels will be ignored. The default value is empty.
                                                    The same key is forbidden to exist in both mismatchLabelKeys and labelSelector.
                                                    Also, mismatchLabelKeys cannot be set when labelSelector isn't set.
                                                  items:
                                                    type: string
                                                  type: array
                                                  x-kubernetes-list-type: atomic
                                                namespaceSelector:
                                                  description: |-
                                                    A label query over the set of namespaces that the term applies to.
                                                    The term is applied to the union of the namespaces selected by this field
                                                    and the ones listed in the namespaces field.
                                                    null selector and null or empty namespaces list means "this pod's namespace".
                                                    An empty selector ({}) matches all namespaces.
                                                  properties:
                                                    matchExpressions:
                                                      description: matchExpressions
                                                        is a list of label selector
                                                        requirements. The requirements
                                                        are ANDed.
                                                      items:
                                                        description: |-
                                                          A label selector requirement is a selector that contains values, a key, and an operator that
                                                          relates the key and values.
                                                        properties:
                                                          key:
                                                            description: key is the
                                                              label key that the selector
                                                              applies to.
                                                            type: string
                                                          operator:
                                                            description: |-
                                                              operator represents a key's relationship to a set of values.
                                                              Valid operators are In, NotIn, Exists and DoesNotExist.
                                                            type: string
                                                          values:
                                                            description: |-
                                                              values is an array of string values. If the operator is In or NotIn,
                                                              the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                              the values array must be empty. This array is replaced during a strategic
                                                              merge patch.
                                                            items:
                                                              type: string
                                                            type: array
                                                            x-kubernetes-list-type: atomic
                                                        required:
                                                        - key
                                                        - operator
                                                        type: object
                                                      type: array
                                                      x-kubernetes-list-type: atomic
                                                    matchLabels:
                                                      additionalProperties:
                                                        type: string
                                                      description: |-
                                                        matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                                        map is equivalent to an element of matchExpressions, whose key field is "key", the
                                                        operator is "In", and the values array contains only "value". The requirements are ANDed.
                                                      type: object
                                                  type: object
                                                  x-kubernetes-map-type: atomic
                                                namespaces:
                                                  description: |-
                                                    namespaces specifies a static list of namespace names that the term applies to.
                                                    The term is applied to the union of the namespaces listed in this field
                                                    and the ones selected by namespaceSelector.
                                                    null or empty namespaces list and null namespaceSelector means "this pod's namespace".
                                                  items:
                                                    type: string
                                                  type: array
                                                  x-kubernetes-list-type: atomic
                                                topologyKey:
                                                  description: |-
                                                    This pod should be co-located (affinity) or not co-located (anti-affinity) with the pods matching
                                                    the labelSelector in the specified namespaces, where co-located is defined as running on a node
                                                    whose value of the label with key topologyKey matches that of any node on which any of the
                                                    selected pods is running.
                                                    Empty topologyKey is not allowed.
                                                  type: string
                                              required:
                                              - topologyKey
                                              type: object
                                            weight:
                                              description: |-
                                                weight associated with matching the corresponding podAffinityTerm,
                                                in the range 1-100.
                                              format: int32
                                              type: integer
                                          required:
                                          - podAffinityTerm
                                          - weight
                                          type: object
                                        type: array
                                        x-kubernetes-list-type: atomic
                                      requiredDuringSchedulingIgnoredDuringExecution:
                                        description: |-
                                          If the anti-affinity requirements specified by this field are not met at
                                          scheduling time, the pod will not be scheduled onto the node.
                                          If the anti-affinity requirements specified by this field cease to be met
                                          at some point during pod execution (e.g. due to a pod label update), the
                                          system may or may not try to eventually evict the pod from its node.
                                          When there are multiple elements, the lists of nodes corresponding to each
                                          podAffinityTerm are intersected, i.e. all terms must be satisfied.
                                        items:
                                          description: |-
                                            Defines a set of pods (namely those matching the labelSelector
                                            relative to the given namespace(s)) that this pod should be
                                            co-located (affinity) or not co-located (anti-affinity) with,
                                            where co-located is defined as running on a node whose value of
                                            the label with key <topologyKey> matches that of any node on which
                                            a pod of the set of pods is running
                                          properties:
                                            labelSelector:
                                              description: |-
                                                A label query over a set of resources, in this case pods.
                                                If it's null, this PodAffinityTerm matches with no Pods.
                                              properties:
                                                matchExpressions:
                                                  description: matchExpressions is
                                                    a list of label selector requirements.
                                                    The requirements are ANDed.
                                                  items:
                                                    description: |-
                                                      A label selector requirement is a selector that contains values, a key, and an operator that
                                                      relates the key and values.
                                                    properties:
                                                      key:
                                                        description: key is the label
                                                          key that the selector applies
                                                          to.
                                                        type: string
                                                      operator:
                                                        description: |-
                                                          operator represents a key's relationship to a set of values.
                                                          Valid operators are In, NotIn, Exists and DoesNotExist.
                                                        type: string
                                                      values:
                                                        description: |-
                                                          values is an array of string values. If the operator is In or NotIn,
                                                          the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                          the values array must be empty. This array is replaced during a strategic
                                                          merge patch.
                                                        items:
                                                          type: string
                                                        type: array
                                                        x-kubernetes-list-type: atomic
                                                    required:
                                                    - key
                                                    - operator
                                                    type: object
                                                  type: array
                                                  x-kubernetes-list-type: atomic
                                                matchLabels:
                                                  additionalProperties:
                                                    type: string
                                                  description: |-
                                                    matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                                    map is equivalent to an element of matchExpressions, whose key field is "key", the
                                                    operator is "In", and the values array contains only "value". The requirements are ANDed.
                                                  type: object
                                              type: object
                                              x-kubernetes-map-type: atomic
                                            matchLabelKeys:
                                              description: |-
                                                MatchLabelKeys is a set of pod label keys to select which pods will
                                                be taken into consideration. The keys are used to lookup values from the
                                                incoming pod labels, those key-value labels are merged with `labelSelector` as `key in (value)`
                                                to select the group of existing pods which pods will be taken into consideration
                                                for the incoming pod's pod (anti) affinity. Keys that don't exist in the incoming
                                                pod labels will be ignored. The default value is empty.
                                                The same key is forbidden to exist in both matchLabelKeys and labelSelector.
                                                Also, matchLabelKeys cannot be set when labelSelector isn't set.
                                              items:
                                                type: string
                                              type: array
                                              x-kubernetes-list-type: atomic
                                            mismatchLabelKeys:
                                              description: |-
                                                MismatchLabelKeys is a set of pod label keys to select which pods will
                                                be taken into consideration. The keys are used to lookup values from the
                                                incoming pod labels, those key-value labels are merged with `labelSelector` as `key notin (value)`
                                                to select the group of existing pods which pods will be taken into consideration
                                                for the incoming pod's pod (anti) affinity. Keys that don't exist in the incoming
                                                pod labels will be ignored. The default value is empty.
                                                The same key is forbidden to exist in both mismatchLabelKeys and labelSelector.
                                                Also, mismatchLabelKeys cannot be set when labelSelector isn't set.
                                              items:
                                                type: string
                                              type: array
                                              x-kubernetes-list-type: atomic
                                            namespaceSelector:
                                              description: |-
                                                A label query over the set of namespaces that the term applies to.
                                                The term is applied to the union of the namespaces selected by this field
                                                and the ones listed in the namespaces field.
                                                null selector and null or empty namespaces list means "this pod's namespace".
                                                An empty selector ({}) matches all namespaces.
                                              properties:
                                                matchExpressions:
                                                  description: matchExpressions is
                                                    a list of label selector requirements.
                                                    The requirements are ANDed.
                                                  items:
                                                    description: |-
                                                      A label selector requirement is a selector that contains values, a key, and an operator that
                                                      relates the key and values.
                                                    properties:
                                                      key:
                                                        description: key is the label
                                                          key that the selector applies
                                                          to.
                                                        type: string
                                                      operator:
                                                        description: |-
                                                          operator represents a key's relationship to a set of values.
                                                          Valid operators are In, NotIn, Exists and DoesNotExist.
                                                        type: string
                                                      values:
                                                        description: |-
                                                          values is an array of string values. If the operator is In or NotIn,
                                                          the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                          the values array must be empty. This array is replaced during a strategic
                                                          merge patch.
                                                        items:
                                                          type: string
                                                        type: array
                                                        x-kubernetes-list-type: atomic
                                                    required:
                                                    - key
                                                    - operator
                                                    type: object
                                                  type: array
                                                  x-kubernetes-list-type: atomic
                                                matchLabels:
                                                  additionalProperties:
                                                    type: string
                                                  description: |-
                                                    matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                                    map is equivalent to an element of matchExpressions, whose key field is "key", the
                                                    operator is "In", and the values array contains only "value". The requirements are ANDed.
                                                  type: object
                                              type: object
                                              x-kubernetes-map-type: atomic
                                            namespaces:
                                              description: |-
                                                namespaces specifies a static list of namespace names that the term applies to.
                                                The term is applied to the union of the namespaces listed in this field
                                                and the ones selected by namespaceSelector.
                                                null or empty namespaces list and null namespaceSelector means "this pod's namespace".
                                              items:
                                                type: string
                                              type: array
                                              x-kubernetes-list-type: atomic
                                            topologyKey:
                                              description: |-
                                                This pod should be co-located (affinity) or not co-located (anti-affinity) with the pods matching
                                                the labelSelector in the specified namespaces, where co-located is defined as running on a node
                                                whose value of the label with key topologyKey matches that of any node on which any of the
                                                selected pods is running.
                                                Empty topologyKey is not allowed.
                                              type: string
                                          required:
                                          - topologyKey
                                          type: object
                                        type: array
                                        x-kubernetes-list-type: atomic
                                    type: object
                                type: object
                              annotations:
                                additionalProperties:
                                  type: string
                                description: |-
                                  Annotations are the annotations that should be appended to the pods.
                                  By default, no pod annotations are appended.
                                type: object
                              imagePullSecrets:
                                description: |-
                                  ImagePullSecrets is an optional list of references to secrets
                                  in the same namespace to use for pulling any of the images used by this PodSpec.
                                  If specified, these secrets will be passed to individual puller implementations for them to use.
                                  More info: https://kubernetes.io/docs/concepts/containers/images#specifying-imagepullsecrets-on-a-pod
                                items:
                                  description: |-
                                    LocalObjectReference contains enough information to let you locate the
                                    referenced object inside the same namespace.
                                  properties:
                                    name:
                                      default: ""
                                      description: |-
                                        Name of the referent.
                                        This field is effectively required, but due to backwards compatibility is
                                        allowed to be empty. Instances of this type with an empty value here are
                                        almost certainly wrong.
                                        More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                      type: string
                                  type: object
                                  x-kubernetes-map-type: atomic
                                type: array
                              labels:
                                additionalProperties:
                                  type: string
                                description: |-
                                  Labels are the additional labels that should be tagged to the pods.
                                  By default, no additional pod labels are tagged.
                                type: object
                              nodeSelector:
                                additionalProperties:
                                  type: string
                                description: |-
                                  NodeSelector is a selector which must be true for the pod to fit on a node.
                                  Selector which must match a node's labels for the pod to be scheduled on that node.
                                  More info: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/
                                type: object
                              securityContext:
                                description: |-
                                  SecurityContext holds pod-level security attributes and common container settings.
                                  Optional: Defaults to empty.  See type description for default values of each field.
                                properties:
                                  appArmorProfile:
                                    description: |-
                                      appArmorProfile is the AppArmor options to use by the containers in this pod.
                                      Note that this field cannot be set when spec.os.name is windows.
                                    properties:
                                      localhostProfile:
                                        description: |-
                                          localhostProfile indicates a profile loaded on the node that should be used.
                                          The profile must be preconfigured on the node to work.
                                          Must match the loaded name of the profile.
                                          Must be set if and only if type is "Localhost".
                                        type: string
                                      type:
                                        description: |-
                                          type indicates which kind of AppArmor profile will be applied.
                                          Valid options are:
                                            Localhost - a profile pre-loaded on the node.
                                            RuntimeDefault - the container runtime's default profile.
                                            Unconfined - no AppArmor enforcement.
                                        type: string
                                    required:
                                    - type
                                    type: object
                                  fsGroup:
                                    description: |-
                                      A special supplemental group that applies to all containers in a pod.
                                      Some volume types allow the Kubelet to change the ownership of that volume
                                      to be owned by the pod:

                                      1. The owning GID will be the FSGroup
                                      2. The setgid bit is set (new files created in the volume will be owned by FSGroup)
                                      3. The permission bits are OR'd with rw-rw----

                                      If unset, the Kubelet will not modify the ownership and permissions of any volume.
                                      Note that this field cannot be set when spec.os.name is windows.
                                    format: int64
                                    type: integer
                                  fsGroupChangePolicy:
                                    description: |-
                                      fsGroupChangePolicy defines behavior of changing ownership and permission of the volume
                                      before being exposed inside Pod. This field will only apply to
                                      volume types which support fsGroup based ownership(and permissions).
                                      It will have no effect on ephemeral volume types such as: secret, configmaps
                                      and emptydir.
                                      Valid values are "OnRootMismatch" and "Always". If not specified, "Always" is used.
                                      Note that this field cannot be set when spec.os.name is windows.
                                    type: string
                                  runAsGroup:
                                    description: |-
                                      The GID to run the entrypoint of the container process.
                                      Uses runtime default if unset.
                                      May also be set in SecurityContext.  If set in both SecurityContext and
                                      PodSecurityContext, the value specified in SecurityContext takes precedence
                                      for that container.
                                      Note that this field cannot be set when spec.os.name is windows.
                                    format: int64
                                    type: integer
                                  runAsNonRoot:
                                    description: |-
                                      Indicates that the container must run as a non-root user.
                                      If true, the Kubelet will validate the image at runtime to ensure that it
                                      does not run as UID 0 (root) and fail to start the container if it does.
                                      If unset or false, no such validation will be performed.
                                      May also be set in SecurityContext.  If set in both SecurityContext and
                                      PodSecurityContext, the value specified in SecurityContext takes precedence.
                                    type: boolean
                                  runAsUser:
                                    description: |-
                                      The UID to run the entrypoint of the container process.
                                      Defaults to user specified in image metadata if unspecified.
                                      May also be set in SecurityContext.  If set in both SecurityContext and
                                      PodSecurityContext, the value specified in SecurityContext takes precedence
                                      for that container.
                                      Note that this field cannot be set when spec.os.name is windows.
                                    format: int64
                                    type: integer
                                  seLinuxChangePolicy:
                                    description: |-
                                      seLinuxChangePolicy defines how the container's SELinux label is applied to all volumes used by the Pod.
                                      It has no effect on nodes that do not support SELinux or to volumes does not support SELinux.
                                      Valid values are "MountOption" and "Recursive".

                                      "Recursive" means relabeling of all files on all Pod volumes by the container runtime.
                                      This may be slow for large volumes, but allows mixing privileged and unprivileged Pods sharing the same volume on the same node.

                                      "MountOption" mounts all eligible Pod volumes with `-o context` mount option.
                                      This requires all Pods that share the same volume to use the same SELinux label.
                                      It is not possible to share the same volume among privileged and unprivileged Pods.
                                      Eligible volumes are in-tree FibreChannel and iSCSI volumes, and all CSI volumes
                                      whose CSI driver announces SELinux support by setting spec.seLinuxMount: true in their
                                      CSIDriver instance. Other volumes are always re-labelled recursively.
                                      "MountOption" value is allowed only when SELinuxMount feature gate is enabled.

                                      If not specified and SELinuxMount feature gate is enabled, "MountOption" is used.
                                      If not specified and SELinuxMount feature gate is disabled, "MountOption" is used for ReadWriteOncePod volumes
                                      and "Recursive" for all other volumes.

                                      This field affects only Pods that have SELinux label set, either in PodSecurityContext or in SecurityContext of all containers.

                                      All Pods that use the same volume should use the same seLinuxChangePolicy, otherwise some pods can get stuck in ContainerCreating state.
                                      Note that this field cannot be set when spec.os.name is windows.
                                    type: string
                                  seLinuxOptions:
                                    description: |-
                                      The SELinux context to be applied to all containers.
                                      If unspecified, the container runtime will allocate a random SELinux context for each
                                      container.  May also be set in SecurityContext.  If set in
                                      both SecurityContext and PodSecurityContext, the value specified in SecurityContext
                                      takes precedence for that container.
                                      Note that this field cannot be set when spec.os.name is windows.
                                    properties:
                                      level:
                                        description: Level is SELinux level label
                                          that applies to the container.
                                        type: string
                                      role:
                                        description: Role is a SELinux role label
                                          that applies to the container.
                                        type: string
                                      type:
                                        description: Type is a SELinux type label
                                          that applies to the container.
                                        type: string
                                      user:
                                        description: User is a SELinux user label
                                          that applies to the container.
                                        type: string
                                    type: object
                                  seccompProfile:
                                    description: |-
                                      The seccomp options to use by the containers in this pod.
                                      Note that this field cannot be set when spec.os.name is windows.
                                    properties:
                                      localhostProfile:
                                        description: |-
                                          localhostProfile indicates a profile defined in a file on the node should be used.
                                          The profile must be preconfigured on the node to work.
                                          Must be a descending path, relative to the kubelet's configured seccomp profile location.
                                          Must be set if type is "Localhost". Must NOT be set for any other type.
                                        type: string
                                      type:
                                        description: |-
                                          type indicates which kind of seccomp profile will be applied.
                                          Valid options are:

                                          Localhost - a profile defined in a file on the node should be used.
                                          RuntimeDefault - the container runtime default profile should be used.
                                          Unconfined - no profile should be applied.
                                        type: string
                                    required:
                                    - type
                                    type: object
                                  supplementalGroups:
                                    description: |-
                                      A list of groups applied to the first process run in each container, in
                                      addition to the container's primary GID and fsGroup (if specified).  If
                                      the SupplementalGroupsPolicy feature is enabled, the
                                      supplementalGroupsPolicy field determines whether these are in addition
                                      to or instead of any group memberships defined in the container image.
                                      If unspecified, no additional groups are added, though group memberships
                                      defined in the container image may still be used, depending on the
                                      supplementalGroupsPolicy field.
                                      Note that this field cannot be set when spec.os.name is windows.
                                    items:
                                      format: int64
                                      type: integer
                                    type: array
                                    x-kubernetes-list-type: atomic
                                  supplementalGroupsPolicy:
                                    description: |-
                                      Defines how supplemental groups of the first container processes are calculated.
                                      Valid values are "Merge" and "Strict". If not specified, "Merge" is used.
                                      (Alpha) Using the field requires the SupplementalGroupsPolicy feature gate to be enabled
                                      and the container runtime must implement support for this feature.
                                      Note that this field cannot be set when spec.os.name is windows.
                                    type: string
                                  sysctls:
                                    description: |-
                                      Sysctls hold a list of namespaced sysctls used for the pod. Pods with unsupported
                                      sysctls (by the container runtime) might fail to launch.
                                      Note that this field cannot be set when spec.os.name is windows.
                                    items:
                                      description: Sysctl defines a kernel parameter
                                        to be set
                                      properties:
                                        name:
                                          description: Name of a property to set
                                          type: string
                                        value:
                                          description: Value of a property to set
                                          type: string
                                      required:
                                      - name
                                      - value
                                      type: object
                                    type: array
                                    x-kubernetes-list-type: atomic
                                  windowsOptions:
                                    description: |-
                                      The Windows specific settings applied to all containers.
                                      If unspecified, the options within a container's SecurityContext will be used.
                                      If set in both SecurityContext and PodSecurityContext, the value specified in SecurityContext takes precedence.
                                      Note that this field cannot be set when spec.os.name is linux.
                                    properties:
                                      gmsaCredentialSpec:
                                        description: |-
                                          GMSACredentialSpec is where the GMSA admission webhook
                                          (https://github.com/kubernetes-sigs/windows-gmsa) inlines the contents of the
                                          GMSA credential spec named by the GMSACredentialSpecName field.
                                        type: string
                                      gmsaCredentialSpecName:
                                        description: GMSACredentialSpecName is the
                                          name of the GMSA credential spec to use.
                                        type: string
                                      hostProcess:
                                        description: |-
                                          HostProcess determines if a container should be run as a 'Host Process' container.
                                          All of a Pod's containers must have the same effective HostProcess value
                                          (it is not allowed to have a mix of HostProcess containers and non-HostProcess containers).
                                          In addition, if HostProcess is true then HostNetwork must also be set to true.
                                        type: boolean
                                      runAsUserName:
                                        description: |-
                                          The UserName in Windows to run the entrypoint of the container process.
                                          Defaults to the user specified in image metadata if unspecified.
                                          May also be set in PodSecurityContext. If set in both SecurityContext and
                                          PodSecurityContext, the value specified in SecurityContext takes precedence.
                                        type: string
                                    type: object
                                type: object
                              tolerations:
                                description: If specified, the pod's tolerations.
                                items:
                                  description: |-
                                    The pod this Toleration is attached to tolerates any taint that matches
                                    the triple <key,value,effect> using the matching operator <operator>.
                                  properties:
                                    effect:
                                      description: |-
                                        Effect indicates the taint effect to match. Empty means match all taint effects.
                                        When specified, allowed values are NoSchedule, PreferNoSchedule and NoExecute.
                                      type: string
                                    key:
                                      description: |-
                                        Key is the taint key that the toleration applies to. Empty means match all taint keys.
                                        If the key is empty, operator must be Exists; this combination means to match all values and all keys.
                                      type: string
                                    operator:
                                      description: |-
                                        Operator represents a key's relationship to the value.
                                        Valid operators are Exists and Equal. Defaults to Equal.
                                        Exists is equivalent to wildcard for value, so that a pod can
                                        tolerate all taints of a particular category.
                                      type: string
                                    tolerationSeconds:
                                      description: |-
                                        TolerationSeconds represents the period of time the toleration (which must be
                                        of effect NoExecute, otherwise this field is ignored) tolerates the taint. By default,
                                        it is not set, which means tolerate the taint forever (do not evict). Zero and
                                        negative values will be treated as 0 (evict immediately) by the system.
                                      format: int64
                                      type: integer
                                    value:
                                      description: |-
                                        Value is the taint value the toleration matches to.
                                        If the operator is Exists, the value should be empty, otherwise just a regular string.
                                      type: string
                                  type: object
                                type: array
                              topologySpreadConstraints:
                                description: |-
                                  TopologySpreadConstraints describes how a group of pods ought to spread across topology
                                  domains. Scheduler will schedule pods in a way which abides by the constraints.
                                  All topologySpreadConstraints are ANDed.
                                items:
                                  description: TopologySpreadConstraint specifies
                                    how to spread matching pods among the given topology.
                                  properties:
                                    labelSelector:
                                      description: |-
                                        LabelSelector is used to find matching pods.
                                        Pods that match this label selector are counted to determine the number of pods
                                        in their corresponding topology domain.
                                      properties:
                                        matchExpressions:
                                          description: matchExpressions is a list
                                            of label selector requirements. The requirements
                                            are ANDed.
                                          items:
                                            description: |-
                                              A label selector requirement is a selector that contains values, a key, and an operator that
                                              relates the key and values.
                                            properties:
                                              key:
                                                description: key is the label key
                                                  that the selector applies to.
                                                type: string
                                              operator:
                                                description: |-
                                                  operator represents a key's relationship to a set of values.
                                                  Valid operators are In, NotIn, Exists and DoesNotExist.
                                                type: string
                                              values:
                                                description: |-
                                                  values is an array of string values. If the operator is In or NotIn,
                                                  the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                  the values array must be empty. This array is replaced during a strategic
                                                  merge patch.
                                                items:
                                                  type: string
                                                type: array
                                                x-kubernetes-list-type: atomic
                                            required:
                                            - key
                                            - operator
                                            type: object
                                          type: array
                                          x-kubernetes-list-type: atomic
                                        matchLabels:
                                          additionalProperties:
                                            type: string
                                          description: |-
                                            matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                            map is equivalent to an element of matchExpressions, whose key field is "key", the
                                            operator is "In", and the values array contains only "value". The requirements are ANDed.
                                          type: object
                                      type: object
                                      x-kubernetes-map-type: atomic
                                    matchLabelKeys:
                                      description: |-
                                        MatchLabelKeys is a set of pod label keys to select the pods over which
                                        spreading will be calculated. The keys are used to lookup values from the
                                        incoming pod labels, those key-value labels are ANDed with labelSelector
                                        to select the group of existing pods over which spreading will be calculated
                                        for the incoming pod. The same key is forbidden to exist in both MatchLabelKeys and LabelSelector.
                                        MatchLabelKeys cannot be set when LabelSelector isn't set.
                                        Keys that don't exist in the incoming pod labels will
                                        be ignored. A null or empty list means only match against labelSelector.

                                        This is a beta field and requires the MatchLabelKeysInPodTopologySpread feature gate to be enabled (enabled by default).
                                      items:
                                        type: string
                                      type: array
                                      x-kubernetes-list-type: atomic
                                    maxSkew:
                                      description: |-
                                        MaxSkew describes the degree to which pods may be unevenly distributed.
                                        When `whenUnsatisfiable=DoNotSchedule`, it is the maximum permitted difference
                                        between the number of matching pods in the target topology and the global minimum.
                                        The global minimum is the minimum number of matching pods in an eligible domain
                                        or zero if the number of eligible domains is less than MinDomains.
                                        For example, in a 3-zone cluster, MaxSkew is set to 1, and pods with the same
                                        labelSelector spread as 2/2/1:
                                        In this case, the global minimum is 1.
                                        | zone1 | zone2 | zone3 |
                                        |  P P  |  P P  |   P   |
                                        - if MaxSkew is 1, incoming pod can only be scheduled to zone3 to become 2/2/2;
                                        scheduling it onto zone1(zone2) would make the ActualSkew(3-1) on zone1(zone2)
                                        violate MaxSkew(1).
                                        - if MaxSkew is 2, incoming pod can be scheduled onto any zone.
                                        When `whenUnsatisfiable=ScheduleAnyway`, it is used to give higher precedence
                                        to topologies that satisfy it.
                                        It's a required field. Default value is 1 and 0 is not allowed.
                                      format: int32
                                      type: integer
                                    minDomains:
                                      description: |-
                                        MinDomains indicates a minimum number of eligible domains.
                                        When the number of eligible domains with matching topology keys is less than minDomains,
                                        Pod Topology Spread treats "global minimum" as 0, and then the calculation of Skew is performed.
                                        And when the number of eligible domains with matching topology keys equals or greater than minDomains,
                                        this value has no effect on scheduling.
                                        As a result, when the number of eligible domains is less than minDomains,
                                        scheduler won't schedule more than maxSkew Pods to those domains.
                                        If value is nil, the constraint behaves as if MinDomains is equal to 1.
                                        Valid values are integers greater than 0.
                                        When value is not nil, WhenUnsatisfiable must be DoNotSchedule.

                                        For example, in a 3-zone cluster, MaxSkew is set to 2, MinDomains is set to 5 and pods with the same
                                        labelSelector spread as 2/2/2:
                                        | zone1 | zone2 | zone3 |
                                        |  P P  |  P P  |  P P  |
                                        The number of domains is less than 5(MinDomains), so "global minimum" is treated as 0.
                                        In this situation, new pod with the same labelSelector cannot be scheduled,
                                        because computed skew will be 3(3 - 0) if new Pod is scheduled to any of the three zones,
                                        it will violate MaxSkew.
                                      format: int32
                                      type: integer
                                    nodeAffinityPolicy:
                                      description: |-
                                        NodeAffinityPolicy indicates how we will treat Pod's nodeAffinity/nodeSelector
                                        when calculating pod topology spread skew. Options are:
                                        - Honor: only nodes matching nodeAffinity/nodeSelector are included in the calculations.
                                        - Ignore: nodeAffinity/nodeSelector are ignored. All nodes are included in the calculations.

                                        If this value is nil, the behavior is equivalent to the Honor policy.
                                      type: string
                                    nodeTaintsPolicy:
                                      description: |-
                                        NodeTaintsPolicy indicates how we will treat node taints when calculating
                                        pod topology spread skew. Options are:
                                        - Honor: nodes without taints, along with tainted nodes for which the incoming pod
                                        has a toleration, are included.
                                        - Ignore: node taints are ignored. All nodes are included.

                                        If this value is nil, the behavior is equivalent to the Ignore policy.
                                      type: string
                                    topologyKey:
                                      description: |-
                                        TopologyKey is the key of node labels. Nodes that have a label with this key
                                        and identical values are considered to be in the same topology.
                                        We consider each <key, value> as a "bucket", and try to put balanced number
                                        of pods into each bucket.
                                        We define a domain as a particular instance of a topology.
                                        Also, we define an eligible domain as a domain whose nodes meet the requirements of
                                        nodeAffinityPolicy and nodeTaintsPolicy.
                                        e.g. If TopologyKey is "kubernetes.io/hostname", each Node is a domain of that topology.
                                        And, if TopologyKey is "topology.kubernetes.io/zone", each zone is a domain of that topology.
                                        It's a required field.
                                      type: string
                                    whenUnsatisfiable:
                                      description: |-
                                        WhenUnsatisfiable indicates how to deal with a pod if it doesn't satisfy
                                        the spread constraint.
                                        - DoNotSchedule (default) tells the scheduler not to schedule it.
                                        - ScheduleAnyway tells the scheduler to schedule the pod in any location,
                                          but giving higher precedence to topologies that would help reduce the
                                          skew.
                                        A constraint is considered "Unsatisfiable" for an incoming pod
                                        if and only if every possible node assignment for that pod would violate
                                        "MaxSkew" on some topology.
                                        For example, in a 3-zone cluster, MaxSkew is set to 1, and pods with the same
                                        labelSelector spread as 3/1/1:
                                        | zone1 | zone2 | zone3 |
                                        | P P P |   P   |   P   |
                                        If WhenUnsatisfiable is set to DoNotSchedule, incoming pod can only be scheduled
                                        to zone2(zone3) to become 3/2/1(3/1/2) as ActualSkew(2-1) on zone2(zone3) satisfies
                                        MaxSkew(1). In other words, the cluster can still be imbalanced, but scheduler
                                        won't make it *more* imbalanced.
                                        It's a required field.
                                      type: string
                                  required:
                                  - maxSkew
                                  - topologyKey
                                  - whenUnsatisfiable
                                  type: object
                                type: array
                              volumes:
                                description: |-
                                  Volumes that can be mounted by containers belonging to the pod.
                                  More info: https://kubernetes.io/docs/concepts/storage/volumes
                                items:
                                  description: Volume represents a named volume in
                                    a pod that may be accessed by any container in
                                    the pod.
                                  properties:
                                    awsElasticBlockStore:
                                      description: |-
                                        awsElasticBlockStore represents an AWS Disk resource that is attached to a
                                        kubelet's host machine and then exposed to the pod.
                                        Deprecated: AWSElasticBlockStore is deprecated. All operations for the in-tree
                                        awsElasticBlockStore type are redirected to the ebs.csi.aws.com CSI driver.
                                        More info: https://kubernetes.io/docs/concepts/storage/volumes#awselasticblockstore
                                      properties:
                                        fsType:
                                          description: |-
                                            fsType is the filesystem type of the volume that you want to mount.
                                            Tip: Ensure that the filesystem type is supported by the host operating system.
                                            Examples: "ext4", "xfs", "ntfs". Implicitly inferred to be "ext4" if unspecified.
                                            More info: https://kubernetes.io/docs/concepts/storage/volumes#awselasticblockstore
                                          type: string
                                        partition:
                                          description: |-
                                            partition is the partition in the volume that you want to mount.
                                            If omitted, the default is to mount by volume name.
                                            Examples: For volume /dev/sda1, you specify the partition as "1".
                                            Similarly, the volume partition for /dev/sda is "0" (or you can leave the property empty).
                                          format: int32
                                          type: integer
                                        readOnly:
                                          description: |-
                                            readOnly value true will force the readOnly setting in VolumeMounts.
                                            More info: https://kubernetes.io/docs/concepts/storage/volumes#awselasticblockstore
                                          type: boolean
                                        volumeID:
                                          description: |-
                                            volumeID is unique ID of the persistent disk resource in AWS (Amazon EBS volume).
                                            More info: https://kubernetes.io/docs/concepts/storage/volumes#awselasticblockstore
                                          type: string
                                      required:
                                      - volumeID
                                      type: object
                                    azureDisk:
                                      description: |-
                                        azureDisk represents an Azure Data Disk mount on the host and bind mount to the pod.
                                        Deprecated: AzureDisk is deprecated. All operations for the in-tree azureDisk type
                                        are redirected to the disk.csi.azure.com CSI driver.
                                      properties:
                                        cachingMode:
                                          description: 'cachingMode is the Host Caching
                                            mode: None, Read Only, Read Write.'
                                          type: string
                                        diskName:
                                          description: diskName is the Name of the
                                            data disk in the blob storage
                                          type: string
                                        diskURI:
                                          description: diskURI is the URI of data
                                            disk in the blob storage
                                          type: string
                                        fsType:
                                          default: ext4
                                          description: |-
                                            fsType is Filesystem type to mount.
                                            Must be a filesystem type supported by the host operating system.
                                            Ex. "ext4", "xfs", "ntfs". Implicitly inferred to be "ext4" if unspecified.
                                          type: string
                                        kind:
                                          description: 'kind expected values are Shared:
                                            multiple blob disks per storage account  Dedicated:
                                            single blob disk per storage account  Managed:
                                            azure managed data disk (only in managed
                                            availability set). defaults to shared'
                                          type: string
                                        readOnly:
                                          default: false
                                          description: |-
                                            readOnly Defaults to false (read/write). ReadOnly here will force
                                            the ReadOnly setting in VolumeMounts.
                                          type: boolean
                                      required:
                                      - diskName
                                      - diskURI
                                      type: object
                                    azureFile:
                                      description: |-
                                        azureFile represents an Azure File Service mount on the host and bind mount to the pod.
                                        Deprecated: AzureFile is deprecated. All operations for the in-tree azureFile type
                                        are redirected to the file.csi.azure.com CSI driver.
                                      properties:
                                        readOnly:
                                          description: |-
                                            readOnly defaults to false (read/write). ReadOnly here will force
                                            the ReadOnly setting in VolumeMounts.
                                          type: boolean
                                        secretName:
                                          description: secretName is the  name of
                                            secret that contains Azure Storage Account
                                            Name and Key
                                          type: string
                                        shareName:
                                          description: shareName is the azure share
                                            Name
                                          type: string
                                      required:
                                      - secretName
                                      - shareName
                                      type: object
                                    cephfs:
                                      description: |-
                                        cephFS represents a Ceph FS mount on the host that shares a pod's lifetime.
                                        Deprecated: CephFS is deprecated and the in-tree cephfs type is no longer supported.
                                      properties:
                                        monitors:
                                          description: |-
                                            monitors is Required: Monitors is a collection of Ceph monitors
                                            More info: https://examples.k8s.io/volumes/cephfs/README.md#how-to-use-it
                                          items:
                                            type: string
                                          type: array
                                          x-kubernetes-list-type: atomic
                                        path:
                                          description: 'path is Optional: Used as
                                            the mounted root, rather than the full
                                            Ceph tree, default is /'
                                          type: string
                                        readOnly:
                                          description: |-
                                            readOnly is Optional: Defaults to false (read/write). ReadOnly here will force
                                            the ReadOnly setting in VolumeMounts.
                                            More info: https://examples.k8s.io/volumes/cephfs/README.md#how-to-use-it
                                          type: boolean
                                        secretFile:
                                          description: |-
                                            secretFile is Optional: SecretFile is the path to key ring for User, default is /etc/ceph/user.secret
                                            More info: https://examples.k8s.io/volumes/cephfs/README.md#how-to-use-it
                                          type: string
                                        secretRef:
                                          description: |-
                                            secretRef is Optional: SecretRef is reference to the authentication secret for User, default is empty.
                                            More info: https://examples.k8s.io/volumes/cephfs/README.md#how-to-use-it
                                          properties:
                                            name:
                                              default: ""
                                              description: |-
                                                Name of the referent.
                                                This field is effectively required, but due to backwards compatibility is
                                                allowed to be empty. Instances of this type with an empty value here are
                                                almost certainly wrong.
                                                More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                              type: string
                                          type: object
                                          x-kubernetes-map-type: atomic
                                        user:
                                          description: |-
                                            user is optional: User is the rados user name, default is admin
                                            More info: https://examples.k8s.io/volumes/cephfs/README.md#how-to-use-it
                                          type: string
                                      required:
                                      - monitors
                                      type: object
                                    cinder:
                                      description: |-
                                        cinder represents a cinder volume attached and mounted on kubelets host machine.
                                        Deprecated: Cinder is deprecated. All operations for the in-tree cinder type
                                        are redirected to the cinder.csi.openstack.org CSI driver.
                                        More info: https://examples.k8s.io/mysql-cinder-pd/README.md
                                      properties:
                                        fsType:
                                          description: |-
                                            fsType is the filesystem type to mount.
                                            Must be a filesystem type supported by the host operating system.
                                            Examples: "ext4", "xfs", "ntfs". Implicitly inferred to be "ext4" if unspecified.
                                            More info: https://examples.k8s.io/mysql-cinder-pd/README.md
                                          type: string
                                        readOnly:
                                          description: |-
                                            readOnly defaults to false (read/write). ReadOnly here will force
                                            the ReadOnly setting in VolumeMounts.
                                            More info: https://examples.k8s.io/mysql-cinder-pd/README.md
                                          type: boolean
                                        secretRef:
                                          description: |-
                                            secretRef is optional: points to a secret object containing parameters used to connect
                                            to OpenStack.
                                          properties:
                                            name:
                                              default: ""
                                              description: |-
                                                Name of the referent.
                                                This field is effectively required, but due to backwards compatibility is
                                                allowed to be empty. Instances of this type with an empty value here are
                                                almost certainly wrong.
                                                More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                              type: string
                                          type: object
                                          x-kubernetes-map-type: atomic
                                        volumeID:
                                          description: |-
                                            volumeID used to identify the volume in cinder.
                                            More info: https://examples.k8s.io/mysql-cinder-pd/README.md
                                          type: string
                                      required:
                                      - volumeID
                                      type: object
                                    configMap:
                                      description: configMap represents a configMap
                                        that should populate this volume
                                      properties:
                                        defaultMode:
                                          description: |-
                                            defaultMode is optional: mode bits used to set permissions on created files by default.
                                            Must be an octal value between 0000 and 0777 or a decimal value between 0 and 511.
                                            YAML accepts both octal and decimal values, JSON requires decimal values for mode bits.
                                            Defaults to 0644.
                                            Directories within the path are not affected by this setting.
                                            This might be in conflict with other options that affect the file
                                            mode, like fsGroup, and the result can be other mode bits set.
                                          format: int32
                                          type: integer
                                        items:
                                          description: |-
                                            items if unspecified, each key-value pair in the Data field of the referenced
                                            ConfigMap will be projected into the volume as a file whose name is the
                                            key and content is the value. If specified, the listed keys will be
                                            projected into the specified paths, and unlisted keys will not be
                                            present. If a key is specified which is not present in the ConfigMap,
                                            the volume setup will error unless it is marked optional. Paths must be
                                            relative and may not contain the '..' path or start with '..'.
                                          items:
                                            description: Maps a string key to a path
                                              within a volume.
                                            properties:
                                              key:
                                                description: key is the key to project.
                                                type: string
                                              mode:
                                                description: |-
                                                  mode is Optional: mode bits used to set permissions on this file.
                                                  Must be an octal value between 0000 and 0777 or a decimal value between 0 and 511.
                                                  YAML accepts both octal and decimal values, JSON requires decimal values for mode bits.
                                                  If not specified, the volume defaultMode will be used.
                                                  This might be in conflict with other options that affect the file
                                                  mode, like fsGroup, and the result can be other mode bits set.
                                                format: int32
                                                type: integer
                                              path:
                                                description: |-
                                                  path is the relative path of the file to map the key to.
                                                  May not be an absolute path.
                                                  May not contain the path element '..'.
                                                  May not start with the string '..'.
                                                type: string
                                            required:
                                            - key
                                            - path
                                            type: object
                                          type: array
                                          x-kubernetes-list-type: atomic
                                        name:
                                          default: ""
                                          description: |-
                                            Name of the referent.
                                            This field is effectively required, but due to backwards compatibility is
                                            allowed to be empty. Instances of this type with an empty value here are
                                            almost certainly wrong.
                                            More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                          type: string
                                        optional:
                                          description: optional specify whether the
                                            ConfigMap or its keys must be defined
                                          type: boolean
                                      type: object
                                      x-kubernetes-map-type: atomic
                                    csi:
                                      description: csi (Container Storage Interface)
                                        represents ephemeral storage that is handled
                                        by certain external CSI drivers.
                                      properties:
                                        driver:
                                          description: |-
                                            driver is the name of the CSI driver that handles this volume.
                                            Consult with your admin for the correct name as registered in the cluster.
                                          type: string
                                        fsType:
                                          description: |-
                                            fsType to mount. Ex. "ext4", "xfs", "ntfs".
                                            If not provided, the empty value is passed to the associated CSI driver
                                            which will determine the default filesystem to apply.
                                          type: string
                                        nodePublishSecretRef:
                                          description: |-
                                            nodePublishSecretRef is a reference to the secret object containing
                                            sensitive information to pass to the CSI driver to complete the CSI
                                            NodePublishVolume and NodeUnpublishVolume calls.
                                            This field is optional, and  may be empty if no secret is required. If the
                                            secret object contains more than one secret, all secret references are passed.
                                          properties:
                                            name:
                                              default: ""
                                              description: |-
                                                Name of the referent.
                                                This field is effectively required, but due to backwards compatibility is
                                                allowed to be empty. Instances of this type with an empty value here are
                                                almost certainly wrong.
                                                More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                              type: string
                                          type: object
                                          x-kubernetes-map-type: atomic
                                        readOnly:
                                          description: |-
                                            readOnly specifies a read-only configuration for the volume.
                                            Defaults to false (read/write).
                                          type: boolean
                                        volumeAttributes:
                                          additionalProperties:
                                            type: string
                                          description: |-
                                            volumeAttributes stores driver-specific properties that are passed to the CSI
                                            driver. Consult your driver's documentation for supported values.
                                          type: object
                                      required:
                                      - driver
                                      type: object
                                    downwardAPI:
                                      description: downwardAPI represents downward
                                        API about the pod that should populate this
                                        volume
                                      properties:
                                        defaultMode:
                                          description: |-
                                            Optional: mode bits to use on created files by default. Must be a
                                            Optional: mode bits used to set permissions on created files by default.
                                            Must be an octal value between 0000 and 0777 or a decimal value between 0 and 511.
                                            YAML accepts both octal and decimal values, JSON requires decimal values for mode bits.
                                            Defaults to 0644.
                                            Directories within the path are not affected by this setting.
                                            This might be in conflict with other options that affect the file
                                            mode, like fsGroup, and the result can be other mode bits set.
                                          format: int32
                                          type: integer
                                        items:
                                          description: Items is a list of downward
                                            API volume file
                                          items:
                                            description: DownwardAPIVolumeFile represents
                                              information to create the file containing
                                              the pod field
                                            properties:
                                              fieldRef:
                                                description: 'Required: Selects a
                                                  field of the pod: only annotations,
                                                  labels, name, namespace and uid
                                                  are supported.'
                                                properties:
                                                  apiVersion:
                                                    description: Version of the schema
                                                      the FieldPath is written in
                                                      terms of, defaults to "v1".
                                                    type: string
                                                  fieldPath:
                                                    description: Path of the field
                                                      to select in the specified API
                                                      version.
                                                    type: string
                                                required:
                                                - fieldPath
                                                type: object
                                                x-kubernetes-map-type: atomic
                                              mode:
                                                description: |-
                                                  Optional: mode bits used to set permissions on this file, must be an octal value
                                                  between 0000 and 0777 or a decimal value between 0 and 511.
                                                  YAML accepts both octal and decimal values, JSON requires decimal values for mode bits.
                                                  If not specified, the volume defaultMode will be used.
                                                  This might be in conflict with other options that affect the file
                                                  mode, like fsGroup, and the result can be other mode bits set.
                                                format: int32
                                                type: integer
                                              path:
                                                description: 'Required: Path is  the
                                                  relative path name of the file to
                                                  be created. Must not be absolute
                                                  or contain the ''..'' path. Must
                                                  be utf-8 encoded. The first item
                                                  of the relative path must not start
                                                  with ''..'''
                                                type: string
                                              resourceFieldRef:
                                                description: |-
                                                  Selects a resource of the container: only resources limits and requests
                                                  (limits.cpu, limits.memory, requests.cpu and requests.memory) are currently supported.
                                                properties:
                                                  containerName:
                                                    description: 'Container name:
                                                      required for volumes, optional
                                                      for env vars'
                                                    type: string
                                                  divisor:
                                                    anyOf:
                                                    - type: integer
                                                    - type: string
                                                    description: Specifies the output
                                                      format of the exposed resources,
                                                      defaults to "1"
                                                    pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                                    x-kubernetes-int-or-string: true
                                                  resource:
                                                    description: 'Required: resource
                                                      to select'
                                                    type: string
                                                required:
                                                - resource
                                                type: object
                                                x-kubernetes-map-type: atomic
                                            required:
                                            - path
                                            type: object
                                          type: array
                                          x-kubernetes-list-type: atomic
                                      type: object
                                    emptyDir:
                                      description: |-
                                        emptyDir represents a temporary directory that shares a pod's lifetime.
                                        More info: https://kubernetes.io/docs/concepts/storage/volumes#emptydir
                                      properties:
                                        medium:
                                          description: |-
                                            medium represents what type of storage medium should back this directory.
                                            The default is "" which means to use the node's default medium.
                                            Must be an empty string (default) or Memory.
                                            More info: https://kubernetes.io/docs/concepts/storage/volumes#emptydir
                                          type: string
                                        sizeLimit:
                                          anyOf:
                                          - type: integer
                                          - type: string
                                          description: |-
                                            sizeLimit is the total amount of local storage required for this EmptyDir volume.
                                            The size limit is also applicable for memory medium.
                                            The maximum usage on memory medium EmptyDir would be the minimum value between
                                            the SizeLimit specified here and the sum of memory limits of all containers in a pod.
                                            The default is nil which means that the limit is undefined.
                                            More info: https://kubernetes.io/docs/concepts/storage/volumes#emptydir
                                          pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                          x-kubernetes-int-or-string: true
                                      type: object
                                    ephemeral:
                                      description: |-
                                        ephemeral represents a volume that is handled by a cluster storage driver.
                                        The volume's lifecycle is tied to the pod that defines it - it will be created before the pod starts,
                                        and deleted when the pod is removed.

                                        Use this if:
                                        a) the volume is only needed while the pod runs,
                                        b) features of normal volumes like restoring from snapshot or capacity
                                           tracking are needed,
                                        c) the storage driver is specified through a storage class, and
                                        d) the storage driver supports dynamic volume provisioning through
                                           a PersistentVolumeClaim (see EphemeralVolumeSource for more
                                           information on the connection between this volume type
                                           and PersistentVolumeClaim).

                                        Use PersistentVolumeClaim or one of the vendor-specific
                                        APIs for volumes that persist for longer than the lifecycle
                                        of an individual pod.

                                        Use CSI for light-weight local ephemeral volumes if the CSI driver is meant to
                                        be used that way - see the documentation of the driver for
                                        more information.

                                        A pod can use both types of ephemeral volumes and
                                        persistent volumes at the same time.
                                      properties:
                                        volumeClaimTemplate:
                                          description: |-
                                            Will be used to create a stand-alone PVC to provision the volume.
                                            The pod in which this EphemeralVolumeSource is embedded will be the
                                            owner of the PVC, i.e. the PVC will be deleted together with the
                                            pod.  The name of the PVC will be `<pod name>-<volume name>` where
                                            `<volume name>` is the name from the `PodSpec.Volumes` array
                                            entry. Pod validation will reject the pod if the concatenated name
                                            is not valid for a PVC (for example, too long).

                                            An existing PVC with that name that is not owned by the pod
                                            will *not* be used for the pod to avoid using an unrelated
                                            volume by mistake. Starting the pod is then blocked until
                                            the unrelated PVC is removed. If such a pre-created PVC is
                                            meant to be used by the pod, the PVC has to updated with an
                                            owner reference to the pod once the pod exists. Normally
                                            this should not be necessary, but it may be useful when
                                            manually reconstructing a broken cluster.

                                            This field is read-only and no changes will be made by Kubernetes
                                            to the PVC after it has been created.

                                            Required, must not be nil.
                                          properties:
                                            metadata:
                                              description: |-
                                                May contain labels and annotations that will be copied into the PVC
                                                when creating it. No other fields are allowed and will be rejected during
                                                validation.
                                              type: object
                                            spec:
                                              description: |-
                                                The specification for the PersistentVolumeClaim. The entire content is
                                                copied unchanged into the PVC that gets created from this
                                                template. The same fields as in a PersistentVolumeClaim
                                                are also valid here.
                                              properties:
                                                accessModes:
                                                  description: |-
                                                    accessModes contains the desired access modes the volume should have.
                                                    More info: https://kubernetes.io/docs/concepts/storage/persistent-volumes#access-modes-1
                                                  items:
                                                    type: string
                                                  type: array
                                                  x-kubernetes-list-type: atomic
                                                dataSource:
                                                  description: |-
                                                    dataSource field can be used to specify either:
                                                    * An existing VolumeSnapshot object (snapshot.storage.k8s.io/VolumeSnapshot)
                                                    * An existing PVC (PersistentVolumeClaim)
                                                    If the provisioner or an external controller can support the specified data source,
                                                    it will create a new volume based on the contents of the specified data source.
                                                    When the AnyVolumeDataSource feature gate is enabled, dataSource contents will be copied to dataSourceRef,
                                                    and dataSourceRef contents will be copied to dataSource when dataSourceRef.namespace is not specified.
                                                    If the namespace is specified, then dataSourceRef will not be copied to dataSource.
                                                  properties:
                                                    apiGroup:
                                                      description: |-
                                                        APIGroup is the group for the resource being referenced.
                                                        If APIGroup is not specified, the specified Kind must be in the core API group.
                                                        For any other third-party types, APIGroup is required.
                                                      type: string
                                                    kind:
                                                      description: Kind is the type
                                                        of resource being referenced
                                                      type: string
                                                    name:
                                                      description: Name is the name
                                                        of resource being referenced
                                                      type: string
                                                  required:
                                                  - kind
                                                  - name
                                                  type: object
                                                  x-kubernetes-map-type: atomic
                                                dataSourceRef:
                                                  description: |-
                                                    dataSourceRef specifies the object from which to populate the volume with data, if a non-empty
                                                    volume is desired. This may be any object from a non-empty API group (non
                                                    core object) or a PersistentVolumeClaim object.
                                                    When this field is specified, volume binding will only succeed if the type of
                                                    the specified object matches some installed volume populator or dynamic
                                                    provisioner.
                                                    This field will replace the functionality of the dataSource field and as such
                                                    if both fields are non-empty, they must have the same value. For backwards
                                                    compatibility, when namespace isn't specified in dataSourceRef,
                                                    both fields (dataSource and dataSourceRef) will be set to the same
                                                    value automatically if one of them is empty and the other is non-empty.
                                                    When namespace is specified in dataSourceRef,
                                                    dataSource isn't set to the same value and must be empty.
                                                    There are three important differences between dataSource and dataSourceRef:
                                                    * While dataSource only allows two specific types of objects, dataSourceRef
                                                      allows any non-core object, as well as PersistentVolumeClaim objects.
                                                    * While dataSource ignores disallowed values (dropping them), dataSourceRef
                                                      preserves all values, and generates an error if a disallowed value is
                                                      specified.
                                                    * While dataSource only allows local objects, dataSourceRef allows objects
                                                      in any namespaces.
                                                    (Beta) Using this field requires the AnyVolumeDataSource feature gate to be enabled.
                                                    (Alpha) Using the namespace field of dataSourceRef requires the CrossNamespaceVolumeDataSource feature gate to be enabled.
                                                  properties:
                                                    apiGroup:
                                                      description: |-
                                                        APIGroup is the group for the resource being referenced.
                                                        If APIGroup is not specified, the specified Kind must be in the core API group.
                                                        For any other third-party types, APIGroup is required.
                                                      type: string
                                                    kind:
                                                      description: Kind is the type
                                                        of resource being referenced
                                                      type: string
                                                    name:
                                                      description: Name is the name
                                                        of resource being referenced
                                                      type: string
                                                    namespace:
                                                      description: |-
                                                        Namespace is the namespace of resource being referenced
                                                        Note that when a namespace is specified, a gateway.networking.k8s.io/ReferenceGrant object is required in the referent namespace to allow that namespace's owner to accept the reference. See the ReferenceGrant documentation for details.
                                                        (Alpha) This field requires the CrossNamespaceVolumeDataSource feature gate to be enabled.
                                                      type: string
                                                  required:
                                                  - kind
                                                  - name
                                                  type: object
                                                resources:
                                                  description: |-
                                                    resources represents the minimum resources the volume should have.
                                                    If RecoverVolumeExpansionFailure feature is enabled users are allowed to specify resource requirements
                                                    that are lower than previous value but must still be higher than capacity recorded in the
                                                    status field of the claim.
                                                    More info: https://kubernetes.io/docs/concepts/storage/persistent-volumes#resources
                                                  properties:
                                                    limits:
                                                      additionalProperties:
                                                        anyOf:
                                                        - type: integer
                                                        - type: string
                                                        pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                                        x-kubernetes-int-or-string: true
                                                      description: |-
                                                        Limits describes the maximum amount of compute resources allowed.
                                                        More info: https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/
                                                      type: object
                                                    requests:
                                                      additionalProperties:
                                                        anyOf:
                                                        - type: integer
                                                        - type: string
                                                        pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                                        x-kubernetes-int-or-string: true
                                                      description: |-
                                                        Requests describes the minimum amount of compute resources required.
                                                        If Requests is omitted for a container, it defaults to Limits if that is explicitly specified,
                                                        otherwise to an implementation-defined value. Requests cannot exceed Limits.
                                                        More info: https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/
                                                      type: object
                                                  type: object
                                                selector:
                                                  description: selector is a label
                                                    query over volumes to consider
                                                    for binding.
                                                  properties:
                                                    matchExpressions:
                                                      description: matchExpressions
                                                        is a list of label selector
                                                        requirements. The requirements
                                                        are ANDed.
                                                      items:
                                                        description: |-
                                                          A label selector requirement is a selector that contains values, a key, and an operator that
                                                          relates the key and values.
                                                        properties:
                                                          key:
                                                            description: key is the
                                                              label key that the selector
                                                              applies to.
                                                            type: string
                                                          operator:
                                                            description: |-
                                                              operator represents a key's relationship to a set of values.
                                                              Valid operators are In, NotIn, Exists and DoesNotExist.
                                                            type: string
                                                          values:
                                                            description: |-
                                                              values is an array of string values. If the operator is In or NotIn,
                                                              the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                              the values array must be empty. This array is replaced during a strategic
                                                              merge patch.
                                                            items:
                                                              type: string
                                                            type: array
                                                            x-kubernetes-list-type: atomic
                                                        required:
                                                        - key
                                                        - operator
                                                        type: object
                                                      type: array
                                                      x-kubernetes-list-type: atomic
                                                    matchLabels:
                                                      additionalProperties:
                                                        type: string
                                                      description: |-
                                                        matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                                        map is equivalent to an element of matchExpressions, whose key field is "key", the
                                                        operator is "In", and the values array contains only "value". The requirements are ANDed.
                                                      type: object
                                                  type: object
                                                  x-kubernetes-map-type: atomic
                                                storageClassName:
                                                  description: |-
                                                    storageClassName is the name of the StorageClass required by the claim.
                                                    More info: https://kubernetes.io/docs/concepts/storage/persistent-volumes#class-1
                                                  type: string
                                                volumeAttributesClassName:
                                                  description: |-
                                                    volumeAttributesClassName may be used to set the VolumeAttributesClass used by this claim.
                                                    If specified, the CSI driver will create or update the volume with the attributes defined
                                                    in the corresponding VolumeAttributesClass. This has a different purpose than storageClassName,
                                                    it can be changed after the claim is created. An empty string value means that no VolumeAttributesClass
                                                    will be applied to the claim but it's not allowed to reset this field to empty string once it is set.
                                                    If unspecified and the PersistentVolumeClaim is unbound, the default VolumeAttributesClass
                                                    will be set by the persistentvolume controller if it exists.
                                                    If the resource referred to by volumeAttributesClass does not exist, this PersistentVolumeClaim will be
                                                    set to a Pending state, as reflected by the modifyVolumeStatus field, until such as a resource
                                                    exists.
                                                    More info: https://kubernetes.io/docs/concepts/storage/volume-attributes-classes/
                                                    (Beta) Using this field requires the VolumeAttributesClass feature gate to be enabled (off by default).
                                                  type: string
                                                volumeMode:
                                                  description: |-
                                                    volumeMode defines what type of volume is required by the claim.
                                                    Value of Filesystem is implied when not included in claim spec.
                                                  type: string
                                                volumeName:
                                                  description: volumeName is the binding
                                                    reference to the PersistentVolume
                                                    backing this claim.
                                                  type: string
                                              type: object
                                          required:
                                          - spec
                                          type: object
                                      type: object
                                    fc:
                                      description: fc represents a Fibre Channel resource
                                        that is attached to a kubelet's host machine
                                        and then exposed to the pod.
                                      properties:
                                        fsType:
                                          description: |-
                                            fsType is the filesystem type to mount.
                                            Must be a filesystem type supported by the host operating system.
                                            Ex. "ext4", "xfs", "ntfs". Implicitly inferred to be "ext4" if unspecified.
                                          type: string
                                        lun:
                                          description: 'lun is Optional: FC target
                                            lun number'
                                          format: int32
                                          type: integer
                                        readOnly:
                                          description: |-
                                            readOnly is Optional: Defaults to false (read/write). ReadOnly here will force
                                            the ReadOnly setting in VolumeMounts.
                                          type: boolean
                                        targetWWNs:
                                          description: 'targetWWNs is Optional: FC
                                            target worldwide names (WWNs)'
                                          items:
                                            type: string
                                          type: array
                                          x-kubernetes-list-type: atomic
                                        wwids:
                                          description: |-
                                            wwids Optional: FC volume world wide identifiers (wwids)
                                            Either wwids or combination of targetWWNs and lun must be set, but not both simultaneously.
                                          items:
                                            type: string
                                          type: array
                                          x-kubernetes-list-type: atomic
                                      type: object
                                    flexVolume:
                                      description: |-
                                        flexVolume represents a generic volume resource that is
                                        provisioned/attached using an exec based plugin.
                                        Deprecated: FlexVolume is deprecated. Consider using a CSIDriver instead.
                                      properties:
                                        driver:
                                          description: driver is the name of the driver
                                            to use for this volume.
                                          type: string
                                        fsType:
                                          description: |-
                                            fsType is the filesystem type to mount.
                                            Must be a filesystem type supported by the host operating system.
                                            Ex. "ext4", "xfs", "ntfs". The default filesystem depends on FlexVolume script.
                                          type: string
                                        options:
                                          additionalProperties:
                                            type: string
                                          description: 'options is Optional: this
                                            field holds extra command options if any.'
                                          type: object
                                        readOnly:
                                          description: |-
                                            readOnly is Optional: defaults to false (read/write). ReadOnly here will force
                                            the ReadOnly setting in VolumeMounts.
                                          type: boolean
                                        secretRef:
                                          description: |-
                                            secretRef is Optional: secretRef is reference to the secret object containing
                                            sensitive information to pass to the plugin scripts. This may be
                                            empty if no secret object is specified. If the secret object
                                            contains more than one secret, all secrets are passed to the plugin
                                            scripts.
                                          properties:
                                            name:
                                              default: ""
                                              description: |-
                                                Name of the referent.
                                                This field is effectively required, but due to backwards compatibility is
                                                allowed to be empty. Instances of this type with an empty value here are
                                                almost certainly wrong.
                                                More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                              type: string
                                          type: object
                                          x-kubernetes-map-type: atomic
                                      required:
                                      - driver
                                      type: object
                                    flocker:
                                      description: |-
                                        flocker represents a Flocker volume attached to a kubelet's host machine. This depends on the Flocker control service being running.
                                        Deprecated: Flocker is deprecated and the in-tree flocker type is no longer supported.
                                      properties:
                                        datasetName:
                                          description: |-
                                            datasetName is Name of the dataset stored as metadata -> name on the dataset for Flocker
                                            should be considered as deprecated
                                          type: string
                                        datasetUUID:
                                          description: datasetUUID is the UUID of
                                            the dataset. This is unique identifier
                                            of a Flocker dataset
                                          type: string
                                      type: object
                                    gcePersistentDisk:
                                      description: |-
                                        gcePersistentDisk represents a GCE Disk resource that is attached to a
                                        kubelet's host machine and then exposed to the pod.
                                        Deprecated: GCEPersistentDisk is deprecated. All operations for the in-tree
                                        gcePersistentDisk type are redirected to the pd.csi.storage.gke.io CSI driver.
                                        More info: https://kubernetes.io/docs/concepts/storage/volumes#gcepersistentdisk
                                      properties:
                                        fsType:
                                          description: |-
                                            fsType is filesystem type of the volume that you want to mount.
                                            Tip: Ensure that the filesystem type is supported by the host operating system.
                                            Examples: "ext4", "xfs", "ntfs". Implicitly inferred to be "ext4" if unspecified.
                                            More info: https://kubernetes.io/docs/concepts/storage/volumes#gcepersistentdisk
                                          type: string
                                        partition:
                                          description: |-
                                            partition is the partition in the volume that you want to mount.
                                            If omitted, the default is to mount by volume name.
                                            Examples: For volume /dev/sda1, you specify the partition as "1".
                                            Similarly, the volume partition for /dev/sda is "0" (or you can leave the property empty).
                                            More info: https://kubernetes.io/docs/concepts/storage/volumes#gcepersistentdisk
                                          format: int32
                                          type: integer
                                        pdName:
                                          description: |-
                                            pdName is unique name of the PD resource in GCE. Used to identify the disk in GCE.
                                            More info: https://kubernetes.io/docs/concepts/storage/volumes#gcepersistentdisk
                                          type: string
                                        readOnly:
                                          description: |-
                                            readOnly here will force the ReadOnly setting in VolumeMounts.
                                            Defaults to false.
                                            More info: https://kubernetes.io/docs/concepts/storage/volumes#gcepersistentdisk
                                          type: boolean
                                      required:
                                      - pdName
                                      type: object
                                    gitRepo:
                                      description: |-
                                        gitRepo represents a git repository at a particular revision.
                                        Deprecated: GitRepo is deprecated. To provision a container with a git repo, mount an
                                        EmptyDir into an InitContainer that clones the repo using git, then mount the EmptyDir
                                        into the Pod's container.
                                      properties:
                                        directory:
                                          description: |-
                                            directory is the target directory name.
                                            Must not contain or start with '..'.  If '.' is supplied, the volume directory will be the
                                            git repository.  Otherwise, if specified, the volume will contain the git repository in
                                            the subdirectory with the given name.
                                          type: string
                                        repository:
                                          description: repository is the URL
                                          type: string
                                        revision:
                                          description: revision is the commit hash
                                            for the specified revision.
                                          type: string
                                      required:
                                      - repository
                                      type: object
                                    glusterfs:
                                      description: |-
                                        glusterfs represents a Glusterfs mount on the host that shares a pod's lifetime.
                                        Deprecated: Glusterfs is deprecated and the in-tree glusterfs type is no longer supported.
                                        More info: https://examples.k8s.io/volumes/glusterfs/README.md
                                      properties:
                                        endpoints:
                                          description: |-
                                            endpoints is the endpoint name that details Glusterfs topology.
                                            More info: https://examples.k8s.io/volumes/glusterfs/README.md#create-a-pod
                                          type: string
                                        path:
                                          description: |-
                                            path is the Glusterfs volume path.
                                            More info: https://examples.k8s.io/volumes/glusterfs/README.md#create-a-pod
                                          type: string
                                        readOnly:
                                          description: |-
                                            readOnly here will force the Glusterfs volume to be mounted with read-only permissions.
                                            Defaults to false.
                                            More info: https://examples.k8s.io/volumes/glusterfs/README.md#create-a-pod
                                          type: boolean
                                      required:
                                      - endpoints
                                      - path
                                      type: object
                                    hostPath:
                                      description: |-
                                        hostPath represents a pre-existing file or directory on the host
                                        machine that is directly exposed to the container. This is generally
                                        used for system agents or other privileged things that are allowed
                                        to see the host machine. Most containers will NOT need this.
                                        More info: https://kubernetes.io/docs/concepts/storage/volumes#hostpath
                                      properties:
                                        path:
                                          description: |-
                                            path of the directory on the host.
                                            If the path is a symlink, it will follow the link to the real path.
                                            More info: https://kubernetes.io/docs/concepts/storage/volumes#hostpath
                                          type: string
                                        type:
                                          description: |-
                                            type for HostPath Volume
                                            Defaults to ""
                                            More info: https://kubernetes.io/docs/concepts/storage/volumes#hostpath
                                          type: string
                                      required:
                                      - path
                                      type: object
                                    image:
                                      description: |-
                                        image represents an OCI object (a container image or artifact) pulled and mounted on the kubelet's host machine.
                                        The volume is resolved at pod startup depending on which PullPolicy value is provided:

                                        - Always: the kubelet always attempts to pull the reference. Container creation will fail If the pull fails.
                                        - Never: the kubelet never pulls the reference and only uses a local image or artifact. Container creation will fail if the reference isn't present.
                                        - IfNotPresent: the kubelet pulls if the reference isn't already present on disk. Container creation will fail if the reference isn't present and the pull fails.

                                        The volume gets re-resolved if the pod gets deleted and recreated, which means that new remote content will become available on pod recreation.
                                        A failure to resolve or pull the image during pod startup will block containers from starting and may add significant latency. Failures will be retried using normal volume backoff and will be reported on the pod reason and message.
                                        The types of objects that may be mounted by this volume are defined by the container runtime implementation on a host machine and at minimum must include all valid types supported by the container image field.
                                        The OCI object gets mounted in a single directory (spec.containers[*].volumeMounts.mountPath) by merging the manifest layers in the same way as for container images.
                                        The volume will be mounted read-only (ro) and non-executable files (noexec).
                                        Sub path mounts for containers are not supported (spec.containers[*].volumeMounts.subpath) before 1.33.
                                        The field spec.securityContext.fsGroupChangePolicy has no effect on this volume type.
                                      properties:
                                        pullPolicy:
                                          description: |-
                                            Policy for pulling OCI objects. Possible values are:
                                            Always: the kubelet always attempts to pull the reference. Container creation will fail If the pull fails.
                                            Never: the kubelet never pulls the reference and only uses a local image or artifact. Container creation will fail if the reference isn't present.
                                            IfNotPresent: the kubelet pulls if the reference isn't already present on disk. Container creation will fail if the reference isn't present and the pull fails.
                                            Defaults to Always if :latest tag is specified, or IfNotPresent otherwise.
                                          type: string
                                        reference:
                                          description: |-
                                            Required: Image or artifact reference to be used.
                                            Behaves in the same way as pod.spec.containers[*].image.
                                            Pull secrets will be assembled in the same way as for the container image by looking up node credentials, SA image pull secrets, and pod spec image pull secrets.
                                            More info: https://kubernetes.io/docs/concepts/containers/images
                                            This field is optional to allow higher level config management to default or override
                                            container images in workload controllers like Deployments and StatefulSets.
                                          type: string
                                      type: object
                                    iscsi:
                                      description: |-
                                        iscsi represents an ISCSI Disk resource that is attached to a
                                        kubelet's host machine and then exposed to the pod.
                                        More info: https://examples.k8s.io/volumes/iscsi/README.md
                                      properties:
                                        chapAuthDiscovery:
                                          description: chapAuthDiscovery defines whether
                                            support iSCSI Discovery CHAP authentication
                                          type: boolean
                                        chapAuthSession:
                                          description: chapAuthSession defines whether
                                            support iSCSI Session CHAP authentication
                                          type: boolean
                                        fsType:
                                          description: |-
                                            fsType is the filesystem type of the volume that you want to mount.
                                            Tip: Ensure that the filesystem type is supported by the host operating system.
                                            Examples: "ext4", "xfs", "ntfs". Implicitly inferred to be "ext4" if unspecified.
                                            More info: https://kubernetes.io/docs/concepts/storage/volumes#iscsi
                                          type: string
                                        initiatorName:
                                          description: |-
                                            initiatorName is the custom iSCSI Initiator Name.
                                            If initiatorName is specified with iscsiInterface simultaneously, new iSCSI interface
                                            <target portal>:<volume name> will be created for the connection.
                                          type: string
                                        iqn:
                                          description: iqn is the target iSCSI Qualified
                                            Name.
                                          type: string
                                        iscsiInterface:
                                          default: default
                                          description: |-
                                            iscsiInterface is the interface Name that uses an iSCSI transport.
                                            Defaults to 'default' (tcp).
                                          type: string
                                        lun:
                                          description: lun represents iSCSI Target
                                            Lun number.
                                          format: int32
                                          type: integer
                                        portals:
                                          description: |-
                                            portals is the iSCSI Target Portal List. The portal is either an IP or ip_addr:port if the port
                                            is other than default (typically TCP ports 860 and 3260).
                                          items:
                                            type: string
                                          type: array
                                          x-kubernetes-list-type: atomic
                                        readOnly:
                                          description: |-
                                            readOnly here will force the ReadOnly setting in VolumeMounts.
                                            Defaults to false.
                                          type: boolean
                                        secretRef:
                                          description: secretRef is the CHAP Secret
                                            for iSCSI target and initiator authentication
                                          properties:
                                            name:
                                              default: ""
                                              description: |-
                                                Name of the referent.
                                                This field is effectively required, but due to backwards compatibility is
                                                allowed to be empty. Instances of this type with an empty value here are
                                                almost certainly wrong.
                                                More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                              type: string
                                          type: object
                                          x-kubernetes-map-type: atomic
                                        targetPortal:
                                          description: |-
                                            targetPortal is iSCSI Target Portal. The Portal is either an IP or ip_addr:port if the port
                                            is other than default (typically TCP ports 860 and 3260).
                                          type: string
                                      required:
                                      - iqn
                                      - lun
                                      - targetPortal
                                      type: object
                                    name:
                                      description: |-
                                        name of the volume.
                                        Must be a DNS_LABEL and unique within the pod.
                                        More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                      type: string
                                    nfs:
                                      description: |-
                                        nfs represents an NFS mount on the host that shares a pod's lifetime
                                        More info: https://kubernetes.io/docs/concepts/storage/volumes#nfs
                                      properties:
                                        path:
                                          description: |-
                                            path that is exported by the NFS server.
                                            More info: https://kubernetes.io/docs/concepts/storage/volumes#nfs
                                          type: string
                                        readOnly:
                                          description: |-
                                            readOnly here will force the NFS export to be mounted with read-only permissions.
                                            Defaults to false.
                                            More info: https://kubernetes.io/docs/concepts/storage/volumes#nfs
                                          type: boolean
                                        server:
                                          description: |-
                                            server is the hostname or IP address of the NFS server.
                                            More info: https://kubernetes.io/docs/concepts/storage/volumes#nfs
                                          type: string
                                      required:
                                      - path
                                      - server
                                      type: object
                                    persistentVolumeClaim:
                                      description: |-
                                        persistentVolumeClaimVolumeSource represents a reference to a
                                        PersistentVolumeClaim in the same namespace.
                                        More info: https://kubernetes.io/docs/concepts/storage/persistent-volumes#persistentvolumeclaims
                                      properties:
                                        claimName:
                                          description: |-
                                            claimName is the name of a PersistentVolumeClaim in the same namespace as the pod using this volume.
                                            More info: https://kubernetes.io/docs/concepts/storage/persistent-volumes#persistentvolumeclaims
                                          type: string
                                        readOnly:
                                          description: |-
                                            readOnly Will force the ReadOnly setting in VolumeMounts.
                                            Default false.
                                          type: boolean
                                      required:
                                      - claimName
                                      type: object
                                    photonPersistentDisk:
                                      description: |-
                                        photonPersistentDisk represents a PhotonController persistent disk attached and mounted on kubelets host machine.
                                        Deprecated: PhotonPersistentDisk is deprecated and the in-tree photonPersistentDisk type is no longer supported.
                                      properties:
                                        fsType:
                                          description: |-
                                            fsType is the filesystem type to mount.
                                            Must be a filesystem type supported by the host operating system.
                                            Ex. "ext4", "xfs", "ntfs". Implicitly inferred to be "ext4" if unspecified.
                                          type: string
                                        pdID:
                                          description: pdID is the ID that identifies
                                            Photon Controller persistent disk
                                          type: string
                                      required:
                                      - pdID
                                      type: object
                                    portworxVolume:
                                      description: |-
                                        portworxVolume represents a portworx volume attached and mounted on kubelets host machine.
                                        Deprecated: PortworxVolume is deprecated. All operations for the in-tree portworxVolume type
                                        are redirected to the pxd.portworx.com CSI driver when the CSIMigrationPortworx feature-gate
                                        is on.
                                      properties:
                                        fsType:
                                          description: |-
                                            fSType represents the filesystem type to mount
                                            Must be a filesystem type supported by the host operating system.
                                            Ex. "ext4", "xfs". Implicitly inferred to be "ext4" if unspecified.
                                          type: string
                                        readOnly:
                                          description: |-
                                            readOnly defaults to false (read/write). ReadOnly here will force
                                            the ReadOnly setting in VolumeMounts.
                                          type: boolean
                                        volumeID:
                                          description: volumeID uniquely identifies
                                            a Portworx volume
                                          type: string
                                      required:
                                      - volumeID
                                      type: object
                                    projected:
                                      description: projected items for all in one
                                        resources secrets, configmaps, and downward
                                        API
                                      properties:
                                        defaultMode:
                                          description: |-
                                            defaultMode are the mode bits used to set permissions on created files by default.
                                            Must be an octal value between 0000 and 0777 or a decimal value between 0 and 511.
                                            YAML accepts both octal and decimal values, JSON requires decimal values for mode bits.
                                            Directories within the path are not affected by this setting.
                                            This might be in conflict with other options that affect the file
                                            mode, like fsGroup, and the result can be other mode bits set.
                                          format: int32
                                          type: integer
                                        sources:
                                          description: |-
                                            sources is the list of volume projections. Each entry in this list
                                            handles one source.
                                          items:
                                            description: |-
                                              Projection that may be projected along with other supported volume types.
                                              Exactly one of these fields must be set.
                                            properties:
                                              clusterTrustBundle:
                                                description: |-
                                                  ClusterTrustBundle allows a pod to access the `.spec.trustBundle` field
                                                  of ClusterTrustBundle objects in an auto-updating file.

                                                  Alpha, gated by the ClusterTrustBundleProjection feature gate.

                                                  ClusterTrustBundle objects can either be selected by name, or by the
                                                  combination of signer name and a label selector.

                                                  Kubelet performs aggressive normalization of the PEM contents written
                                                  into the pod filesystem.  Esoteric PEM features such as inter-block
                                                  comments and block headers are stripped.  Certificates are deduplicated.
                                                  The ordering of certificates within the file is arbitrary, and Kubelet
                                                  may change the order over time.
                                                properties:
                                                  labelSelector:
                                                    description: |-
                                                      Select all ClusterTrustBundles that match this label selector.  Only has
                                                      effect if signerName is set.  Mutually-exclusive with name.  If unset,
                                                      interpreted as "match nothing".  If set but empty, interpreted as "match
                                                      everything".
                                                    properties:
                                                      matchExpressions:
                                                        description: matchExpressions
                                                          is a list of label selector
                                                          requirements. The requirements
                                                          are ANDed.
                                                        items:
                                                          description: |-
                                                            A label selector requirement is a selector that contains values, a key, and an operator that
                                                            relates the key and values.
                                                          properties:
                                                            key:
                                                              description: key is
                                                                the label key that
                                                                the selector applies
                                                                to.
                                                              type: string
                                                            operator:
                                                              description: |-
                                                                operator represents a key's relationship to a set of values.
                                                                Valid operators are In, NotIn, Exists and DoesNotExist.
                                                              type: string
                                                            values:
                                                              description: |-
                                                                values is an array of string values. If the operator is In or NotIn,
                                                                the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                                the values array must be empty. This array is replaced during a strategic
                                                                merge patch.
                                                              items:
                                                                type: string
                                                              type: array
                                                              x-kubernetes-list-type: atomic
                                                          required:
                                                          - key
                                                          - operator
                                                          type: object
                                                        type: array
                                                        x-kubernetes-list-type: atomic
                                                      matchLabels:
                                                        additionalProperties:
                                                          type: string
                                                        description: |-
                                                          matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                                          map is equivalent to an element of matchExpressions, whose key field is "key", the
                                                          operator is "In", and the values array contains only "value". The requirements are ANDed.
                                                        type: object
                                                    type: object
                                                    x-kubernetes-map-type: atomic
                                                  name:
                                                    description: |-
                                                      Select a single ClusterTrustBundle by object name.  Mutually-exclusive
                                                      with signerName and labelSelector.
                                                    type: string
                                                  optional:
                                                    description: |-
                                                      If true, don't block pod startup if the referenced ClusterTrustBundle(s)
                                                      aren't available.  If using name, then the named ClusterTrustBundle is
                                                      allowed not to exist.  If using signerName, then the combination of
                                                      signerName and labelSelector is allowed to match zero
                                                      ClusterTrustBundles.
                                                    type: boolean
                                                  path:
                                                    description: Relative path from
                                                      the volume root to write the
                                                      bundle.
                                                    type: string
                                                  signerName:
                                                    description: |-
                                                      Select all ClusterTrustBundles that match this signer name.
                                                      Mutually-exclusive with name.  The contents of all selected
                                                      ClusterTrustBundles will be unified and deduplicated.
                                                    type: string
                                                required:
                                                - path
                                                type: object
                                              configMap:
                                                description: configMap information
                                                  about the configMap data to project
                                                properties:
                                                  items:
                                                    description: |-
                                                      items if unspecified, each key-value pair in the Data field of the referenced
                                                      ConfigMap will be projected into the volume as a file whose name is the
                                                      key and content is the value. If specified, the listed keys will be
                                                      projected into the specified paths, and unlisted keys will not be
                                                      present. If a key is specified which is not present in the ConfigMap,
                                                      the volume setup will error unless it is marked optional. Paths must be
                                                      relative and may not contain the '..' path or start with '..'.
                                                    items:
                                                      description: Maps a string key
                                                        to a path within a volume.
                                                      properties:
                                                        key:
                                                          description: key is the
                                                            key to project.
                                                          type: string
                                                        mode:
                                                          description: |-
                                                            mode is Optional: mode bits used to set permissions on this file.
                                                            Must be an octal value between 0000 and 0777 or a decimal value between 0 and 511.
                                                            YAML accepts both octal and decimal values, JSON requires decimal values for mode bits.
                                                            If not specified, the volume defaultMode will be used.
                                                            This might be in conflict with other options that affect the file
                                                            mode, like fsGroup, and the result can be other mode bits set.
                                                          format: int32
                                                          type: integer
                                                        path:
                                                          description: |-
                                                            path is the relative path of the file to map the key to.
                                                            May not be an absolute path.
                                                            May not contain the path element '..'.
                                                            May not start with the string '..'.
                                                          type: string
                                                      required:
                                                      - key
                                                      - path
                                                      type: object
                                                    type: array
                                                    x-kubernetes-list-type: atomic
                                                  name:
                                                    default: ""
                                                    description: |-
                                                      Name of the referent.
                                                      This field is effectively required, but due to backwards compatibility is
                                                      allowed to be empty. Instances of this type with an empty value here are
                                                      almost certainly wrong.
                                                      More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                                    type: string
                                                  optional:
                                                    description: optional specify
                                                      whether the ConfigMap or its
                                                      keys must be defined
                                                    type: boolean
                                                type: object
                                                x-kubernetes-map-type: atomic
                                              downwardAPI:
                                                description: downwardAPI information
                                                  about the downwardAPI data to project
                                                properties:
                                                  items:
                                                    description: Items is a list of
                                                      DownwardAPIVolume file
                                                    items:
                                                      description: DownwardAPIVolumeFile
                                                        represents information to
                                                        create the file containing
                                                        the pod field
                                                      properties:
                                                        fieldRef:
                                                          description: 'Required:
                                                            Selects a field of the
                                                            pod: only annotations,
                                                            labels, name, namespace
                                                            and uid are supported.'
                                                          properties:
                                                            apiVersion:
                                                              description: Version
                                                                of the schema the
                                                                FieldPath is written
                                                                in terms of, defaults
                                                                to "v1".
                                                              type: string
                                                            fieldPath:
                                                              description: Path of
                                                                the field to select
                                                                in the specified API
                                                                version.
                                                              type: string
                                                          required:
                                                          - fieldPath
                                                          type: object
                                                          x-kubernetes-map-type: atomic
                                                        mode:
                                                          description: |-
                                                            Optional: mode bits used to set permissions on this file, must be an octal value
                                                            between 0000 and 0777 or a decimal value between 0 and 511.
                                                            YAML accepts both octal and decimal values, JSON requires decimal values for mode bits.
                                                            If not specified, the volume defaultMode will be used.
                                                            This might be in conflict with other options that affect the file
                                                            mode, like fsGroup, and the result can be other mode bits set.
                                                          format: int32
                                                          type: integer
                                                        path:
                                                          description: 'Required:
                                                            Path is  the relative
                                                            path name of the file
                                                            to be created. Must not
                                                            be absolute or contain
                                                            the ''..'' path. Must
                                                            be utf-8 encoded. The
                                                            first item of the relative
                                                            path must not start with
                                                            ''..'''
                                                          type: string
                                                        resourceFieldRef:
                                                          description: |-
                                                            Selects a resource of the container: only resources limits and requests
                                                            (limits.cpu, limits.memory, requests.cpu and requests.memory) are currently supported.
                                                          properties:
                                                            containerName:
                                                              description: 'Container
                                                                name: required for
                                                                volumes, optional
                                                                for env vars'
                                                              type: string
                                                            divisor:
                                                              anyOf:
                                                              - type: integer
                                                              - type: string
                                                              description: Specifies
                                                                the output format
                                                                of the exposed resources,
                                                                defaults to "1"
                                                              pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                                              x-kubernetes-int-or-string: true
                                                            resource:
                                                              description: 'Required:
                                                                resource to select'
                                                              type: string
                                                          required:
                                                          - resource
                                                          type: object
                                                          x-kubernetes-map-type: atomic
                                                      required:
                                                      - path
                                                      type: object
                                                    type: array
                                                    x-kubernetes-list-type: atomic
                                                type: object
                                              secret:
                                                description: secret information about
                                                  the secret data to project
                                                properties:
                                                  items:
                                                    description: |-
                                                      items if unspecified, each key-value pair in the Data field of the referenced
                                                      Secret will be projected into the volume as a file whose name is the
                                                      key and content is the value. If specified, the listed keys will be
                                                      projected into the specified paths, and unlisted keys will not be
                                                      present. If a key is specified which is not present in the Secret,
                                                      the volume setup will error unless it is marked optional. Paths must be
                                                      relative and may not contain the '..' path or start with '..'.
                                                    items:
                                                      description: Maps a string key
                                                        to a path within a volume.
                                                      properties:
                                                        key:
                                                          description: key is the
                                                            key to project.
                                                          type: string
                                                        mode:
                                                          description: |-
                                                            mode is Optional: mode bits used to set permissions on this file.
                                                            Must be an octal value between 0000 and 0777 or a decimal value between 0 and 511.
                                                            YAML accepts both octal and decimal values, JSON requires decimal values for mode bits.
                                                            If not specified, the volume defaultMode will be used.
                                                            This might be in conflict with other options that affect the file
                                                            mode, like fsGroup, and the result can be other mode bits set.
                                                          format: int32
                                                          type: integer
                                                        path:
                                                          description: |-
                                                            path is the relative path of the file to map the key to.
                                                            May not be an absolute path.
                                                            May not contain the path element '..'.
                                                            May not start with the string '..'.
                                                          type: string
                                                      required:
                                                      - key
                                                      - path
                                                      type: object
                                                    type: array
                                                    x-kubernetes-list-type: atomic
                                                  name:
                                                    default: ""
                                                    description: |-
                                                      Name of the referent.
                                                      This field is effectively required, but due to backwards compatibility is
                                                      allowed to be empty. Instances of this type with an empty value here are
                                                      almost certainly wrong.
                                                      More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                                    type: string
                                                  optional:
                                                    description: optional field specify
                                                      whether the Secret or its key
                                                      must be defined
                                                    type: boolean
                                                type: object
                                                x-kubernetes-map-type: atomic
                                              serviceAccountToken:
                                                description: serviceAccountToken is
                                                  information about the serviceAccountToken
                                                  data to project
                                                properties:
                                                  audience:
                                                    description: |-
                                                      audience is the intended audience of the token. A recipient of a token
                                                      must identify itself with an identifier specified in the audience of the
                                                      token, and otherwise should reject the token. The audience defaults to the
                                                      identifier of the apiserver.
                                                    type: string
                                                  expirationSeconds:
                                                    description: |-
                                                      expirationSeconds is the requested duration of validity of the service
                                                      account token. As the token approaches expiration, the kubelet volume
                                                      plugin will proactively rotate the service account token. The kubelet will
                                                      start trying to rotate the token if the token is older than 80 percent of
                                                      its time to live or if the token is older than 24 hours.Defaults to 1 hour
                                                      and must be at least 10 minutes.
                                                    format: int64
                                                    type: integer
                                                  path:
                                                    description: |-
                                                      path is the path relative to the mount point of the file to project the
                                                      token into.
                                                    type: string
                                                required:
                                                - path
                                                type: object
                                            type: object
                                          type: array
                                          x-kubernetes-list-type: atomic
                                      type: object
                                    quobyte:
                                      description: |-
                                        quobyte represents a Quobyte mount on the host that shares a pod's lifetime.
                                        Deprecated: Quobyte is deprecated and the in-tree quobyte type is no longer supported.
                                      properties:
                                        group:
                                          description: |-
                                            group to map volume access to
                                            Default is no group
                                          type: string
                                        readOnly:
                                          description: |-
                                            readOnly here will force the Quobyte volume to be mounted with read-only permissions.
                                            Defaults to false.
                                          type: boolean
                                        registry:
                                          description: |-
                                            registry represents a single or multiple Quobyte Registry services
                                            specified as a string as host:port pair (multiple entries are separated with commas)
                                            which acts as the central registry for volumes
                                          type: string
                                        tenant:
                                          description: |-
                                            tenant owning the given Quobyte volume in the Backend
                                            Used with dynamically provisioned Quobyte volumes, value is set by the plugin
                                          type: string
                                        user:
                                          description: |-
                                            user to map volume access to
                                            Defaults to serivceaccount user
                                          type: string
                                        volume:
                                          description: volume is a string that references
                                            an already created Quobyte volume by name.
                                          type: string
                                      required:
                                      - registry
                                      - volume
                                      type: object
                                    rbd:
                                      description: |-
                                        rbd represents a Rados Block Device mount on the host that shares a pod's lifetime.
                                        Deprecated: RBD is deprecated and the in-tree rbd type is no longer supported.
                                        More info: https://examples.k8s.io/volumes/rbd/README.md
                                      properties:
                                        fsType:
                                          description: |-
                                            fsType is the filesystem type of the volume that you want to mount.
                                            Tip: Ensure that the filesystem type is supported by the host operating system.
                                            Examples: "ext4", "xfs", "ntfs". Implicitly inferred to be "ext4" if unspecified.
                                            More info: https://kubernetes.io/docs/concepts/storage/volumes#rbd
                                          type: string
                                        image:
                                          description: |-
                                            image is the rados image name.
                                            More info: https://examples.k8s.io/volumes/rbd/README.md#how-to-use-it
                                          type: string
                                        keyring:
                                          default: /etc/ceph/keyring
                                          description: |-
                                            keyring is the path to key ring for RBDUser.
                                            Default is /etc/ceph/keyring.
                                            More info: https://examples.k8s.io/volumes/rbd/README.md#how-to-use-it
                                          type: string
                                        monitors:
                                          description: |-
                                            monitors is a collection of Ceph monitors.
                                            More info: https://examples.k8s.io/volumes/rbd/README.md#how-to-use-it
                                          items:
                                            type: string
                                          type: array
                                          x-kubernetes-list-type: atomic
                                        pool:
                                          default: rbd
                                          description: |-
                                            pool is the rados pool name.
                                            Default is rbd.
                                            More info: https://examples.k8s.io/volumes/rbd/README.md#how-to-use-it
                                          type: string
                                        readOnly:
                                          description: |-
                                            readOnly here will force the ReadOnly setting in VolumeMounts.
                                            Defaults to false.
                                            More info: https://examples.k8s.io/volumes/rbd/README.md#how-to-use-it
                                          type: boolean
                                        secretRef:
                                          description: |-
                                            secretRef is name of the authentication secret for RBDUser. If provided
                                            overrides keyring.
                                            Default is nil.
                                            More info: https://examples.k8s.io/volumes/rbd/README.md#how-to-use-it
                                          properties:
                                            name:
                                              default: ""
                                              description: |-
                                                Name of the referent.
                                                This field is effectively required, but due to backwards compatibility is
                                                allowed to be empty. Instances of this type with an empty value here are
                                                almost certainly wrong.
                                                More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                              type: string
                                          type: object
                                          x-kubernetes-map-type: atomic
                                        user:
                                          default: admin
                                          description: |-
                                            user is the rados user name.
                                            Default is admin.
                                            More info: https://examples.k8s.io/volumes/rbd/README.md#how-to-use-it
                                          type: string
                                      required:
                                      - image
                                      - monitors
                                      type: object
                                    scaleIO:
                                      description: |-
                                        scaleIO represents a ScaleIO persistent volume attached and mounted on Kubernetes nodes.
                                        Deprecated: ScaleIO is deprecated and the in-tree scaleIO type is no longer supported.
                                      properties:
                                        fsType:
                                          default: xfs
                                          description: |-
                                            fsType is the filesystem type to mount.
                                            Must be a filesystem type supported by the host operating system.
                                            Ex. "ext4", "xfs", "ntfs".
                                            Default is "xfs".
                                          type: string
                                        gateway:
                                          description: gateway is the host address
                                            of the ScaleIO API Gateway.
                                          type: string
                                        protectionDomain:
                                          description: protectionDomain is the name
                                            of the ScaleIO Protection Domain for the
                                            configured storage.
                                          type: string
                                        readOnly:
                                          description: |-
                                            readOnly Defaults to false (read/write). ReadOnly here will force
                                            the ReadOnly setting in VolumeMounts.
                                          type: boolean
                                        secretRef:
                                          description: |-
                                            secretRef references to the secret for ScaleIO user and other
                                            sensitive information. If this is not provided, Login operation will fail.
                                          properties:
                                            name:
                                              default: ""
                                              description: |-
                                                Name of the referent.
                                                This field is effectively required, but due to backwards compatibility is
                                                allowed to be empty. Instances of this type with an empty value here are
                                                almost certainly wrong.
                                                More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                              type: string
                                          type: object
                                          x-kubernetes-map-type: atomic
                                        sslEnabled:
                                          description: sslEnabled Flag enable/disable
                                            SSL communication with Gateway, default
                                            false
                                          type: boolean
                                        storageMode:
                                          default: ThinProvisioned
                                          description: |-
                                            storageMode indicates whether the storage for a volume should be ThickProvisioned or ThinProvisioned.
                                            Default is ThinProvisioned.
                                          type: string
                                        storagePool:
                                          description: storagePool is the ScaleIO
                                            Storage Pool associated with the protection
                                            domain.
                                          type: string
                                        system:
                                          description: system is the name of the storage
                                            system as configured in ScaleIO.
                                          type: string
                                        volumeName:
                                          description: |-
                                            volumeName is the name of a volume already created in the ScaleIO system
                                            that is associated with this volume source.
                                          type: string
                                      required:
                                      - gateway
                                      - secretRef
                                      - system
                                      type: object
                                    secret:
                                      description: |-
                                        secret represents a secret that should populate this volume.
                                        More info: https://kubernetes.io/docs/concepts/storage/volumes#secret
                                      properties:
                                        defaultMode:
                                          description: |-
                                            defaultMode is Optional: mode bits used to set permissions on created files by default.
                                            Must be an octal value between 0000 and 0777 or a decimal value between 0 and 511.
                                            YAML accepts both octal and decimal values, JSON requires decimal values
                                            for mode bits. Defaults to 0644.
                                            Directories within the path are not affected by this setting.
                                            This might be in conflict with other options that affect the file
                                            mode, like fsGroup, and the result can be other mode bits set.
                                          format: int32
                                          type: integer
                                        items:
                                          description: |-
                                            items If unspecified, each key-value pair in the Data field of the referenced
                                            Secret will be projected into the volume as a file whose name is the
                                            key and content is the value. If specified, the listed keys will be
                                            projected into the specified paths, and unlisted keys will not be
                                            present. If a key is specified which is not present in the Secret,
                                            the volume setup will error unless it is marked optional. Paths must be
                                            relative and may not contain the '..' path or start with '..'.
                                          items:
                                            description: Maps a string key to a path
                                              within a volume.
                                            properties:
                                              key:
                                                description: key is the key to project.
                                                type: string
                                              mode:
                                                description: |-
                                                  mode is Optional: mode bits used to set permissions on this file.
                                                  Must be an octal value between 0000 and 0777 or a decimal value between 0 and 511.
                                                  YAML accepts both octal and decimal values, JSON requires decimal values for mode bits.
                                                  If not specified, the volume defaultMode will be used.
                                                  This might be in conflict with other options that affect the file
                                                  mode, like fsGroup, and the result can be other mode bits set.
                                                format: int32
                                                type: integer
                                              path:
                                                description: |-
                                                  path is the relative path of the file to map the key to.
                                                  May not be an absolute path.
                                                  May not contain the path element '..'.
                                                  May not start with the string '..'.
                                                type: string
                                            required:
                                            - key
                                            - path
                                            type: object
                                          type: array
                                          x-kubernetes-list-type: atomic
                                        optional:
                                          description: optional field specify whether
                                            the Secret or its keys must be defined
                                          type: boolean
                                        secretName:
                                          description: |-
                                            secretName is the name of the secret in the pod's namespace to use.
                                            More info: https://kubernetes.io/docs/concepts/storage/volumes#secret
                                          type: string
                                      type: object
                                    storageos:
                                      description: |-
                                        storageOS represents a StorageOS volume attached and mounted on Kubernetes nodes.
                                        Deprecated: StorageOS is deprecated and the in-tree storageos type is no longer supported.
                                      properties:
                                        fsType:
                                          description: |-
                                            fsType is the filesystem type to mount.
                                            Must be a filesystem type supported by the host operating system.
                                            Ex. "ext4", "xfs", "ntfs". Implicitly inferred to be "ext4" if unspecified.
                                          type: string
                                        readOnly:
                                          description: |-
                                            readOnly defaults to false (read/write). ReadOnly here will force
                                            the ReadOnly setting in VolumeMounts.
                                          type: boolean
                                        secretRef:
                                          description: |-
                                            secretRef specifies the secret to use for obtaining the StorageOS API
                                            credentials.  If not specified, default values will be attempted.
                                          properties:
                                            name:
                                              default: ""
                                              description: |-
                                                Name of the referent.
                                                This field is effectively required, but due to backwards compatibility is
                                                allowed to be empty. Instances of this type with an empty value here are
                                                almost certainly wrong.
                                                More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                              type: string
                                          type: object
                                          x-kubernetes-map-type: atomic
                                        volumeName:
                                          description: |-
                                            volumeName is the human-readable name of the StorageOS volume.  Volume
                                            names are only unique within a namespace.
                                          type: string
                                        volumeNamespace:
                                          description: |-
                                            volumeNamespace specifies the scope of the volume within StorageOS.  If no
                                            namespace is specified then the Pod's namespace will be used.  This allows the
                                            Kubernetes name scoping to be mirrored within StorageOS for tighter integration.
                                            Set VolumeName to any name to override the default behaviour.
                                            Set to "default" if you are not using namespaces within StorageOS.
                                            Namespaces that do not pre-exist within StorageOS will be created.
                                          type: string
                                      type: object
                                    vsphereVolume:
                                      description: |-
                                        vsphereVolume represents a vSphere volume attached and mounted on kubelets host machine.
                                        Deprecated: VsphereVolume is deprecated. All operations for the in-tree vsphereVolume type
                                        are redirected to the csi.vsphere.vmware.com CSI driver.
                                      properties:
                                        fsType:
                                          description: |-
                                            fsType is filesystem type to mount.
                                            Must be a filesystem type supported by the host operating system.
                                            Ex. "ext4", "xfs", "ntfs". Implicitly inferred to be "ext4" if unspecified.
                                          type: string
                                        storagePolicyID:
                                          description: storagePolicyID is the storage
                                            Policy Based Management (SPBM) profile
                                            ID associated with the StoragePolicyName.
                                          type: string
                                        storagePolicyName:
                                          description: storagePolicyName is the storage
                                            Policy Based Management (SPBM) profile
                                            name.
                                          type: string
                                        volumePath:
                                          description: volumePath is the path that
                                            identifies vSphere volume vmdk
                                          type: string
                                      required:
                                      - volumePath
                                      type: object
                                  required:
                                  - name
                                  type: object
                                type: array
                            type: object
                          replicas:
                            description: Replicas is the number of desired pods. Defaults
                              to 1.
                            format: int32
                            type: integer
                          strategy:
                            description: The deployment strategy to use to replace
                              existing pods with new ones.
                            properties:
                              rollingUpdate:
                                description: |-
                                  Rolling update config params. Present only if DeploymentStrategyType =
                                  RollingUpdate.
                                properties:
                                  maxSurge:
                                    anyOf:
                                    - type: integer
                                    - type: string
                                    description: |-
                                      The maximum number of pods that can be scheduled above the desired number of
                                      pods.
                                      Value can be an absolute number (ex: 5) or a percentage of desired pods (ex: 10%).
                                      This can not be 0 if MaxUnavailable is 0.
                                      Absolute number is calculated from percentage by rounding up.
                                      Defaults to 25%.
                                      Example: when this is set to 30%, the new ReplicaSet can be scaled up immediately when
                                      the rolling update starts, such that the total number of old and new pods do not exceed
                                      130% of desired pods. Once old pods have been killed,
                                      new ReplicaSet can be scaled up further, ensuring that total number of pods running
                                      at any time during the update is at most 130% of desired pods.
                                    x-kubernetes-int-or-string: true
                                  maxUnavailable:
                                    anyOf:
                                    - type: integer
                                    - type: string
                                    description: |-
                                      The maximum number of pods that can be unavailable during the update.
                                      Value can be an absolute number (ex: 5) or a percentage of desired pods (ex: 10%).
                                      Absolute number is calculated from percentage by rounding down.
                                      This can not be 0 if MaxSurge is 0.
                                      Defaults to 25%.
                                      Example: when this is set to 30%, the old ReplicaSet can be scaled down to 70% of desired pods
                                      immediately when the rolling update starts. Once new pods are ready, old ReplicaSet
                                      can be scaled down further, followed by scaling up the new ReplicaSet, ensuring
                                      that the total number of pods available at all times during the update is at
                                      least 70% of desired pods.
                                    x-kubernetes-int-or-string: true
                                type: object
                              type:
                                description: Type of deployment. Can be "Recreate"
                                  or "RollingUpdate". Default is RollingUpdate.
                                type: string
                            type: object
                        type: object
                      envoyHpa:
                        description: EnvoyHpa defines the Horizontal Pod Autoscaler
                          settings for Envoy Proxy Deployment.
                        properties:
                          behavior:
                            description: |-
                              behavior configures the scaling behavior of the target
                              in both Up and Down directions (scaleUp and scaleDown fields respectively).
                              If not set, the default HPAScalingRules for scale up and scale down are used.
                              See k8s.io.autoscaling.v2.HorizontalPodAutoScalerBehavior.
                            properties:
                              scaleDown:
                                description: |-
                                  scaleDown is scaling policy for scaling Down.
                                  If not set, the default value is to allow to scale down to minReplicas pods, with a
                                  300 second stabilization window (i.e., the highest recommendation for
                                  the last 300sec is used).
                                properties:
                                  policies:
                                    description: |-
                                      policies is a list of potential scaling polices which can be used during scaling.
                                      If not set, use the default values:
                                      - For scale up: allow doubling the number of pods, or an absolute change of 4 pods in a 15s window.
                                      - For scale down: allow all pods to be removed in a 15s window.
                                    items:
                                      description: HPAScalingPolicy is a single policy
                                        which must hold true for a specified past
                                        interval.
                                      properties:
                                        periodSeconds:
                                          description: |-
                                            periodSeconds specifies the window of time for which the policy should hold true.
                                            PeriodSeconds must be greater than zero and less than or equal to 1800 (30 min).
                                          format: int32
                                          type: integer
                                        type:
                                          description: type is used to specify the
                                            scaling policy.
                                          type: string
                                        value:
                                          description: |-
                                            value contains the amount of change which is permitted by the policy.
                                            It must be greater than zero
                                          format: int32
                                          type: integer
                                      required:
                                      - periodSeconds
                                      - type
                                      - value
                                      type: object
                                    type: array
                                    x-kubernetes-list-type: atomic
                                  selectPolicy:
                                    description: |-
                                      selectPolicy is used to specify which policy should be used.
                                      If not set, the default value Max is used.
                                    type: string
                                  stabilizationWindowSeconds:
                                    description: |-
                                      stabilizationWindowSeconds is the number of seconds for which past recommendations should be
                                      considered while scaling up or scaling down.
                                      StabilizationWindowSeconds must be greater than or equal to zero and less than or equal to 3600 (one hour).
                                      If not set, use the default values:
                                      - For scale up: 0 (i.e. no stabilization is done).
                                      - For scale down: 300 (i.e. the stabilization window is 300 seconds long).
                                    format: int32
                                    type: integer
                                  tolerance:
                                    anyOf:
                                    - type: integer
                                    - type: string
                                    description: |-
                                      tolerance is the tolerance on the ratio between the current and desired
                                      metric value under which no updates are made to the desired number of
                                      replicas (e.g. 0.01 for 1%). Must be greater than or equal to zero. If not
                                      set, the default cluster-wide tolerance is applied (by default 10%).

                                      For example, if autoscaling is configured with a memory consumption target of 100Mi,
                                      and scale-down and scale-up tolerances of 5% and 1% respectively, scaling will be
                                      triggered when the actual consumption falls below 95Mi or exceeds 101Mi.

                                      This is an alpha field and requires enabling the HPAConfigurableTolerance
                                      feature gate.
                                    pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                    x-kubernetes-int-or-string: true
                                type: object
                              scaleUp:
                                description: |-
                                  scaleUp is scaling policy for scaling Up.
                                  If not set, the default value is the higher of:
                                    * increase no more than 4 pods per 60 seconds
                                    * double the number of pods per 60 seconds
                                  No stabilization is used.
                                properties:
                                  policies:
                                    description: |-
                                      policies is a list of potential scaling polices which can be used during scaling.
                                      If not set, use the default values:
                                      - For scale up: allow doubling the number of pods, or an absolute change of 4 pods in a 15s window.
                                      - For scale down: allow all pods to be removed in a 15s window.
                                    items:
                                      description: HPAScalingPolicy is a single policy
                                        which must hold true for a specified past
                                        interval.
                                      properties:
                                        periodSeconds:
                                          description: |-
                                            periodSeconds specifies the window of time for which the policy should hold true.
                                            PeriodSeconds must be greater than zero and less than or equal to 1800 (30 min).
                                          format: int32
                                          type: integer
                                        type:
                                          description: type is used to specify the
                                            scaling policy.
                                          type: string
                                        value:
                                          description: |-
                                            value contains the amount of change which is permitted by the policy.
                                            It must be greater than zero
                                          format: int32
                                          type: integer
                                      required:
                                      - periodSeconds
                                      - type
                                      - value
                                      type: object
                                    type: array
                                    x-kubernetes-list-type: atomic
                                  selectPolicy:
                                    description: |-
                                      selectPolicy is used to specify which policy should be used.
                                      If not set, the default value Max is used.
                                    type: string
                                  stabilizationWindowSeconds:
                                    description: |-
                                      stabilizationWindowSeconds is the number of seconds for which past recommendations should be
                                      considered while scaling up or scaling down.
                                      StabilizationWindowSeconds must be greater than or equal to zero and less than or equal to 3600 (one hour).
                                      If not set, use the default values:
                                      - For scale up: 0 (i.e. no stabilization is done).
                                      - For scale down: 300 (i.e. the stabilization window is 300 seconds long).
                                    format: int32
                                    type: integer
                                  tolerance:
                                    anyOf:
                                    - type: integer
                                    - type: string
                                    description: |-
                                      tolerance is the tolerance on the ratio between the current and desired
                                      metric value under which no updates are made to the desired number of
                                      replicas (e.g. 0.01 for 1%). Must be greater than or equal to zero. If not
                                      set, the default cluster-wide tolerance is applied (by default 10%).

                                      For example, if autoscaling is configured with a memory consumption target of 100Mi,
                                      and scale-down and scale-up tolerances of 5% and 1% respectively, scaling will be
                                      triggered when the actual consumption falls below 95Mi or exceeds 101Mi.

                                      This is an alpha field and requires enabling the HPAConfigurableTolerance
                                      feature gate.
                                    pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                    x-kubernetes-int-or-string: true
                                type: object
                            type: object
                          maxReplicas:
                            description: |-
                              maxReplicas is the upper limit for the number of replicas to which the autoscaler can scale up.
                              It cannot be less that minReplicas.
                            format: int32
                            type: integer
                            x-kubernetes-validations:
                            - message: maxReplicas must be greater than 0
                              rule: self > 0
                          metrics:
                            description: |-
                              metrics contains the specifications for which to use to calculate the
                              desired replica count (the maximum replica count across all metrics will
                              be used).
                              If left empty, it defaults to being based on CPU utilization with average on 80% usage.
                            items:
                              description: |-
                                MetricSpec specifies how to scale based on a single metric
                                (only `type` and one other matching field should be set at once).
                              properties:
                                containerResource:
                                  description: |-
                                    containerResource refers to a resource metric (such as those specified in
                                    requests and limits) known to Kubernetes describing a single container in
                                    each pod of the current scale target (e.g. CPU or memory). Such metrics are
                                    built in to Kubernetes, and have special scaling options on top of those
                                    available to normal per-pod metrics using the "pods" source.
                                  properties:
                                    container:
                                      description: container is the name of the container
                                        in the pods of the scaling target
                                      type: string
                                    name:
                                      description: name is the name of the resource
                                        in question.
                                      type: string
                                    target:
                                      description: target specifies the target value
                                        for the given metric
                                      properties:
                                        averageUtilization:
                                          description: |-
                                            averageUtilization is the target value of the average of the
                                            resource metric across all relevant pods, represented as a percentage of
                                            the requested value of the resource for the pods.
                                            Currently only valid for Resource metric source type
                                          format: int32
                                          type: integer
                                        averageValue:
                                          anyOf:
                                          - type: integer
                                          - type: string
                                          description: |-
                                            averageValue is the target value of the average of the
                                            metric across all relevant pods (as a quantity)
                                          pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                          x-kubernetes-int-or-string: true
                                        type:
                                          description: type represents whether the
                                            metric type is Utilization, Value, or
                                            AverageValue
                                          type: string
                                        value:
                                          anyOf:
                                          - type: integer
                                          - type: string
                                          description: value is the target value of
                                            the metric (as a quantity).
                                          pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                          x-kubernetes-int-or-string: true
                                      required:
                                      - type
                                      type: object
                                  required:
                                  - container
                                  - name
                                  - target
                                  type: object
                                external:
                                  description: |-
                                    external refers to a global metric that is not associated
                                    with any Kubernetes object. It allows autoscaling based on information
                                    coming from components running outside of cluster
                                    (for example length of queue in cloud messaging service, or
                                    QPS from loadbalancer running outside of cluster).
                                  properties:
                                    metric:
                                      description: metric identifies the target metric
                                        by name and selector
                                      properties:
                                        name:
                                          description: name is the name of the given
                                            metric
                                          type: string
                                        selector:
                                          description: |-
                                            selector is the string-encoded form of a standard kubernetes label selector for the given metric
                                            When set, it is passed as an additional parameter to the metrics server for more specific metrics scoping.
                                            When unset, just the metricName will be used to gather metrics.
                                          properties:
                                            matchExpressions:
                                              description: matchExpressions is a list
                                                of label selector requirements. The
                                                requirements are ANDed.
                                              items:
                                                description: |-
                                                  A label selector requirement is a selector that contains values, a key, and an operator that
                                                  relates the key and values.
                                                properties:
                                                  key:
                                                    description: key is the label
                                                      key that the selector applies
                                                      to.
                                                    type: string
                                                  operator:
                                                    description: |-
                                                      operator represents a key's relationship to a set of values.
                                                      Valid operators are In, NotIn, Exists and DoesNotExist.
                                                    type: string
                                                  values:
                                                    description: |-
                                                      values is an array of string values. If the operator is In or NotIn,
                                                      the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                      the values array must be empty. This array is replaced during a strategic
                                                      merge patch.
                                                    items:
                                                      type: string
                                                    type: array
                                                    x-kubernetes-list-type: atomic
                                                required:
                                                - key
                                                - operator
                                                type: object
                                              type: array
                                              x-kubernetes-list-type: atomic
                                            matchLabels:
                                              additionalProperties:
                                                type: string
                                              description: |-
                                                matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                                map is equivalent to an element of matchExpressions, whose key field is "key", the
                                                operator is "In", and the values array contains only "value". The requirements are ANDed.
                                              type: object
                                          type: object
                                          x-kubernetes-map-type: atomic
                                      required:
                                      - name
                                      type: object
                                    target:
                                      description: target specifies the target value
                                        for the given metric
                                      properties:
                                        averageUtilization:
                                          description: |-
                                            averageUtilization is the target value of the average of the
                                            resource metric across all relevant pods, represented as a percentage of
                                            the requested value of the resource for the pods.
                                            Currently only valid for Resource metric source type
                                          format: int32
                                          type: integer
                                        averageValue:
                                          anyOf:
                                          - type: integer
                                          - type: string
                                          description: |-
                                            averageValue is the target value of the average of the
                                            metric across all relevant pods (as a quantity)
                                          pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                          x-kubernetes-int-or-string: true
                                        type:
                                          description: type represents whether the
                                            metric type is Utilization, Value, or
                                            AverageValue
                                          type: string
                                        value:
                                          anyOf:
                                          - type: integer
                                          - type: string
                                          description: value is the target value of
                                            the metric (as a quantity).
                                          pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                          x-kubernetes-int-or-string: true
                                      required:
                                      - type
                                      type: object
                                  required:
                                  - metric
                                  - target
                                  type: object
                                object:
                                  description: |-
                                    object refers to a metric describing a single kubernetes object
                                    (for example, hits-per-second on an Ingress object).
                                  properties:
                                    describedObject:
                                      description: describedObject specifies the descriptions
                                        of a object,such as kind,name apiVersion
                                      properties:
                                        apiVersion:
                                          description: apiVersion is the API version
                                            of the referent
                                          type: string
                                        kind:
                                          description: 'kind is the kind of the referent;
                                            More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
                                          type: string
                                        name:
                                          description: 'name is the name of the referent;
                                            More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names'
                                          type: string
                                      required:
                                      - kind
                                      - name
                                      type: object
                                    metric:
                                      description: metric identifies the target metric
                                        by name and selector
                                      properties:
                                        name:
                                          description: name is the name of the given
                                            metric
                                          type: string
                                        selector:
                                          description: |-
                                            selector is the string-encoded form of a standard kubernetes label selector for the given metric
                                            When set, it is passed as an additional parameter to the metrics server for more specific metrics scoping.
                                            When unset, just the metricName will be used to gather metrics.
                                          properties:
                                            matchExpressions:
                                              description: matchExpressions is a list
                                                of label selector requirements. The
                                                requirements are ANDed.
                                              items:
                                                description: |-
                                                  A label selector requirement is a selector that contains values, a key, and an operator that
                                                  relates the key and values.
                                                properties:
                                                  key:
                                                    description: key is the label
                                                      key that the selector applies
                                                      to.
                                                    type: string
                                                  operator:
                                                    description: |-
                                                      operator represents a key's relationship to a set of values.
                                                      Valid operators are In, NotIn, Exists and DoesNotExist.
                                                    type: string
                                                  values:
                                                    description: |-
                                                      values is an array of string values. If the operator is In or NotIn,
                                                      the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                      the values array must be empty. This array is replaced during a strategic
                                                      merge patch.
                                                    items:
                                                      type: string
                                                    type: array
                                                    x-kubernetes-list-type: atomic
                                                required:
                                                - key
                                                - operator
                                                type: object
                                              type: array
                                              x-kubernetes-list-type: atomic
                                            matchLabels:
                                              additionalProperties:
                                                type: string
                                              description: |-
                                                matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                                map is equivalent to an element of matchExpressions, whose key field is "key", the
                                                operator is "In", and the values array contains only "value". The requirements are ANDed.
                                              type: object
                                          type: object
                                          x-kubernetes-map-type: atomic
                                      required:
                                      - name
                                      type: object
                                    target:
                                      description: target specifies the target value
                                        for the given metric
                                      properties:
                                        averageUtilization:
                                          description: |-
                                            averageUtilization is the target value of the average of the
                                            resource metric across all relevant pods, represented as a percentage of
                                            the requested value of the resource for the pods.
                                            Currently only valid for Resource metric source type
                                          format: int32
                                          type: integer
                                        averageValue:
                                          anyOf:
                                          - type: integer
                                          - type: string
                                          description: |-
                                            averageValue is the target value of the average of the
                                            metric across all relevant pods (as a quantity)
                                          pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                          x-kubernetes-int-or-string: true
                                        type:
                                          description: type represents whether the
                                            metric type is Utilization, Value, or
                                            AverageValue
                                          type: string
                                        value:
                                          anyOf:
                                          - type: integer
                                          - type: string
                                          description: value is the target value of
                                            the metric (as a quantity).
                                          pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                          x-kubernetes-int-or-string: true
                                      required:
                                      - type
                                      type: object
                                  required:
                                  - describedObject
                                  - metric
                                  - target
                                  type: object
                                pods:
                                  description: |-
                                    pods refers to a metric describing each pod in the current scale target
                                    (for example, transactions-processed-per-second).  The values will be
                                    averaged together before being compared to the target value.
                                  properties:
                                    metric:
                                      description: metric identifies the target metric
                                        by name and selector
                                      properties:
                                        name:
                                          description: name is the name of the given
                                            metric
                                          type: string
                                        selector:
                                          description: |-
                                            selector is the string-encoded form of a standard kubernetes label selector for the given metric
                                            When set, it is passed as an additional parameter to the metrics server for more specific metrics scoping.
                                            When unset, just the metricName will be used to gather metrics.
                                          properties:
                                            matchExpressions:
                                              description: matchExpressions is a list
                                                of label selector requirements. The
                                                requirements are ANDed.
                                              items:
                                                description: |-
                                                  A label selector requirement is a selector that contains values, a key, and an operator that
                                                  relates the key and values.
                                                properties:
                                                  key:
                                                    description: key is the label
                                                      key that the selector applies
                                                      to.
                                                    type: string
                                                  operator:
                                                    description: |-
                                                      operator represents a key's relationship to a set of values.
                                                      Valid operators are In, NotIn, Exists and DoesNotExist.
                                                    type: string
                                                  values:
                                                    description: |-
                                                      values is an array of string values. If the operator is In or NotIn,
                                                      the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                      the values array must be empty. This array is replaced during a strategic
                                                      merge patch.
                                                    items:
                                                      type: string
                                                    type: array
                                                    x-kubernetes-list-type: atomic
                                                required:
                                                - key
                                                - operator
                                                type: object
                                              type: array
                                              x-kubernetes-list-type: atomic
                                            matchLabels:
                                              additionalProperties:
                                                type: string
                                              description: |-
                                                matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                                map is equivalent to an element of matchExpressions, whose key field is "key", the
                                                operator is "In", and the values array contains only "value". The requirements are ANDed.
                                              type: object
                                          type: object
                                          x-kubernetes-map-type: atomic
                                      required:
                                      - name
                                      type: object
                                    target:
                                      description: target specifies the target value
                                        for the given metric
                                      properties:
                                        averageUtilization:
                                          description: |-
                                            averageUtilization is the target value of the average of the
                                            resource metric across all relevant pods, represented as a percentage of
                                            the requested value of the resource for the pods.
                                            Currently only valid for Resource metric source type
                                          format: int32
                                          type: integer
                                        averageValue:
                                          anyOf:
                                          - type: integer
                                          - type: string
                                          description: |-
                                            averageValue is the target value of the average of the
                                            metric across all relevant pods (as a quantity)
                                          pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                          x-kubernetes-int-or-string: true
                                        type:
                                          description: type represents whether the
                                            metric type is Utilization, Value, or
                                            AverageValue
                                          type: string
                                        value:
                                          anyOf:
                                          - type: integer
                                          - type: string
                                          description: value is the target value of
                                            the metric (as a quantity).
                                          pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                          x-kubernetes-int-or-string: true
                                      required:
                                      - type
                                      type: object
                                  required:
                                  - metric
                                  - target
                                  type: object
                                resource:
                                  description: |-
                                    resource refers to a resource metric (such as those specified in
                                    requests and limits) known to Kubernetes describing each pod in the
                                    current scale target (e.g. CPU or memory). Such metrics are built in to
                                    Kubernetes, and have special scaling options on top of those available
                                    to normal per-pod metrics using the "pods" source.
                                  properties:
                                    name:
                                      description: name is the name of the resource
                                        in question.
                                      type: string
                                    target:
                                      description: target specifies the target value
                                        for the given metric
                                      properties:
                                        averageUtilization:
                                          description: |-
                                            averageUtilization is the target value of the average of the
                                            resource metric across all relevant pods, represented as a percentage of
                                            the requested value of the resource for the pods.
                                            Currently only valid for Resource metric source type
                                          format: int32
                                          type: integer
                                        averageValue:
                                          anyOf:
                                          - type: integer
                                          - type: string
                                          description: |-
                                            averageValue is the target value of the average of the
                                            metric across all relevant pods (as a quantity)
                                          pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                          x-kubernetes-int-or-string: true
                                        type:
                                          description: type represents whether the
                                            metric type is Utilization, Value, or
                                            AverageValue
                                          type: string
                                        value:
                                          anyOf:
                                          - type: integer
                                          - type: string
                                          description: value is the target value of
                                            the metric (as a quantity).
                                          pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                          x-kubernetes-int-or-string: true
                                      required:
                                      - type
                                      type: object
                                  required:
                                  - name
                                  - target
                                  type: object
                                type:
                                  description: |-
                                    type is the type of metric source.  It should be one of "ContainerResource", "External",
                                    "Object", "Pods" or "Resource", each mapping to a matching field in the object.
                                  type: string
                              required:
                              - type
                              type: object
                            type: array
                          minReplicas:
                            description: |-
                              minReplicas is the lower limit for the number of replicas to which the autoscaler
                              can scale down. It defaults to 1 replica.
                            format: int32
                            type: integer
                            x-kubernetes-validations:
                            - message: minReplicas must be greater than 0
                              rule: self > 0
                          patch:
                            description: Patch defines how to perform the patch operation
                              to the HorizontalPodAutoscaler
                            properties:
                              type:
                                description: |-
                                  Type is the type of merge operation to perform

                                  By default, StrategicMerge is used as the patch type.
                                type: string
                              value:
                                description: Object contains the raw configuration
                                  for merged object
                                x-kubernetes-preserve-unknown-fields: true
                            required:
                            - value
                            type: object
                        required:
                        - maxReplicas
                        type: object
                        x-kubernetes-validations:
                        - message: maxReplicas cannot be less than minReplicas
                          rule: '!has(self.minReplicas) || self.maxReplicas >= self.minReplicas'
                      envoyPDB:
                        description: EnvoyPDB allows to control the pod disruption
                          budget of an Envoy Proxy.
                        properties:
                          maxUnavailable:
                            anyOf:
                            - type: integer
                            - type: string
                            description: |-
                              MaxUnavailable specifies the maximum amount of pods (can be expressed as integers or as a percentage) that can be unavailable at all times during voluntary disruptions,
                              such as node drains or updates. This setting ensures that your envoy proxy maintains a certain level of availability
                              and resilience during maintenance operations. Cannot be combined with minAvailable.
                            x-kubernetes-int-or-string: true
                          minAvailable:
                            anyOf:
                            - type: integer
                            - type: string
                            description: |-
                              MinAvailable specifies the minimum amount of pods (can be expressed as integers or as a percentage) that must be available at all times during voluntary disruptions,
                              such as node drains or updates. This setting ensures that your envoy proxy maintains a certain level of availability
                              and resilience during maintenance operations. Cannot be combined with maxUnavailable.
                            x-kubernetes-int-or-string: true
                          patch:
                            description: Patch defines how to perform the patch operation
                              to the PodDisruptionBudget
                            properties:
                              type:
                                description: |-
                                  Type is the type of merge operation to perform

                                  By default, StrategicMerge is used as the patch type.
                                type: string
                              value:
                                description: Object contains the raw configuration
                                  for merged object
                                x-kubernetes-preserve-unknown-fields: true
                            required:
                            - value
                            type: object
                        type: object
                        x-kubernetes-validations:
                        - message: only one of minAvailable or maxUnavailable can
                            be specified
                          rule: (has(self.minAvailable) && !has(self.maxUnavailable))
                            || (!has(self.minAvailable) && has(self.maxUnavailable))
                      envoyService:
                        description: |-
                          EnvoyService defines the desired state of the Envoy service resource.
                          If unspecified, default settings for the managed Envoy service resource
                          are applied.
                        properties:
                          allocateLoadBalancerNodePorts:
                            description: |-
                              AllocateLoadBalancerNodePorts defines if NodePorts will be automatically allocated for
                              services with type LoadBalancer. Default is "true". It may be set to "false" if the cluster
                              load-balancer does not rely on NodePorts. If the caller requests specific NodePorts (by specifying a
                              value), those requests will be respected, regardless of this field. This field may only be set for
                              services with type LoadBalancer and will be cleared if the type is changed to any other type.
                            type: boolean
                          annotations:
                            additionalProperties:
                              type: string
                            description: |-
                              Annotations that should be appended to the service.
                              By default, no annotations are appended.
                            type: object
                          externalTrafficPolicy:
                            default: Local
                            description: |-
                              ExternalTrafficPolicy determines the externalTrafficPolicy for the Envoy Service. Valid options
                              are Local and Cluster. Default is "Local". "Local" means traffic will only go to pods on the node
                              receiving the traffic. "Cluster" means connections are loadbalanced to all pods in the cluster.
                            enum:
                            - Local
                            - Cluster
                            type: string
                          labels:
                            additionalProperties:
                              type: string
                            description: |-
                              Labels that should be appended to the service.
                              By default, no labels are appended.
                            type: object
                          loadBalancerClass:
                            description: |-
                              LoadBalancerClass, when specified, allows for choosing the LoadBalancer provider
                              implementation if more than one are available or is otherwise expected to be specified
                            type: string
                          loadBalancerIP:
                            description: |-
                              LoadBalancerIP defines the IP Address of the underlying load balancer service. This field
                              may be ignored if the load balancer provider does not support this feature.
                              This field has been deprecated in Kubernetes, but it is still used for setting the IP Address in some cloud
                              providers such as GCP.
                            type: string
                            x-kubernetes-validations:
                            - message: loadBalancerIP must be a valid IPv4 address
                              rule: self.matches(r"^((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$")
                          loadBalancerSourceRanges:
                            description: |-
                              LoadBalancerSourceRanges defines a list of allowed IP addresses which will be configured as
                              firewall rules on the platform providers load balancer. This is not guaranteed to be working as
                              it happens outside of kubernetes and has to be supported and handled by the platform provider.
                              This field may only be set for services with type LoadBalancer and will be cleared if the type
                              is changed to any other type.
                            items:
                              type: string
                            type: array
                          name:
                            description: |-
                              Name of the service.
                              When unset, this defaults to an autogenerated name.
                            type: string
                          patch:
                            description: Patch defines how to perform the patch operation
                              to the service
                            properties:
                              type:
                                description: |-
                                  Type is the type of merge operation to perform

                                  By default, StrategicMerge is used as the patch type.
                                type: string
                              value:
                                description: Object contains the raw configuration
                                  for merged object
                                x-kubernetes-preserve-unknown-fields: true
                            required:
                            - value
                            type: object
                          type:
                            default: LoadBalancer
                            description: |-
                              Type determines how the Service is exposed. Defaults to LoadBalancer.
                              Valid options are ClusterIP, LoadBalancer and NodePort.
                              "LoadBalancer" means a service will be exposed via an external load balancer (if the cloud provider supports it).
                              "ClusterIP" means a service will only be accessible inside the cluster, via the cluster IP.
                              "NodePort" means a service will be exposed on a static Port on all Nodes of the cluster.
                            enum:
                            - ClusterIP
                            - LoadBalancer
                            - NodePort
                            type: string
                        type: object
                        x-kubernetes-validations:
                        - message: allocateLoadBalancerNodePorts can only be set for
                            LoadBalancer type
                          rule: '!has(self.allocateLoadBalancerNodePorts) || self.type
                            == ''LoadBalancer'''
                        - message: loadBalancerSourceRanges can only be set for LoadBalancer
                            type
                          rule: '!has(self.loadBalancerSourceRanges) || self.type
                            == ''LoadBalancer'''
                        - message: loadBalancerIP can only be set for LoadBalancer
                            type
                          rule: '!has(self.loadBalancerIP) || self.type == ''LoadBalancer'''
                      useListenerPortAsContainerPort:
                        description: |-
                          UseListenerPortAsContainerPort disables the port shifting feature in the Envoy Proxy.
                          When set to false (default value), if the service port is a privileged port (1-1023), add a constant to the value converting it into an ephemeral port.
                          This allows the container to bind to the port without needing a CAP_NET_BIND_SERVICE capability.
                        type: boolean
                    type: object
                    x-kubernetes-validations:
                    - message: only one of envoyDeployment or envoyDaemonSet can be
                        specified
                      rule: ((has(self.envoyDeployment) && !has(self.envoyDaemonSet))
                        || (!has(self.envoyDeployment) && has(self.envoyDaemonSet)))
                        || (!has(self.envoyDeployment) && !has(self.envoyDaemonSet))
                    - message: cannot use envoyHpa if envoyDaemonSet is used
                      rule: ((has(self.envoyHpa) && !has(self.envoyDaemonSet)) ||
                        (!has(self.envoyHpa) && has(self.envoyDaemonSet))) || (!has(self.envoyHpa)
                        && !has(self.envoyDaemonSet))
                  type:
                    description: |-
                      Type is the type of resource provider to use. A resource provider provides
                      infrastructure resources for running the data plane, e.g. Envoy proxy, and
                      optional auxiliary control planes. Supported types are "Kubernetes".
                    enum:
                    - Kubernetes
                    - Custom
                    type: string
                required:
                - type
                type: object
              routingType:
                description: |-
                  RoutingType can be set to "Service" to use the Service Cluster IP for routing to the backend,
                  or it can be set to "Endpoint" to use Endpoint routing. The default is "Endpoint".
                type: string
              shutdown:
                description: Shutdown defines configuration for graceful envoy shutdown
                  process.
                properties:
                  drainTimeout:
                    description: |-
                      DrainTimeout defines the graceful drain timeout. This should be less than the pod's terminationGracePeriodSeconds.
                      If unspecified, defaults to 60 seconds.
                    type: string
                  minDrainDuration:
                    description: |-
                      MinDrainDuration defines the minimum drain duration allowing time for endpoint deprogramming to complete.
                      If unspecified, defaults to 10 seconds.
                    type: string
                type: object
              telemetry:
                description: Telemetry defines telemetry parameters for managed proxies.
                properties:
                  accessLog:
                    description: |-
                      AccessLogs defines accesslog parameters for managed proxies.
                      If unspecified, will send default format to stdout.
                    properties:
                      disable:
                        description: Disable disables access logging for managed proxies
                          if set to true.
                        type: boolean
                      settings:
                        description: |-
                          Settings defines accesslog settings for managed proxies.
                          If unspecified, will send default format to stdout.
                        items:
                          properties:
                            format:
                              description: |-
                                Format defines the format of accesslog.
                                This will be ignored if sink type is ALS.
                              properties:
                                json:
                                  additionalProperties:
                                    type: string
                                  description: |-
                                    JSON is additional attributes that describe the specific event occurrence.
                                    Structured format for the envoy access logs. Envoy [command operators](https://www.envoyproxy.io/docs/envoy/latest/configuration/observability/access_log/usage#command-operators)
                                    can be used as values for fields within the Struct.
                                    It's required when the format type is "JSON".
                                  type: object
                                text:
                                  description: |-
                                    Text defines the text accesslog format, following Envoy accesslog formatting,
                                    It's required when the format type is "Text".
                                    Envoy [command operators](https://www.envoyproxy.io/docs/envoy/latest/configuration/observability/access_log/usage#command-operators) may be used in the format.
                                    The [format string documentation](https://www.envoyproxy.io/docs/envoy/latest/configuration/observability/access_log/usage#config-access-log-format-strings) provides more information.
                                  type: string
                                type:
                                  description: Type defines the type of accesslog
                                    format.
                                  enum:
                                  - Text
                                  - JSON
                                  type: string
                              type: object
                              x-kubernetes-validations:
                              - message: If AccessLogFormat type is Text, text field
                                  needs to be set.
                                rule: 'self.type == ''Text'' ? has(self.text) : !has(self.text)'
                              - message: If AccessLogFormat type is JSON, json field
                                  needs to be set.
                                rule: 'self.type == ''JSON'' ? has(self.json) : !has(self.json)'
                            matches:
                              description: |-
                                Matches defines the match conditions for accesslog in CEL expression.
                                An accesslog will be emitted only when one or more match conditions are evaluated to true.
                                Invalid [CEL](https://www.envoyproxy.io/docs/envoy/latest/xds/type/v3/cel.proto.html#common-expression-language-cel-proto) expressions will be ignored.
                              items:
                                type: string
                              maxItems: 10
                              type: array
                            sinks:
                              description: Sinks defines the sinks of accesslog.
                              items:
                                description: ProxyAccessLogSink defines the sink of
                                  accesslog.
                                properties:
                                  als:
                                    description: ALS defines the gRPC Access Log Service
                                      (ALS) sink.
                                    properties:
                                      backendRef:
                                        description: |-
                                          BackendRef references a Kubernetes object that represents the
                                          backend server to which the authorization request will be sent.

                                          Deprecated: Use BackendRefs instead.
                                        properties:
                                          group:
                                            default: ""
                                            description: |-
                                              Group is the group of the referent. For example, "gateway.networking.k8s.io".
                                              When unspecified or empty string, core API group is inferred.
                                            maxLength: 253
                                            pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                                            type: string
                                          kind:
                                            default: Service
                                            description: |-
                                              Kind is the Kubernetes resource kind of the referent. For example
                                              "Service".

                                              Defaults to "Service" when not specified.

                                              ExternalName services can refer to CNAME DNS records that may live
                                              outside of the cluster and as such are difficult to reason about in
                                              terms of conformance. They also may not be safe to forward to (see
                                              CVE-2021-25740 for more information). Implementations SHOULD NOT
                                              support ExternalName Services.

                                              Support: Core (Services with a type other than ExternalName)

                                              Support: Implementation-specific (Services with type ExternalName)
                                            maxLength: 63
                                            minLength: 1
                                            pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                                            type: string
                                          name:
                                            description: Name is the name of the referent.
                                            maxLength: 253
                                            minLength: 1
                                            type: string
                                          namespace:
                                            description: |-
                                              Namespace is the namespace of the backend. When unspecified, the local
                                              namespace is inferred.

                                              Note that when a namespace different than the local namespace is specified,
                                              a ReferenceGrant object is required in the referent namespace to allow that
                                              namespace's owner to accept the reference. See the ReferenceGrant
                                              documentation for details.

                                              Support: Core
                                            maxLength: 63
                                            minLength: 1
                                            pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                                            type: string
                                          port:
                                            description: |-
                                              Port specifies the destination port number to use for this resource.
                                              Port is required when the referent is a Kubernetes Service. In this
                                              case, the port number is the service port number, not the target port.
                                              For other resources, destination port might be derived from the referent
                                              resource or this field.
                                            format: int32
                                            maximum: 65535
                                            minimum: 1
                                            type: integer
                                        required:
                                        - name
                                        type: object
                                        x-kubernetes-validations:
                                        - message: Must have port for Service reference
                                          rule: '(size(self.group) == 0 && self.kind
                                            == ''Service'') ? has(self.port) : true'
                                      backendRefs:
                                        description: |-
                                          BackendRefs references a Kubernetes object that represents the
                                          backend server to which the authorization request will be sent.
                                        items:
                                          description: BackendRef defines how an ObjectReference
                                            that is specific to BackendRef.
                                          properties:
                                            fallback:
                                              description: |-
                                                Fallback indicates whether the backend is designated as a fallback.
                                                Multiple fallback backends can be configured.
                                                It is highly recommended to configure active or passive health checks to ensure that failover can be detected
                                                when the active backends become unhealthy and to automatically readjust once the primary backends are healthy again.
                                                The overprovisioning factor is set to 1.4, meaning the fallback backends will only start receiving traffic when
                                                the health of the active backends falls below 72%.
                                              type: boolean
                                            group:
                                              default: ""
                                              description: |-
                                                Group is the group of the referent. For example, "gateway.networking.k8s.io".
                                                When unspecified or empty string, core API group is inferred.
                                              maxLength: 253
                                              pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                                              type: string
                                            kind:
                                              default: Service
                                              description: |-
                                                Kind is the Kubernetes resource kind of the referent. For example
                                                "Service".

                                                Defaults to "Service" when not specified.

                                                ExternalName services can refer to CNAME DNS records that may live
                                                outside of the cluster and as such are difficult to reason about in
                                                terms of conformance. They also may not be safe to forward to (see
                                                CVE-2021-25740 for more information). Implementations SHOULD NOT
                                                support ExternalName Services.

                                                Support: Core (Services with a type other than ExternalName)

                                                Support: Implementation-specific (Services with type ExternalName)
                                              maxLength: 63
                                              minLength: 1
                                              pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                                              type: string
                                            name:
                                              description: Name is the name of the
                                                referent.
                                              maxLength: 253
                                              minLength: 1
                                              type: string
                                            namespace:
                                              description: |-
                                                Namespace is the namespace of the backend. When unspecified, the local
                                                namespace is inferred.

                                                Note that when a namespace different than the local namespace is specified,
                                                a ReferenceGrant object is required in the referent namespace to allow that
                                                namespace's owner to accept the reference. See the ReferenceGrant
                                                documentation for details.

                                                Support: Core
                                              maxLength: 63
                                              minLength: 1
                                              pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                                              type: string
                                            port:
                                              description: |-
                                                Port specifies the destination port number to use for this resource.
                                                Port is required when the referent is a Kubernetes Service. In this
                                                case, the port number is the service port number, not the target port.
                                                For other resources, destination port might be derived from the referent
                                                resource or this field.
                                              format: int32
                                              maximum: 65535
                                              minimum: 1
                                              type: integer
                                          required:
                                          - name
                                          type: object
                                          x-kubernetes-validations:
                                          - message: Must have port for Service reference
                                            rule: '(size(self.group) == 0 && self.kind
                                              == ''Service'') ? has(self.port) : true'
                                        maxItems: 16
                                        type: array
                                      backendSettings:
                                        description: |-
                                          BackendSettings holds configuration for managing the connection
                                          to the backend.
                                        properties:
                                          circuitBreaker:
                                            description: |-
                                              Circuit Breaker settings for the upstream connections and requests.
                                              If not set, circuit breakers will be enabled with the default thresholds
                                            properties:
                                              maxConnections:
                                                default: 1024
                                                description: The maximum number of
                                                  connections that Envoy will establish
                                                  to the referenced backend defined
                                                  within a xRoute rule.
                                                format: int64
                                                maximum: 4294967295
                                                minimum: 0
                                                type: integer
                                              maxParallelRequests:
                                                default: 1024
                                                description: The maximum number of
                                                  parallel requests that Envoy will
                                                  make to the referenced backend defined
                                                  within a xRoute rule.
                                                format: int64
                                                maximum: 4294967295
                                                minimum: 0
                                                type: integer
                                              maxParallelRetries:
                                                default: 1024
                                                description: The maximum number of
                                                  parallel retries that Envoy will
                                                  make to the referenced backend defined
                                                  within a xRoute rule.
                                                format: int64
                                                maximum: 4294967295
                                                minimum: 0
                                                type: integer
                                              maxPendingRequests:
                                                default: 1024
                                                description: The maximum number of
                                                  pending requests that Envoy will
                                                  queue to the referenced backend
                                                  defined within a xRoute rule.
                                                format: int64
                                                maximum: 4294967295
                                                minimum: 0
                                                type: integer
                                              maxRequestsPerConnection:
                                                description: |-
                                                  The maximum number of requests that Envoy will make over a single connection to the referenced backend defined within a xRoute rule.
                                                  Default: unlimited.
                                                format: int64
                                                maximum: 4294967295
                                                minimum: 0
                                                type: integer
                                              perEndpoint:
                                                description: PerEndpoint defines Circuit
                                                  Breakers that will apply per-endpoint
                                                  for an upstream cluster
                                                properties:
                                                  maxConnections:
                                                    default: 1024
                                                    description: MaxConnections configures
                                                      the maximum number of connections
                                                      that Envoy will establish per-endpoint
                                                      to the referenced backend defined
                                                      within a xRoute rule.
                                                    format: int64
                                                    maximum: 4294967295
                                                    minimum: 0
                                                    type: integer
                                                type: object
                                            type: object
                                          connection:
                                            description: Connection includes backend
                                              connection settings.
                                            properties:
                                              bufferLimit:
                                                allOf:
                                                - pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                                - pattern: ^[1-9]+[0-9]*([EPTGMK]i|[EPTGMk])?$
                                                anyOf:
                                                - type: integer
                                                - type: string
                                                description: |-
                                                  BufferLimit Soft limit on size of the cluster’s connections read and write buffers.
                                                  BufferLimit applies to connection streaming (maybe non-streaming) channel between processes, it's in user space.
                                                  If unspecified, an implementation defined default is applied (32768 bytes).
                                                  For example, 20Mi, 1Gi, 256Ki etc.
                                                  Note: that when the suffix is not provided, the value is interpreted as bytes.
                                                x-kubernetes-int-or-string: true
                                              socketBufferLimit:
                                                allOf:
                                                - pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                                - pattern: ^[1-9]+[0-9]*([EPTGMK]i|[EPTGMk])?$
                                                anyOf:
                                                - type: integer
                                                - type: string
                                                description: |-
                                                  SocketBufferLimit provides configuration for the maximum buffer size in bytes for each socket
                                                  to backend.
                                                  SocketBufferLimit applies to socket streaming channel between TCP/IP stacks, it's in kernel space.
                                                  For example, 20Mi, 1Gi, 256Ki etc.
                                                  Note that when the suffix is not provided, the value is interpreted as bytes.
                                                x-kubernetes-int-or-string: true
                                            type: object
                                          dns:
                                            description: DNS includes dns resolution
                                              settings.
                                            properties:
                                              dnsRefreshRate:
                                                description: |-
                                                  DNSRefreshRate specifies the rate at which DNS records should be refreshed.
                                                  Defaults to 30 seconds.
                                                type: string
                                              lookupFamily:
                                                description: |-
                                                  LookupFamily determines how Envoy would resolve DNS for Routes where the backend is specified as a fully qualified domain name (FQDN).
                                                  If set, this configuration overrides other defaults.
                                                enum:
                                                - IPv4
                                                - IPv6
                                                - IPv4Preferred
                                                - IPv6Preferred
                                                - IPv4AndIPv6
                                                type: string
                                              respectDnsTtl:
                                                description: |-
                                                  RespectDNSTTL indicates whether the DNS Time-To-Live (TTL) should be respected.
                                                  If the value is set to true, the DNS refresh rate will be set to the resource record’s TTL.
                                                  Defaults to true.
                                                type: boolean
                                            type: object
                                          healthCheck:
                                            description: HealthCheck allows gateway
                                              to perform active health checking on
                                              backends.
                                            properties:
                                              active:
                                                description: Active health check configuration
                                                properties:
                                                  grpc:
                                                    description: |-
                                                      GRPC defines the configuration of the GRPC health checker.
                                                      It's optional, and can only be used if the specified type is GRPC.
                                                    properties:
                                                      service:
                                                        description: |-
                                                          Service to send in the health check request.
                                                          If this is not specified, then the health check request applies to the entire
                                                          server and not to a specific service.
                                                        type: string
                                                    type: object
                                                  healthyThreshold:
                                                    default: 1
                                                    description: HealthyThreshold
                                                      defines the number of healthy
                                                      health checks required before
                                                      a backend host is marked healthy.
                                                    format: int32
                                                    minimum: 1
                                                    type: integer
                                                  http:
                                                    description: |-
                                                      HTTP defines the configuration of http health checker.
                                                      It's required while the health checker type is HTTP.
                                                    properties:
                                                      expectedResponse:
                                                        description: ExpectedResponse
                                                          defines a list of HTTP expected
                                                          responses to match.
                                                        properties:
                                                          binary:
                                                            description: Binary payload
                                                              base64 encoded.
                                                            format: byte
                                                            type: string
                                                          text:
                                                            description: Text payload
                                                              in plain text.
                                                            type: string
                                                          type:
                                                            allOf:
                                                            - enum:
                                                              - Text
                                                              - Binary
                                                            - enum:
                                                              - Text
                                                              - Binary
                                                            description: Type defines
                                                              the type of the payload.
                                                            type: string
                                                        required:
                                                        - type
                                                        type: object
                                                        x-kubernetes-validations:
                                                        - message: If payload type
                                                            is Text, text field needs
                                                            to be set.
                                                          rule: 'self.type == ''Text''
                                                            ? has(self.text) : !has(self.text)'
                                                        - message: If payload type
                                                            is Binary, binary field
                                                            needs to be set.
                                                          rule: 'self.type == ''Binary''
                                                            ? has(self.binary) : !has(self.binary)'
                                                      expectedStatuses:
                                                        description: |-
                                                          ExpectedStatuses defines a list of HTTP response statuses considered healthy.
                                                          Defaults to 200 only
                                                        items:
                                                          description: HTTPStatus
                                                            defines the http status
                                                            code.
                                                          exclusiveMaximum: true
                                                          maximum: 600
                                                          minimum: 100
                                                          type: integer
                                                        type: array
                                                      method:
                                                        description: |-
                                                          Method defines the HTTP method used for health checking.
                                                          Defaults to GET
                                                        type: string
                                                      path:
                                                        description: Path defines
                                                          the HTTP path that will
                                                          be requested during health
                                                          checking.
                                                        maxLength: 1024
                                                        minLength: 1
                                                        type: string
                                                    required:
                                                    - path
                                                    type: object
                                                  interval:
                                                    default: 3s
                                                    description: Interval defines
                                                      the time between active health
                                                      checks.
                                                    format: duration
                                                    type: string
                                                  tcp:
                                                    description: |-
                                                      TCP defines the configuration of tcp health checker.
                                                      It's required while the health checker type is TCP.
                                                    properties:
                                                      receive:
                                                        description: Receive defines
                                                          the expected response payload.
                                                        properties:
                                                          binary:
                                                            description: Binary payload
                                                              base64 encoded.
                                                            format: byte
                                                            type: string
                                                          text:
                                                            description: Text payload
                                                              in plain text.
                                                            type: string
                                                          type:
                                                            allOf:
                                                            - enum:
                                                              - Text
                                                              - Binary
                                                            - enum:
                                                              - Text
                                                              - Binary
                                                            description: Type defines
                                                              the type of the payload.
                                                            type: string
                                                        required:
                                                        - type
                                                        type: object
                                                        x-kubernetes-validations:
                                                        - message: If payload type
                                                            is Text, text field needs
                                                            to be set.
                                                          rule: 'self.type == ''Text''
                                                            ? has(self.text) : !has(self.text)'
                                                        - message: If payload type
                                                            is Binary, binary field
                                                            needs to be set.
                                                          rule: 'self.type == ''Binary''
                                                            ? has(self.binary) : !has(self.binary)'
                                                      send:
                                                        description: Send defines
                                                          the request payload.
                                                        properties:
                                                          binary:
                                                            description: Binary payload
                                                              base64 encoded.
                                                            format: byte
                                                            type: string
                                                          text:
                                                            description: Text payload
                                                              in plain text.
                                                            type: string
                                                          type:
                                                            allOf:
                                                            - enum:
                                                              - Text
                                                              - Binary
                                                            - enum:
                                                              - Text
                                                              - Binary
                                                            description: Type defines
                                                              the type of the payload.
                                                            type: string
                                                        required:
                                                        - type
                                                        type: object
                                                        x-kubernetes-validations:
                                                        - message: If payload type
                                                            is Text, text field needs
                                                            to be set.
                                                          rule: 'self.type == ''Text''
                                                            ? has(self.text) : !has(self.text)'
                                                        - message: If payload type
                                                            is Binary, binary field
                                                            needs to be set.
                                                          rule: 'self.type == ''Binary''
                                                            ? has(self.binary) : !has(self.binary)'
                                                    type: object
                                                  timeout:
                                                    default: 1s
                                                    description: Timeout defines the
                                                      time to wait for a health check
                                                      response.
                                                    format: duration
                                                    type: string
                                                  type:
                                                    allOf:
                                                    - enum:
                                                      - HTTP
                                                      - TCP
                                                      - GRPC
                                                    - enum:
                                                      - HTTP
                                                      - TCP
                                                      - GRPC
                                                    description: Type defines the
                                                      type of health checker.
                                                    type: string
                                                  unhealthyThreshold:
                                                    default: 3
                                                    description: UnhealthyThreshold
                                                      defines the number of unhealthy
                                                      health checks required before
                                                      a backend host is marked unhealthy.
                                                    format: int32
                                                    minimum: 1
                                                    type: integer
                                                required:
                                                - type
                                                type: object
                                                x-kubernetes-validations:
                                                - message: If Health Checker type
                                                    is HTTP, http field needs to be
                                                    set.
                                                  rule: 'self.type == ''HTTP'' ? has(self.http)
                                                    : !has(self.http)'
                                                - message: If Health Checker type
                                                    is TCP, tcp field needs to be
                                                    set.
                                                  rule: 'self.type == ''TCP'' ? has(self.tcp)
                                                    : !has(self.tcp)'
                                                - message: The grpc field can only
                                                    be set if the Health Checker type
                                                    is GRPC.
                                                  rule: 'has(self.grpc) ? self.type
                                                    == ''GRPC'' : true'
                                              panicThreshold:
                                                description: |-
                                                  When number of unhealthy endpoints for a backend reaches this threshold
                                                  Envoy will disregard health status and balance across all endpoints.
                                                  It's designed to prevent a situation in which host failures cascade throughout the cluster
                                                  as load increases. If not set, the default value is 50%. To disable panic mode, set value to `0`.
                                                format: int32
                                                maximum: 100
                                                minimum: 0
                                                type: integer
                                              passive:
                                                description: Passive passive check
                                                  configuration
                                                properties:
                                                  baseEjectionTime:
                                                    default: 30s
                                                    description: BaseEjectionTime
                                                      defines the base duration for
                                                      which a host will be ejected
                                                      on consecutive failures.
                                                    format: duration
                                                    type: string
                                                  consecutive5XxErrors:
                                                    default: 5
                                                    description: Consecutive5xxErrors
                                                      sets the number of consecutive
                                                      5xx errors triggering ejection.
                                                    format: int32
                                                    type: integer
                                                  consecutiveGatewayErrors:
                                                    default: 0
                                                    description: ConsecutiveGatewayErrors
                                                      sets the number of consecutive
                                                      gateway errors triggering ejection.
                                                    format: int32
                                                    type: integer
                                                  consecutiveLocalOriginFailures:
                                                    default: 5
                                                    description: |-
                                                      ConsecutiveLocalOriginFailures sets the number of consecutive local origin failures triggering ejection.
                                                      Parameter takes effect only when split_external_local_origin_errors is set to true.
                                                    format: int32
                                                    type: integer
                                                  interval:
                                                    default: 3s
                                                    description: Interval defines
                                                      the time between passive health
                                                      checks.
                                                    format: duration
                                                    type: string
                                                  maxEjectionPercent:
                                                    default: 10
                                                    description: MaxEjectionPercent
                                                      sets the maximum percentage
                                                      of hosts in a cluster that can
                                                      be ejected.
                                                    format: int32
                                                    type: integer
                                                  splitExternalLocalOriginErrors:
                                                    default: false
                                                    description: SplitExternalLocalOriginErrors
                                                      enables splitting of errors
                                                      between external and local origin.
                                                    type: boolean
                                                type: object
                                            type: object
                                          http2:
                                            description: HTTP2 provides HTTP/2 configuration
                                              for backend connections.
                                            properties:
                                              initialConnectionWindowSize:
                                                allOf:
                                                - pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                                - pattern: ^[1-9]+[0-9]*([EPTGMK]i|[EPTGMk])?$
                                                anyOf:
                                                - type: integer
                                                - type: string
                                                description: |-
                                                  InitialConnectionWindowSize sets the initial window size for HTTP/2 connections.
                                                  If not set, the default value is 1 MiB.
                                                x-kubernetes-int-or-string: true
                                              initialStreamWindowSize:
                                                allOf:
                                                - pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                                - pattern: ^[1-9]+[0-9]*([EPTGMK]i|[EPTGMk])?$
                                                anyOf:
                                                - type: integer
                                                - type: string
                                                description: |-
                                                  InitialStreamWindowSize sets the initial window size for HTTP/2 streams.
                                                  If not set, the default value is 64 KiB(64*1024).
                                                x-kubernetes-int-or-string: true
                                              maxConcurrentStreams:
                                                description: |-
                                                  MaxConcurrentStreams sets the maximum number of concurrent streams allowed per connection.
                                                  If not set, the default value is 100.
                                                format: int32
                                                maximum: 2147483647
                                                minimum: 1
                                                type: integer
                                              onInvalidMessage:
                                                description: |-
                                                  OnInvalidMessage determines if Envoy will terminate the connection or just the offending stream in the event of HTTP messaging error
                                                  It's recommended for L2 Envoy deployments to set this value to TerminateStream.
                                                  https://www.envoyproxy.io/docs/envoy/latest/configuration/best_practices/level_two
                                                  Default: TerminateConnection
                                                type: string
                                            type: object
                                          loadBalancer:
                                            description: |-
                                              LoadBalancer policy to apply when routing traffic from the gateway to
                                              the backend endpoints. Defaults to `LeastRequest`.
                                            properties:
                                              consistentHash:
                                                description: |-
                                                  ConsistentHash defines the configuration when the load balancer type is
                                                  set to ConsistentHash
                                                properties:
                                                  cookie:
                                                    description: Cookie configures
                                                      the cookie hash policy when
                                                      the consistent hash type is
                                                      set to Cookie.
                                                    properties:
                                                      attributes:
                                                        additionalProperties:
                                                          type: string
                                                        description: Additional Attributes
                                                          to set for the generated
                                                          cookie.
                                                        type: object
                                                      name:
                                                        description: |-
                                                          Name of the cookie to hash.
                                                          If this cookie does not exist in the request, Envoy will generate a cookie and set
                                                          the TTL on the response back to the client based on Layer 4
                                                          attributes of the backend endpoint, to ensure that these future requests
                                                          go to the same backend endpoint. Make sure to set the TTL field for this case.
                                                        type: string
                                                      ttl:
                                                        description: |-
                                                          TTL of the generated cookie if the cookie is not present. This value sets the
                                                          Max-Age attribute value.
                                                        type: string
                                                    required:
                                                    - name
                                                    type: object
                                                  header:
                                                    description: Header configures
                                                      the header hash policy when
                                                      the consistent hash type is
                                                      set to Header.
                                                    properties:
                                                      name:
                                                        description: Name of the header
                                                          to hash.
                                                        type: string
                                                    required:
                                                    - name
                                                    type: object
                                                  tableSize:
                                                    default: 65537
                                                    description: The table size for
                                                      consistent hashing, must be
                                                      prime number limited to 5000011.
                                                    format: int64
                                                    maximum: 5000011
                                                    minimum: 2
                                                    type: integer
                                                  type:
                                                    description: |-
                                                      ConsistentHashType defines the type of input to hash on. Valid Type values are
                                                      "SourceIP",
                                                      "Header",
                                                      "Cookie".
                                                    enum:
                                                    - SourceIP
                                                    - Header
                                                    - Cookie
                                                    type: string
                                                required:
                                                - type
                                                type: object
                                                x-kubernetes-validations:
                                                - message: If consistent hash type
                                                    is header, the header field must
                                                    be set.
                                                  rule: 'self.type == ''Header'' ?
                                                    has(self.header) : !has(self.header)'
                                                - message: If consistent hash type
                                                    is cookie, the cookie field must
                                                    be set.
                                                  rule: 'self.type == ''Cookie'' ?
                                                    has(self.cookie) : !has(self.cookie)'
                                              slowStart:
                                                description: |-
                                                  SlowStart defines the configuration related to the slow start load balancer policy.
                                                  If set, during slow start window, traffic sent to the newly added hosts will gradually increase.
                                                  Currently this is only supported for RoundRobin and LeastRequest load balancers
                                                properties:
                                                  window:
                                                    description: |-
                                                      Window defines the duration of the warm up period for newly added host.
                                                      During slow start window, traffic sent to the newly added hosts will gradually increase.
                                                      Currently only supports linear growth of traffic. For additional details,
                                                      see https://www.envoyproxy.io/docs/envoy/latest/api-v3/config/cluster/v3/cluster.proto#config-cluster-v3-cluster-slowstartconfig
                                                    type: string
                                                required:
                                                - window
                                                type: object
                                              type:
                                                description: |-
                                                  Type decides the type of Load Balancer policy.
                                                  Valid LoadBalancerType values are
                                                  "ConsistentHash",
                                                  "LeastRequest",
                                                  "Random",
                                                  "RoundRobin".
                                                enum:
                                                - ConsistentHash
                                                - LeastRequest
                                                - Random
                                                - RoundRobin
                                                type: string
                                            required:
                                            - type
                                            type: object
                                            x-kubernetes-validations:
                                            - message: If LoadBalancer type is consistentHash,
                                                consistentHash field needs to be set.
                                              rule: 'self.type == ''ConsistentHash''
                                                ? has(self.consistentHash) : !has(self.consistentHash)'
                                            - message: Currently SlowStart is only
                                                supported for RoundRobin and LeastRequest
                                                load balancers.
                                              rule: 'self.type in [''Random'', ''ConsistentHash'']
                                                ? !has(self.slowStart) : true '
                                          proxyProtocol:
                                            description: ProxyProtocol enables the
                                              Proxy Protocol when communicating with
                                              the backend.
                                            properties:
                                              version:
                                                description: |-
                                                  Version of ProxyProtol
                                                  Valid ProxyProtocolVersion values are
                                                  "V1"
                                                  "V2"
                                                enum:
                                                - V1
                                                - V2
                                                type: string
                                            required:
                                            - version
                                            type: object
                                          retry:
                                            description: |-
                                              Retry provides more advanced usage, allowing users to customize the number of retries, retry fallback strategy, and retry triggering conditions.
                                              If not set, retry will be disabled.
                                            properties:
                                              numRetries:
                                                default: 2
                                                description: NumRetries is the number
                                                  of retries to be attempted. Defaults
                                                  to 2.
                                                format: int32
                                                minimum: 0
                                                type: integer
                                              perRetry:
                                                description: PerRetry is the retry
                                                  policy to be applied per retry attempt.
                                                properties:
                                                  backOff:
                                                    description: |-
                                                      Backoff is the backoff policy to be applied per retry attempt. gateway uses a fully jittered exponential
                                                      back-off algorithm for retries. For additional details,
                                                      see https://www.envoyproxy.io/docs/envoy/latest/configuration/http/http_filters/router_filter#config-http-filters-router-x-envoy-max-retries
                                                    properties:
                                                      baseInterval:
                                                        description: BaseInterval
                                                          is the base interval between
                                                          retries.
                                                        format: duration
                                                        type: string
                                                      maxInterval:
                                                        description: |-
                                                          MaxInterval is the maximum interval between retries. This parameter is optional, but must be greater than or equal to the base_interval if set.
                                                          The default is 10 times the base_interval
                                                        format: duration
                                                        type: string
                                                    type: object
                                                  timeout:
                                                    description: Timeout is the timeout
                                                      per retry attempt.
                                                    format: duration
                                                    type: string
                                                type: object
                                              retryOn:
                                                description: |-
                                                  RetryOn specifies the retry trigger condition.

                                                  If not specified, the default is to retry on connect-failure,refused-stream,unavailable,cancelled,retriable-status-codes(503).
                                                properties:
                                                  httpStatusCodes:
                                                    description: |-
                                                      HttpStatusCodes specifies the http status codes to be retried.
                                                      The retriable-status-codes trigger must also be configured for these status codes to trigger a retry.
                                                    items:
                                                      description: HTTPStatus defines
                                                        the http status code.
                                                      exclusiveMaximum: true
                                                      maximum: 600
                                                      minimum: 100
                                                      type: integer
                                                    type: array
                                                  triggers:
                                                    description: Triggers specifies
                                                      the retry trigger condition(Http/Grpc).
                                                    items:
                                                      description: TriggerEnum specifies
                                                        the conditions that trigger
                                                        retries.
                                                      enum:
                                                      - 5xx
                                                      - gateway-error
                                                      - reset
                                                      - connect-failure
                                                      - retriable-4xx
                                                      - refused-stream
                                                      - retriable-status-codes
                                                      - cancelled
                                                      - deadline-exceeded
                                                      - internal
                                                      - resource-exhausted
                                                      - unavailable
                                                      type: string
                                                    type: array
                                                type: object
                                            type: object
                                          tcpKeepalive:
                                            description: |-
                                              TcpKeepalive settings associated with the upstream client connection.
                                              Disabled by default.
                                            properties:
                                              idleTime:
                                                description: |-
                                                  The duration a connection needs to be idle before keep-alive
                                                  probes start being sent.
                                                  The duration format is
                                                  Defaults to `7200s`.
                                                pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                                                type: string
                                              interval:
                                                description: |-
                                                  The duration between keep-alive probes.
                                                  Defaults to `75s`.
                                                pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                                                type: string
                                              probes:
                                                description: |-
                                                  The total number of unacknowledged probes to send before deciding
                                                  the connection is dead.
                                                  Defaults to 9.
                                                format: int32
                                                type: integer
                                            type: object
                                          timeout:
                                            description: Timeout settings for the
                                              backend connections.
                                            properties:
                                              http:
                                                description: Timeout settings for
                                                  HTTP.
                                                properties:
                                                  connectionIdleTimeout:
                                                    description: |-
                                                      The idle timeout for an HTTP connection. Idle time is defined as a period in which there are no active requests in the connection.
                                                      Default: 1 hour.
                                                    pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                                                    type: string
                                                  maxConnectionDuration:
                                                    description: |-
                                                      The maximum duration of an HTTP connection.
                                                      Default: unlimited.
                                                    pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                                                    type: string
                                                  requestTimeout:
                                                    description: RequestTimeout is
                                                      the time until which entire
                                                      response is received from the
                                                      upstream.
                                                    pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                                                    type: string
                                                type: object
                                              tcp:
                                                description: Timeout settings for
                                                  TCP.
                                                properties:
                                                  connectTimeout:
                                                    description: |-
                                                      The timeout for network connection establishment, including TCP and TLS handshakes.
                                                      Default: 10 seconds.
                                                    pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                                                    type: string
                                                type: object
                                            type: object
                                        type: object
                                      http:
                                        description: HTTP defines additional configuration
                                          specific to HTTP access logs.
                                        properties:
                                          requestHeaders:
                                            description: RequestHeaders defines request
                                              headers to include in log entries sent
                                              to the access log service.
                                            items:
                                              type: string
                                            type: array
                                          responseHeaders:
                                            description: ResponseHeaders defines response
                                              headers to include in log entries sent
                                              to the access log service.
                                            items:
                                              type: string
                                            type: array
                                          responseTrailers:
                                            description: ResponseTrailers defines
                                              response trailers to include in log
                                              entries sent to the access log service.
                                            items:
                                              type: string
                                            type: array
                                        type: object
                                      logName:
                                        description: |-
                                          LogName defines the friendly name of the access log to be returned in
                                          StreamAccessLogsMessage.Identifier. This allows the access log server
                                          to differentiate between different access logs coming from the same Envoy.
                                        minLength: 1
                                        type: string
                                      type:
                                        description: Type defines the type of accesslog.
                                          Supported types are "HTTP" and "TCP".
                                        enum:
                                        - HTTP
                                        - TCP
                                        type: string
                                    required:
                                    - type
                                    type: object
                                    x-kubernetes-validations:
                                    - message: The http field may only be set when
                                        type is HTTP.
                                      rule: self.type == 'HTTP' || !has(self.http)
                                    - message: BackendRefs must be used, backendRef
                                        is not supported.
                                      rule: '!has(self.backendRef)'
                                    - message: must have at least one backend in backendRefs
                                      rule: has(self.backendRefs) && self.backendRefs.size()
                                        > 0
                                    - message: BackendRefs only support Service and
                                        Backend kind.
                                      rule: 'has(self.backendRefs) ? self.backendRefs.all(f,
                                        f.kind == ''Service'' || f.kind == ''Backend'')
                                        : true'
                                    - message: BackendRefs only support Core and gateway.envoyproxy.io
                                        group.
                                      rule: 'has(self.backendRefs) ? (self.backendRefs.all(f,
                                        f.group == "" || f.group == ''gateway.envoyproxy.io''))
                                        : true'
                                  file:
                                    description: File defines the file accesslog sink.
                                    properties:
                                      path:
                                        description: Path defines the file path used
                                          to expose envoy access log(e.g. /dev/stdout).
                                        minLength: 1
                                        type: string
                                    type: object
                                  openTelemetry:
                                    description: OpenTelemetry defines the OpenTelemetry
                                      accesslog sink.
                                    properties:
                                      backendRef:
                                        description: |-
                                          BackendRef references a Kubernetes object that represents the
                                          backend server to which the authorization request will be sent.

                                          Deprecated: Use BackendRefs instead.
                                        properties:
                                          group:
                                            default: ""
                                            description: |-
                                              Group is the group of the referent. For example, "gateway.networking.k8s.io".
                                              When unspecified or empty string, core API group is inferred.
                                            maxLength: 253
                                            pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                                            type: string
                                          kind:
                                            default: Service
                                            description: |-
                                              Kind is the Kubernetes resource kind of the referent. For example
                                              "Service".

                                              Defaults to "Service" when not specified.

                                              ExternalName services can refer to CNAME DNS records that may live
                                              outside of the cluster and as such are difficult to reason about in
                                              terms of conformance. They also may not be safe to forward to (see
                                              CVE-2021-25740 for more information). Implementations SHOULD NOT
                                              support ExternalName Services.

                                              Support: Core (Services with a type other than ExternalName)

                                              Support: Implementation-specific (Services with type ExternalName)
                                            maxLength: 63
                                            minLength: 1
                                            pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                                            type: string
                                          name:
                                            description: Name is the name of the referent.
                                            maxLength: 253
                                            minLength: 1
                                            type: string
                                          namespace:
                                            description: |-
                                              Namespace is the namespace of the backend. When unspecified, the local
                                              namespace is inferred.

                                              Note that when a namespace different than the local namespace is specified,
                                              a ReferenceGrant object is required in the referent namespace to allow that
                                              namespace's owner to accept the reference. See the ReferenceGrant
                                              documentation for details.

                                              Support: Core
                                            maxLength: 63
                                            minLength: 1
                                            pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                                            type: string
                                          port:
                                            description: |-
                                              Port specifies the destination port number to use for this resource.
                                              Port is required when the referent is a Kubernetes Service. In this
                                              case, the port number is the service port number, not the target port.
                                              For other resources, destination port might be derived from the referent
                                              resource or this field.
                                            format: int32
                                            maximum: 65535
                                            minimum: 1
                                            type: integer
                                        required:
                                        - name
                                        type: object
                                        x-kubernetes-validations:
                                        - message: Must have port for Service reference
                                          rule: '(size(self.group) == 0 && self.kind
                                            == ''Service'') ? has(self.port) : true'
                                      backendRefs:
                                        description: |-
                                          BackendRefs references a Kubernetes object that represents the
                                          backend server to which the authorization request will be sent.
                                        items:
                                          description: BackendRef defines how an ObjectReference
                                            that is specific to BackendRef.
                                          properties:
                                            fallback:
                                              description: |-
                                                Fallback indicates whether the backend is designated as a fallback.
                                                Multiple fallback backends can be configured.
                                                It is highly recommended to configure active or passive health checks to ensure that failover can be detected
                                                when the active backends become unhealthy and to automatically readjust once the primary backends are healthy again.
                                                The overprovisioning factor is set to 1.4, meaning the fallback backends will only start receiving traffic when
                                                the health of the active backends falls below 72%.
                                              type: boolean
                                            group:
                                              default: ""
                                              description: |-
                                                Group is the group of the referent. For example, "gateway.networking.k8s.io".
                                                When unspecified or empty string, core API group is inferred.
                                              maxLength: 253
                                              pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                                              type: string
                                            kind:
                                              default: Service
                                              description: |-
                                                Kind is the Kubernetes resource kind of the referent. For example
                                                "Service".

                                                Defaults to "Service" when not specified.

                                                ExternalName services can refer to CNAME DNS records that may live
                                                outside of the cluster and as such are difficult to reason about in
                                                terms of conformance. They also may not be safe to forward to (see
                                                CVE-2021-25740 for more information). Implementations SHOULD NOT
                                                support ExternalName Services.

                                                Support: Core (Services with a type other than ExternalName)

                                                Support: Implementation-specific (Services with type ExternalName)
                                              maxLength: 63
                                              minLength: 1
                                              pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                                              type: string
                                            name:
                                              description: Name is the name of the
                                                referent.
                                              maxLength: 253
                                              minLength: 1
                                              type: string
                                            namespace:
                                              description: |-
                                                Namespace is the namespace of the backend. When unspecified, the local
                                                namespace is inferred.

                                                Note that when a namespace different than the local namespace is specified,
                                                a ReferenceGrant object is required in the referent namespace to allow that
                                                namespace's owner to accept the reference. See the ReferenceGrant
                                                documentation for details.

                                                Support: Core
                                              maxLength: 63
                                              minLength: 1
                                              pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                                              type: string
                                            port:
                                              description: |-
                                                Port specifies the destination port number to use for this resource.
                                                Port is required when the referent is a Kubernetes Service. In this
                                                case, the port number is the service port number, not the target port.
                                                For other resources, destination port might be derived from the referent
                                                resource or this field.
                                              format: int32
                                              maximum: 65535
                                              minimum: 1
                                              type: integer
                                          required:
                                          - name
                                          type: object
                                          x-kubernetes-validations:
                                          - message: Must have port for Service reference
                                            rule: '(size(self.group) == 0 && self.kind
                                              == ''Service'') ? has(self.port) : true'
                                        maxItems: 16
                                        type: array
                                      backendSettings:
                                        description: |-
                                          BackendSettings holds configuration for managing the connection
                                          to the backend.
                                        properties:
                                          circuitBreaker:
                                            description: |-
                                              Circuit Breaker settings for the upstream connections and requests.
                                              If not set, circuit breakers will be enabled with the default thresholds
                                            properties:
                                              maxConnections:
                                                default: 1024
                                                description: The maximum number of
                                                  connections that Envoy will establish
                                                  to the referenced backend defined
                                                  within a xRoute rule.
                                                format: int64
                                                maximum: 4294967295
                                                minimum: 0
                                                type: integer
                                              maxParallelRequests:
                                                default: 1024
                                                description: The maximum number of
                                                  parallel requests that Envoy will
                                                  make to the referenced backend defined
                                                  within a xRoute rule.
                                                format: int64
                                                maximum: 4294967295
                                                minimum: 0
                                                type: integer
                                              maxParallelRetries:
                                                default: 1024
                                                description: The maximum number of
                                                  parallel retries that Envoy will
                                                  make to the referenced backend defined
                                                  within a xRoute rule.
                                                format: int64
                                                maximum: 4294967295
                                                minimum: 0
                                                type: integer
                                              maxPendingRequests:
                                                default: 1024
                                                description: The maximum number of
                                                  pending requests that Envoy will
                                                  queue to the referenced backend
                                                  defined within a xRoute rule.
                                                format: int64
                                                maximum: 4294967295
                                                minimum: 0
                                                type: integer
                                              maxRequestsPerConnection:
                                                description: |-
                                                  The maximum number of requests that Envoy will make over a single connection to the referenced backend defined within a xRoute rule.
                                                  Default: unlimited.
                                                format: int64
                                                maximum: 4294967295
                                                minimum: 0
                                                type: integer
                                              perEndpoint:
                                                description: PerEndpoint defines Circuit
                                                  Breakers that will apply per-endpoint
                                                  for an upstream cluster
                                                properties:
                                                  maxConnections:
                                                    default: 1024
                                                    description: MaxConnections configures
                                                      the maximum number of connections
                                                      that Envoy will establish per-endpoint
                                                      to the referenced backend defined
                                                      within a xRoute rule.
                                                    format: int64
                                                    maximum: 4294967295
                                                    minimum: 0
                                                    type: integer
                                                type: object
                                            type: object
                                          connection:
                                            description: Connection includes backend
                                              connection settings.
                                            properties:
                                              bufferLimit:
                                                allOf:
                                                - pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                                - pattern: ^[1-9]+[0-9]*([EPTGMK]i|[EPTGMk])?$
                                                anyOf:
                                                - type: integer
                                                - type: string
                                                description: |-
                                                  BufferLimit Soft limit on size of the cluster’s connections read and write buffers.
                                                  BufferLimit applies to connection streaming (maybe non-streaming) channel between processes, it's in user space.
                                                  If unspecified, an implementation defined default is applied (32768 bytes).
                                                  For example, 20Mi, 1Gi, 256Ki etc.
                                                  Note: that when the suffix is not provided, the value is interpreted as bytes.
                                                x-kubernetes-int-or-string: true
                                              socketBufferLimit:
                                                allOf:
                                                - pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                                - pattern: ^[1-9]+[0-9]*([EPTGMK]i|[EPTGMk])?$
                                                anyOf:
                                                - type: integer
                                                - type: string
                                                description: |-
                                                  SocketBufferLimit provides configuration for the maximum buffer size in bytes for each socket
                                                  to backend.
                                                  SocketBufferLimit applies to socket streaming channel between TCP/IP stacks, it's in kernel space.
                                                  For example, 20Mi, 1Gi, 256Ki etc.
                                                  Note that when the suffix is not provided, the value is interpreted as bytes.
                                                x-kubernetes-int-or-string: true
                                            type: object
                                          dns:
                                            description: DNS includes dns resolution
                                              settings.
                                            properties:
                                              dnsRefreshRate:
                                                description: |-
                                                  DNSRefreshRate specifies the rate at which DNS records should be refreshed.
                                                  Defaults to 30 seconds.
                                                type: string
                                              lookupFamily:
                                                description: |-
                                                  LookupFamily determines how Envoy would resolve DNS for Routes where the backend is specified as a fully qualified domain name (FQDN).
                                                  If set, this configuration overrides other defaults.
                                                enum:
                                                - IPv4
                                                - IPv6
                                                - IPv4Preferred
                                                - IPv6Preferred
                                                - IPv4AndIPv6
                                                type: string
                                              respectDnsTtl:
                                                description: |-
                                                  RespectDNSTTL indicates whether the DNS Time-To-Live (TTL) should be respected.
                                                  If the value is set to true, the DNS refresh rate will be set to the resource record’s TTL.
                                                  Defaults to true.
                                                type: boolean
                                            type: object
                                          healthCheck:
                                            description: HealthCheck allows gateway
                                              to perform active health checking on
                                              backends.
                                            properties:
                                              active:
                                                description: Active health check configuration
                                                properties:
                                                  grpc:
                                                    description: |-
                                                      GRPC defines the configuration of the GRPC health checker.
                                                      It's optional, and can only be used if the specified type is GRPC.
                                                    properties:
                                                      service:
                                                        description: |-
                                                          Service to send in the health check request.
                                                          If this is not specified, then the health check request applies to the entire
                                                          server and not to a specific service.
                                                        type: string
                                                    type: object
                                                  healthyThreshold:
                                                    default: 1
                                                    description: HealthyThreshold
                                                      defines the number of healthy
                                                      health checks required before
                                                      a backend host is marked healthy.
                                                    format: int32
                                                    minimum: 1
                                                    type: integer
                                                  http:
                                                    description: |-
                                                      HTTP defines the configuration of http health checker.
                                                      It's required while the health checker type is HTTP.
                                                    properties:
                                                      expectedResponse:
                                                        description: ExpectedResponse
                                                          defines a list of HTTP expected
                                                          responses to match.
                                                        properties:
                                                          binary:
                                                            description: Binary payload
                                                              base64 encoded.
                                                            format: byte
                                                            type: string
                                                          text:
                                                            description: Text payload
                                                              in plain text.
                                                            type: string
                                                          type:
                                                            allOf:
                                                            - enum:
                                                              - Text
                                                              - Binary
                                                            - enum:
                                                              - Text
                                                              - Binary
                                                            description: Type defines
                                                              the type of the payload.
                                                            type: string
                                                        required:
                                                        - type
                                                        type: object
                                                        x-kubernetes-validations:
                                                        - message: If payload type
                                                            is Text, text field needs
                                                            to be set.
                                                          rule: 'self.type == ''Text''
                                                            ? has(self.text) : !has(self.text)'
                                                        - message: If payload type
                                                            is Binary, binary field
                                                            needs to be set.
                                                          rule: 'self.type == ''Binary''
                                                            ? has(self.binary) : !has(self.binary)'
                                                      expectedStatuses:
                                                        description: |-
                                                          ExpectedStatuses defines a list of HTTP response statuses considered healthy.
                                                          Defaults to 200 only
                                                        items:
                                                          description: HTTPStatus
                                                            defines the http status
                                                            code.
                                                          exclusiveMaximum: true
                                                          maximum: 600
                                                          minimum: 100
                                                          type: integer
                                                        type: array
                                                      method:
                                                        description: |-
                                                          Method defines the HTTP method used for health checking.
                                                          Defaults to GET
                                                        type: string
                                                      path:
                                                        description: Path defines
                                                          the HTTP path that will
                                                          be requested during health
                                                          checking.
                                                        maxLength: 1024
                                                        minLength: 1
                                                        type: string
                                                    required:
                                                    - path
                                                    type: object
                                                  interval:
                                                    default: 3s
                                                    description: Interval defines
                                                      the time between active health
                                                      checks.
                                                    format: duration
                                                    type: string
                                                  tcp:
                                                    description: |-
                                                      TCP defines the configuration of tcp health checker.
                                                      It's required while the health checker type is TCP.
                                                    properties:
                                                      receive:
                                                        description: Receive defines
                                                          the expected response payload.
                                                        properties:
                                                          binary:
                                                            description: Binary payload
                                                              base64 encoded.
                                                            format: byte
                                                            type: string
                                                          text:
                                                            description: Text payload
                                                              in plain text.
                                                            type: string
                                                          type:
                                                            allOf:
                                                            - enum:
                                                              - Text
                                                              - Binary
                                                            - enum:
                                                              - Text
                                                              - Binary
                                                            description: Type defines
                                                              the type of the payload.
                                                            type: string
                                                        required:
                                                        - type
                                                        type: object
                                                        x-kubernetes-validations:
                                                        - message: If payload type
                                                            is Text, text field needs
                                                            to be set.
                                                          rule: 'self.type == ''Text''
                                                            ? has(self.text) : !has(self.text)'
                                                        - message: If payload type
                                                            is Binary, binary field
                                                            needs to be set.
                                                          rule: 'self.type == ''Binary''
                                                            ? has(self.binary) : !has(self.binary)'
                                                      send:
                                                        description: Send defines
                                                          the request payload.
                                                        properties:
                                                          binary:
                                                            description: Binary payload
                                                              base64 encoded.
                                                            format: byte
                                                            type: string
                                                          text:
                                                            description: Text payload
                                                              in plain text.
                                                            type: string
                                                          type:
                                                            allOf:
                                                            - enum:
                                                              - Text
                                                              - Binary
                                                            - enum:
                                                              - Text
                                                              - Binary
                                                            description: Type defines
                                                              the type of the payload.
                                                            type: string
                                                        required:
                                                        - type
                                                        type: object
                                                        x-kubernetes-validations:
                                                        - message: If payload type
                                                            is Text, text field needs
                                                            to be set.
                                                          rule: 'self.type == ''Text''
                                                            ? has(self.text) : !has(self.text)'
                                                        - message: If payload type
                                                            is Binary, binary field
                                                            needs to be set.
                                                          rule: 'self.type == ''Binary''
                                                            ? has(self.binary) : !has(self.binary)'
                                                    type: object
                                                  timeout:
                                                    default: 1s
                                                    description: Timeout defines the
                                                      time to wait for a health check
                                                      response.
                                                    format: duration
                                                    type: string
                                                  type:
                                                    allOf:
                                                    - enum:
                                                      - HTTP
                                                      - TCP
                                                      - GRPC
                                                    - enum:
                                                      - HTTP
                                                      - TCP
                                                      - GRPC
                                                    description: Type defines the
                                                      type of health checker.
                                                    type: string
                                                  unhealthyThreshold:
                                                    default: 3
                                                    description: UnhealthyThreshold
                                                      defines the number of unhealthy
                                                      health checks required before
                                                      a backend host is marked unhealthy.
                                                    format: int32
                                                    minimum: 1
                                                    type: integer
                                                required:
                                                - type
                                                type: object
                                                x-kubernetes-validations:
                                                - message: If Health Checker type
                                                    is HTTP, http field needs to be
                                                    set.
                                                  rule: 'self.type == ''HTTP'' ? has(self.http)
                                                    : !has(self.http)'
                                                - message: If Health Checker type
                                                    is TCP, tcp field needs to be
                                                    set.
                                                  rule: 'self.type == ''TCP'' ? has(self.tcp)
                                                    : !has(self.tcp)'
                                                - message: The grpc field can only
                                                    be set if the Health Checker type
                                                    is GRPC.
                                                  rule: 'has(self.grpc) ? self.type
                                                    == ''GRPC'' : true'
                                              panicThreshold:
                                                description: |-
                                                  When number of unhealthy endpoints for a backend reaches this threshold
                                                  Envoy will disregard health status and balance across all endpoints.
                                                  It's designed to prevent a situation in which host failures cascade throughout the cluster
                                                  as load increases. If not set, the default value is 50%. To disable panic mode, set value to `0`.
                                                format: int32
                                                maximum: 100
                                                minimum: 0
                                                type: integer
                                              passive:
                                                description: Passive passive check
                                                  configuration
                                                properties:
                                                  baseEjectionTime:
                                                    default: 30s
                                                    description: BaseEjectionTime
                                                      defines the base duration for
                                                      which a host will be ejected
                                                      on consecutive failures.
                                                    format: duration
                                                    type: string
                                                  consecutive5XxErrors:
                                                    default: 5
                                                    description: Consecutive5xxErrors
                                                      sets the number of consecutive
                                                      5xx errors triggering ejection.
                                                    format: int32
                                                    type: integer
                                                  consecutiveGatewayErrors:
                                                    default: 0
                                                    description: ConsecutiveGatewayErrors
                                                      sets the number of consecutive
                                                      gateway errors triggering ejection.
                                                    format: int32
                                                    type: integer
                                                  consecutiveLocalOriginFailures:
                                                    default: 5
                                                    description: |-
                                                      ConsecutiveLocalOriginFailures sets the number of consecutive local origin failures triggering ejection.
                                                      Parameter takes effect only when split_external_local_origin_errors is set to true.
                                                    format: int32
                                                    type: integer
                                                  interval:
                                                    default: 3s
                                                    description: Interval defines
                                                      the time between passive health
                                                      checks.
                                                    format: duration
                                                    type: string
                                                  maxEjectionPercent:
                                                    default: 10
                                                    description: MaxEjectionPercent
                                                      sets the maximum percentage
                                                      of hosts in a cluster that can
                                                      be ejected.
                                                    format: int32
                                                    type: integer
                                                  splitExternalLocalOriginErrors:
                                                    default: false
                                                    description: SplitExternalLocalOriginErrors
                                                      enables splitting of errors
                                                      between external and local origin.
                                                    type: boolean
                                                type: object
                                            type: object
                                          http2:
                                            description: HTTP2 provides HTTP/2 configuration
                                              for backend connections.
                                            properties:
                                              initialConnectionWindowSize:
                                                allOf:
                                                - pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                                - pattern: ^[1-9]+[0-9]*([EPTGMK]i|[EPTGMk])?$
                                                anyOf:
                                                - type: integer
                                                - type: string
                                                description: |-
                                                  InitialConnectionWindowSize sets the initial window size for HTTP/2 connections.
                                                  If not set, the default value is 1 MiB.
                                                x-kubernetes-int-or-string: true
                                              initialStreamWindowSize:
                                                allOf:
                                                - pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                                - pattern: ^[1-9]+[0-9]*([EPTGMK]i|[EPTGMk])?$
                                                anyOf:
                                                - type: integer
                                                - type: string
                                                description: |-
                                                  InitialStreamWindowSize sets the initial window size for HTTP/2 streams.
                                                  If not set, the default value is 64 KiB(64*1024).
                                                x-kubernetes-int-or-string: true
                                              maxConcurrentStreams:
                                                description: |-
                                                  MaxConcurrentStreams sets the maximum number of concurrent streams allowed per connection.
                                                  If not set, the default value is 100.
                                                format: int32
                                                maximum: 2147483647
                                                minimum: 1
                                                type: integer
                                              onInvalidMessage:
                                                description: |-
                                                  OnInvalidMessage determines if Envoy will terminate the connection or just the offending stream in the event of HTTP messaging error
                                                  It's recommended for L2 Envoy deployments to set this value to TerminateStream.
                                                  https://www.envoyproxy.io/docs/envoy/latest/configuration/best_practices/level_two
                                                  Default: TerminateConnection
                                                type: string
                                            type: object
                                          loadBalancer:
                                            description: |-
                                              LoadBalancer policy to apply when routing traffic from the gateway to
                                              the backend endpoints. Defaults to `LeastRequest`.
                                            properties:
                                              consistentHash:
                                                description: |-
                                                  ConsistentHash defines the configuration when the load balancer type is
                                                  set to ConsistentHash
                                                properties:
                                                  cookie:
                                                    description: Cookie configures
                                                      the cookie hash policy when
                                                      the consistent hash type is
                                                      set to Cookie.
                                                    properties:
                                                      attributes:
                                                        additionalProperties:
                                                          type: string
                                                        description: Additional Attributes
                                                          to set for the generated
                                                          cookie.
                                                        type: object
                                                      name:
                                                        description: |-
                                                          Name of the cookie to hash.
                                                          If this cookie does not exist in the request, Envoy will generate a cookie and set
                                                          the TTL on the response back to the client based on Layer 4
                                                          attributes of the backend endpoint, to ensure that these future requests
                                                          go to the same backend endpoint. Make sure to set the TTL field for this case.
                                                        type: string
                                                      ttl:
                                                        description: |-
                                                          TTL of the generated cookie if the cookie is not present. This value sets the
                                                          Max-Age attribute value.
                                                        type: string
                                                    required:
                                                    - name
                                                    type: object
                                                  header:
                                                    description: Header configures
                                                      the header hash policy when
                                                      the consistent hash type is
                                                      set to Header.
                                                    properties:
                                                      name:
                                                        description: Name of the header
                                                          to hash.
                                                        type: string
                                                    required:
                                                    - name
                                                    type: object
                                                  tableSize:
                                                    default: 65537
                                                    description: The table size for
                                                      consistent hashing, must be
                                                      prime number limited to 5000011.
                                                    format: int64
                                                    maximum: 5000011
                                                    minimum: 2
                                                    type: integer
                                                  type:
                                                    description: |-
                                                      ConsistentHashType defines the type of input to hash on. Valid Type values are
                                                      "SourceIP",
                                                      "Header",
                                                      "Cookie".
                                                    enum:
                                                    - SourceIP
                                                    - Header
                                                    - Cookie
                                                    type: string
                                                required:
                                                - type
                                                type: object
                                                x-kubernetes-validations:
                                                - message: If consistent hash type
                                                    is header, the header field must
                                                    be set.
                                                  rule: 'self.type == ''Header'' ?
                                                    has(self.header) : !has(self.header)'
                                                - message: If consistent hash type
                                                    is cookie, the cookie field must
                                                    be set.
                                                  rule: 'self.type == ''Cookie'' ?
                                                    has(self.cookie) : !has(self.cookie)'
                                              slowStart:
                                                description: |-
                                                  SlowStart defines the configuration related to the slow start load balancer policy.
                                                  If set, during slow start window, traffic sent to the newly added hosts will gradually increase.
                                                  Currently this is only supported for RoundRobin and LeastRequest load balancers
                                                properties:
                                                  window:
                                                    description: |-
                                                      Window defines the duration of the warm up period for newly added host.
                                                      During slow start window, traffic sent to the newly added hosts will gradually increase.
                                                      Currently only supports linear growth of traffic. For additional details,
                                                      see https://www.envoyproxy.io/docs/envoy/latest/api-v3/config/cluster/v3/cluster.proto#config-cluster-v3-cluster-slowstartconfig
                                                    type: string
                                                required:
                                                - window
                                                type: object
                                              type:
                                                description: |-
                                                  Type decides the type of Load Balancer policy.
                                                  Valid LoadBalancerType values are
                                                  "ConsistentHash",
                                                  "LeastRequest",
                                                  "Random",
                                                  "RoundRobin".
                                                enum:
                                                - ConsistentHash
                                                - LeastRequest
                                                - Random
                                                - RoundRobin
                                                type: string
                                            required:
                                            - type
                                            type: object
                                            x-kubernetes-validations:
                                            - message: If LoadBalancer type is consistentHash,
                                                consistentHash field needs to be set.
                                              rule: 'self.type == ''ConsistentHash''
                                                ? has(self.consistentHash) : !has(self.consistentHash)'
                                            - message: Currently SlowStart is only
                                                supported for RoundRobin and LeastRequest
                                                load balancers.
                                              rule: 'self.type in [''Random'', ''ConsistentHash'']
                                                ? !has(self.slowStart) : true '
                                          proxyProtocol:
                                            description: ProxyProtocol enables the
                                              Proxy Protocol when communicating with
                                              the backend.
                                            properties:
                                              version:
                                                description: |-
                                                  Version of ProxyProtol
                                                  Valid ProxyProtocolVersion values are
                                                  "V1"
                                                  "V2"
                                                enum:
                                                - V1
                                                - V2
                                                type: string
                                            required:
                                            - version
                                            type: object
                                          retry:
                                            description: |-
                                              Retry provides more advanced usage, allowing users to customize the number of retries, retry fallback strategy, and retry triggering conditions.
                                              If not set, retry will be disabled.
                                            properties:
                                              numRetries:
                                                default: 2
                                                description: NumRetries is the number
                                                  of retries to be attempted. Defaults
                                                  to 2.
                                                format: int32
                                                minimum: 0
                                                type: integer
                                              perRetry:
                                                description: PerRetry is the retry
                                                  policy to be applied per retry attempt.
                                                properties:
                                                  backOff:
                                                    description: |-
                                                      Backoff is the backoff policy to be applied per retry attempt. gateway uses a fully jittered exponential
                                                      back-off algorithm for retries. For additional details,
                                                      see https://www.envoyproxy.io/docs/envoy/latest/configuration/http/http_filters/router_filter#config-http-filters-router-x-envoy-max-retries
                                                    properties:
                                                      baseInterval:
                                                        description: BaseInterval
                                                          is the base interval between
                                                          retries.
                                                        format: duration
                                                        type: string
                                                      maxInterval:
                                                        description: |-
                                                          MaxInterval is the maximum interval between retries. This parameter is optional, but must be greater than or equal to the base_interval if set.
                                                          The default is 10 times the base_interval
                                                        format: duration
                                                        type: string
                                                    type: object
                                                  timeout:
                                                    description: Timeout is the timeout
                                                      per retry attempt.
                                                    format: duration
                                                    type: string
                                                type: object
                                              retryOn:
                                                description: |-
                                                  RetryOn specifies the retry trigger condition.

                                                  If not specified, the default is to retry on connect-failure,refused-stream,unavailable,cancelled,retriable-status-codes(503).
                                                properties:
                                                  httpStatusCodes:
                                                    description: |-
                                                      HttpStatusCodes specifies the http status codes to be retried.
                                                      The retriable-status-codes trigger must also be configured for these status codes to trigger a retry.
                                                    items:
                                                      description: HTTPStatus defines
                                                        the http status code.
                                                      exclusiveMaximum: true
                                                      maximum: 600
                                                      minimum: 100
                                                      type: integer
                                                    type: array
                                                  triggers:
                                                    description: Triggers specifies
                                                      the retry trigger condition(Http/Grpc).
                                                    items:
                                                      description: TriggerEnum specifies
                                                        the conditions that trigger
                                                        retries.
                                                      enum:
                                                      - 5xx
                                                      - gateway-error
                                                      - reset
                                                      - connect-failure
                                                      - retriable-4xx
                                                      - refused-stream
                                                      - retriable-status-codes
                                                      - cancelled
                                                      - deadline-exceeded
                                                      - internal
                                                      - resource-exhausted
                                                      - unavailable
                                                      type: string
                                                    type: array
                                                type: object
                                            type: object
                                          tcpKeepalive:
                                            description: |-
                                              TcpKeepalive settings associated with the upstream client connection.
                                              Disabled by default.
                                            properties:
                                              idleTime:
                                                description: |-
                                                  The duration a connection needs to be idle before keep-alive
                                                  probes start being sent.
                                                  The duration format is
                                                  Defaults to `7200s`.
                                                pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                                                type: string
                                              interval:
                                                description: |-
                                                  The duration between keep-alive probes.
                                                  Defaults to `75s`.
                                                pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                                                type: string
                                              probes:
                                                description: |-
                                                  The total number of unacknowledged probes to send before deciding
                                                  the connection is dead.
                                                  Defaults to 9.
                                                format: int32
                                                type: integer
                                            type: object
                                          timeout:
                                            description: Timeout settings for the
                                              backend connections.
                                            properties:
                                              http:
                                                description: Timeout settings for
                                                  HTTP.
                                                properties:
                                                  connectionIdleTimeout:
                                                    description: |-
                                                      The idle timeout for an HTTP connection. Idle time is defined as a period in which there are no active requests in the connection.
                                                      Default: 1 hour.
                                                    pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                                                    type: string
                                                  maxConnectionDuration:
                                                    description: |-
                                                      The maximum duration of an HTTP connection.
                                                      Default: unlimited.
                                                    pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                                                    type: string
                                                  requestTimeout:
                                                    description: RequestTimeout is
                                                      the time until which entire
                                                      response is received from the
                                                      upstream.
                                                    pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                                                    type: string
                                                type: object
                                              tcp:
                                                description: Timeout settings for
                                                  TCP.
                                                properties:
                                                  connectTimeout:
                                                    description: |-
                                                      The timeout for network connection establishment, including TCP and TLS handshakes.
                                                      Default: 10 seconds.
                                                    pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                                                    type: string
                                                type: object
                                            type: object
                                        type: object
                                      host:
                                        description: |-
                                          Host define the extension service hostname.
                                          Deprecated: Use BackendRefs instead.
                                        type: string
                                      port:
                                        default: 4317
                                        description: |-
                                          Port defines the port the extension service is exposed on.
                                          Deprecated: Use BackendRefs instead.
                                        format: int32
                                        minimum: 0
                                        type: integer
                                      resources:
                                        additionalProperties:
                                          type: string
                                        description: |-
                                          Resources is a set of labels that describe the source of a log entry, including envoy node info.
                                          It's recommended to follow [semantic conventions](https://opentelemetry.io/docs/reference/specification/resource/semantic_conventions/).
                                        type: object
                                    type: object
                                    x-kubernetes-validations:
                                    - message: host or backendRefs needs to be set
                                      rule: has(self.host) || self.backendRefs.size()
                                        > 0
                                    - message: BackendRefs must be used, backendRef
                                        is not supported.
                                      rule: '!has(self.backendRef)'
                                    - message: BackendRefs only support Service and
                                        Backend kind.
                                      rule: 'has(self.backendRefs) ? self.backendRefs.all(f,
                                        f.kind == ''Service'' || f.kind == ''Backend'')
                                        : true'
                                    - message: BackendRefs only support Core and gateway.envoyproxy.io
                                        group.
                                      rule: 'has(self.backendRefs) ? (self.backendRefs.all(f,
                                        f.group == "" || f.group == ''gateway.envoyproxy.io''))
                                        : true'
                                  type:
                                    description: Type defines the type of accesslog
                                      sink.
                                    enum:
                                    - ALS
                                    - File
                                    - OpenTelemetry
                                    type: string
                                type: object
                                x-kubernetes-validations:
                                - message: If AccessLogSink type is ALS, als field
                                    needs to be set.
                                  rule: 'self.type == ''ALS'' ? has(self.als) : !has(self.als)'
                                - message: If AccessLogSink type is File, file field
                                    needs to be set.
                                  rule: 'self.type == ''File'' ? has(self.file) :
                                    !has(self.file)'
                                - message: If AccessLogSink type is OpenTelemetry,
                                    openTelemetry field needs to be set.
                                  rule: 'self.type == ''OpenTelemetry'' ? has(self.openTelemetry)
                                    : !has(self.openTelemetry)'
                              maxItems: 50
                              minItems: 1
                              type: array
                            type:
                              description: |-
                                Type defines the component emitting the accesslog, such as Listener and Route.
                                If type not defined, the setting would apply to:
                                (1) All Routes.
                                (2) Listeners if and only if Envoy does not find a matching route for a request.
                                If type is defined, the accesslog settings would apply to the relevant component (as-is).
                              enum:
                              - Listener
                              - Route
                              type: string
                          required:
                          - sinks
                          type: object
                        maxItems: 50
                        minItems: 1
                        type: array
                    type: object
                  metrics:
                    description: Metrics defines metrics configuration for managed
                      proxies.
                    properties:
                      enablePerEndpointStats:
                        description: |-
                          EnablePerEndpointStats enables per endpoint envoy stats metrics.
                          Please use with caution.
                        type: boolean
                      enableRequestResponseSizesStats:
                        description: EnableRequestResponseSizesStats enables publishing
                          of histograms tracking header and body sizes of requests
                          and responses.
                        type: boolean
                      enableVirtualHostStats:
                        description: EnableVirtualHostStats enables envoy stat metrics
                          for virtual hosts.
                        type: boolean
                      matches:
                        description: |-
                          Matches defines configuration for selecting specific metrics instead of generating all metrics stats
                          that are enabled by default. This helps reduce CPU and memory overhead in Envoy, but eliminating some stats
                          may after critical functionality. Here are the stats that we strongly recommend not disabling:
                          `cluster_manager.warming_clusters`, `cluster.<cluster_name>.membership_total`,`cluster.<cluster_name>.membership_healthy`,
                          `cluster.<cluster_name>.membership_degraded`，reference  https://github.com/envoyproxy/envoy/issues/9856,
                          https://github.com/envoyproxy/envoy/issues/14610
                        items:
                          description: |-
                            StringMatch defines how to match any strings.
                            This is a general purpose match condition that can be used by other EG APIs
                            that need to match against a string.
                          properties:
                            type:
                              default: Exact
                              description: Type specifies how to match against a string.
                              enum:
                              - Exact
                              - Prefix
                              - Suffix
                              - RegularExpression
                              type: string
                            value:
                              description: Value specifies the string value that the
                                match must have.
                              maxLength: 1024
                              minLength: 1
                              type: string
                          required:
                          - value
                          type: object
                        type: array
                      prometheus:
                        description: Prometheus defines the configuration for Admin
                          endpoint `/stats/prometheus`.
                        properties:
                          compression:
                            description: Configure the compression on Prometheus endpoint.
                              Compression is useful in situations when bandwidth is
                              scarce and large payloads can be effectively compressed
                              at the expense of higher CPU load.
                            properties:
                              brotli:
                                description: The configuration for Brotli compressor.
                                type: object
                              gzip:
                                description: The configuration for GZIP compressor.
                                type: object
                              type:
                                description: CompressorType defines the compressor
                                  type to use for compression.
                                enum:
                                - Gzip
                                - Brotli
                                type: string
                            required:
                            - type
                            type: object
                          disable:
                            description: Disable the Prometheus endpoint.
                            type: boolean
                        type: object
                      sinks:
                        description: Sinks defines the metric sinks where metrics
                          are sent to.
                        items:
                          description: |-
                            ProxyMetricSink defines the sink of metrics.
                            Default metrics sink is OpenTelemetry.
                          properties:
                            openTelemetry:
                              description: |-
                                OpenTelemetry defines the configuration for OpenTelemetry sink.
                                It's required if the sink type is OpenTelemetry.
                              properties:
                                backendRef:
                                  description: |-
                                    BackendRef references a Kubernetes object that represents the
                                    backend server to which the authorization request will be sent.

                                    Deprecated: Use BackendRefs instead.
                                  properties:
                                    group:
                                      default: ""
                                      description: |-
                                        Group is the group of the referent. For example, "gateway.networking.k8s.io".
                                        When unspecified or empty string, core API group is inferred.
                                      maxLength: 253
                                      pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                                      type: string
                                    kind:
                                      default: Service
                                      description: |-
                                        Kind is the Kubernetes resource kind of the referent. For example
                                        "Service".

                                        Defaults to "Service" when not specified.

                                        ExternalName services can refer to CNAME DNS records that may live
                                        outside of the cluster and as such are difficult to reason about in
                                        terms of conformance. They also may not be safe to forward to (see
                                        CVE-2021-25740 for more information). Implementations SHOULD NOT
                                        support ExternalName Services.

                                        Support: Core (Services with a type other than ExternalName)

                                        Support: Implementation-specific (Services with type ExternalName)
                                      maxLength: 63
                                      minLength: 1
                                      pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                                      type: string
                                    name:
                                      description: Name is the name of the referent.
                                      maxLength: 253
                                      minLength: 1
                                      type: string
                                    namespace:
                                      description: |-
                                        Namespace is the namespace of the backend. When unspecified, the local
                                        namespace is inferred.

                                        Note that when a namespace different than the local namespace is specified,
                                        a ReferenceGrant object is required in the referent namespace to allow that
                                        namespace's owner to accept the reference. See the ReferenceGrant
                                        documentation for details.

                                        Support: Core
                                      maxLength: 63
                                      minLength: 1
                                      pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                                      type: string
                                    port:
                                      description: |-
                                        Port specifies the destination port number to use for this resource.
                                        Port is required when the referent is a Kubernetes Service. In this
                                        case, the port number is the service port number, not the target port.
                                        For other resources, destination port might be derived from the referent
                                        resource or this field.
                                      format: int32
                                      maximum: 65535
                                      minimum: 1
                                      type: integer
                                  required:
                                  - name
                                  type: object
                                  x-kubernetes-validations:
                                  - message: Must have port for Service reference
                                    rule: '(size(self.group) == 0 && self.kind ==
                                      ''Service'') ? has(self.port) : true'
                                backendRefs:
                                  description: |-
                                    BackendRefs references a Kubernetes object that represents the
                                    backend server to which the authorization request will be sent.
                                  items:
                                    description: BackendRef defines how an ObjectReference
                                      that is specific to BackendRef.
                                    properties:
                                      fallback:
                                        description: |-
                                          Fallback indicates whether the backend is designated as a fallback.
                                          Multiple fallback backends can be configured.
                                          It is highly recommended to configure active or passive health checks to ensure that failover can be detected
                                          when the active backends become unhealthy and to automatically readjust once the primary backends are healthy again.
                                          The overprovisioning factor is set to 1.4, meaning the fallback backends will only start receiving traffic when
                                          the health of the active backends falls below 72%.
                                        type: boolean
                                      group:
                                        default: ""
                                        description: |-
                                          Group is the group of the referent. For example, "gateway.networking.k8s.io".
                                          When unspecified or empty string, core API group is inferred.
                                        maxLength: 253
                                        pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                                        type: string
                                      kind:
                                        default: Service
                                        description: |-
                                          Kind is the Kubernetes resource kind of the referent. For example
                                          "Service".

                                          Defaults to "Service" when not specified.

                                          ExternalName services can refer to CNAME DNS records that may live
                                          outside of the cluster and as such are difficult to reason about in
                                          terms of conformance. They also may not be safe to forward to (see
                                          CVE-2021-25740 for more information). Implementations SHOULD NOT
                                          support ExternalName Services.

                                          Support: Core (Services with a type other than ExternalName)

                                          Support: Implementation-specific (Services with type ExternalName)
                                        maxLength: 63
                                        minLength: 1
                                        pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                                        type: string
                                      name:
                                        description: Name is the name of the referent.
                                        maxLength: 253
                                        minLength: 1
                                        type: string
                                      namespace:
                                        description: |-
                                          Namespace is the namespace of the backend. When unspecified, the local
                                          namespace is inferred.

                                          Note that when a namespace different than the local namespace is specified,
                                          a ReferenceGrant object is required in the referent namespace to allow that
                                          namespace's owner to accept the reference. See the ReferenceGrant
                                          documentation for details.

                                          Support: Core
                                        maxLength: 63
                                        minLength: 1
                                        pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                                        type: string
                                      port:
                                        description: |-
                                          Port specifies the destination port number to use for this resource.
                                          Port is required when the referent is a Kubernetes Service. In this
                                          case, the port number is the service port number, not the target port.
                                          For other resources, destination port might be derived from the referent
                                          resource or this field.
                                        format: int32
                                        maximum: 65535
                                        minimum: 1
                                        type: integer
                                    required:
                                    - name
                                    type: object
                                    x-kubernetes-validations:
                                    - message: Must have port for Service reference
                                      rule: '(size(self.group) == 0 && self.kind ==
                                        ''Service'') ? has(self.port) : true'
                                  maxItems: 16
                                  type: array
                                backendSettings:
                                  description: |-
                                    BackendSettings holds configuration for managing the connection
                                    to the backend.
                                  properties:
                                    circuitBreaker:
                                      description: |-
                                        Circuit Breaker settings for the upstream connections and requests.
                                        If not set, circuit breakers will be enabled with the default thresholds
                                      properties:
                                        maxConnections:
                                          default: 1024
                                          description: The maximum number of connections
                                            that Envoy will establish to the referenced
                                            backend defined within a xRoute rule.
                                          format: int64
                                          maximum: 4294967295
                                          minimum: 0
                                          type: integer
                                        maxParallelRequests:
                                          default: 1024
                                          description: The maximum number of parallel
                                            requests that Envoy will make to the referenced
                                            backend defined within a xRoute rule.
                                          format: int64
                                          maximum: 4294967295
                                          minimum: 0
                                          type: integer
                                        maxParallelRetries:
                                          default: 1024
                                          description: The maximum number of parallel
                                            retries that Envoy will make to the referenced
                                            backend defined within a xRoute rule.
                                          format: int64
                                          maximum: 4294967295
                                          minimum: 0
                                          type: integer
                                        maxPendingRequests:
                                          default: 1024
                                          description: The maximum number of pending
                                            requests that Envoy will queue to the
                                            referenced backend defined within a xRoute
                                            rule.
                                          format: int64
                                          maximum: 4294967295
                                          minimum: 0
                                          type: integer
                                        maxRequestsPerConnection:
                                          description: |-
                                            The maximum number of requests that Envoy will make over a single connection to the referenced backend defined within a xRoute rule.
                                            Default: unlimited.
                                          format: int64
                                          maximum: 4294967295
                                          minimum: 0
                                          type: integer
                                        perEndpoint:
                                          description: PerEndpoint defines Circuit
                                            Breakers that will apply per-endpoint
                                            for an upstream cluster
                                          properties:
                                            maxConnections:
                                              default: 1024
                                              description: MaxConnections configures
                                                the maximum number of connections
                                                that Envoy will establish per-endpoint
                                                to the referenced backend defined
                                                within a xRoute rule.
                                              format: int64
                                              maximum: 4294967295
                                              minimum: 0
                                              type: integer
                                          type: object
                                      type: object
                                    connection:
                                      description: Connection includes backend connection
                                        settings.
                                      properties:
                                        bufferLimit:
                                          allOf:
                                          - pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                          - pattern: ^[1-9]+[0-9]*([EPTGMK]i|[EPTGMk])?$
                                          anyOf:
                                          - type: integer
                                          - type: string
                                          description: |-
                                            BufferLimit Soft limit on size of the cluster’s connections read and write buffers.
                                            BufferLimit applies to connection streaming (maybe non-streaming) channel between processes, it's in user space.
                                            If unspecified, an implementation defined default is applied (32768 bytes).
                                            For example, 20Mi, 1Gi, 256Ki etc.
                                            Note: that when the suffix is not provided, the value is interpreted as bytes.
                                          x-kubernetes-int-or-string: true
                                        socketBufferLimit:
                                          allOf:
                                          - pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                          - pattern: ^[1-9]+[0-9]*([EPTGMK]i|[EPTGMk])?$
                                          anyOf:
                                          - type: integer
                                          - type: string
                                          description: |-
                                            SocketBufferLimit provides configuration for the maximum buffer size in bytes for each socket
                                            to backend.
                                            SocketBufferLimit applies to socket streaming channel between TCP/IP stacks, it's in kernel space.
                                            For example, 20Mi, 1Gi, 256Ki etc.
                                            Note that when the suffix is not provided, the value is interpreted as bytes.
                                          x-kubernetes-int-or-string: true
                                      type: object
                                    dns:
                                      description: DNS includes dns resolution settings.
                                      properties:
                                        dnsRefreshRate:
                                          description: |-
                                            DNSRefreshRate specifies the rate at which DNS records should be refreshed.
                                            Defaults to 30 seconds.
                                          type: string
                                        lookupFamily:
                                          description: |-
                                            LookupFamily determines how Envoy would resolve DNS for Routes where the backend is specified as a fully qualified domain name (FQDN).
                                            If set, this configuration overrides other defaults.
                                          enum:
                                          - IPv4
                                          - IPv6
                                          - IPv4Preferred
                                          - IPv6Preferred
                                          - IPv4AndIPv6
                                          type: string
                                        respectDnsTtl:
                                          description: |-
                                            RespectDNSTTL indicates whether the DNS Time-To-Live (TTL) should be respected.
                                            If the value is set to true, the DNS refresh rate will be set to the resource record’s TTL.
                                            Defaults to true.
                                          type: boolean
                                      type: object
                                    healthCheck:
                                      description: HealthCheck allows gateway to perform
                                        active health checking on backends.
                                      properties:
                                        active:
                                          description: Active health check configuration
                                          properties:
                                            grpc:
                                              description: |-
                                                GRPC defines the configuration of the GRPC health checker.
                                                It's optional, and can only be used if the specified type is GRPC.
                                              properties:
                                                service:
                                                  description: |-
                                                    Service to send in the health check request.
                                                    If this is not specified, then the health check request applies to the entire
                                                    server and not to a specific service.
                                                  type: string
                                              type: object
                                            healthyThreshold:
                                              default: 1
                                              description: HealthyThreshold defines
                                                the number of healthy health checks
                                                required before a backend host is
                                                marked healthy.
                                              format: int32
                                              minimum: 1
                                              type: integer
                                            http:
                                              description: |-
                                                HTTP defines the configuration of http health checker.
                                                It's required while the health checker type is HTTP.
                                              properties:
                                                expectedResponse:
                                                  description: ExpectedResponse defines
                                                    a list of HTTP expected responses
                                                    to match.
                                                  properties:
                                                    binary:
                                                      description: Binary payload
                                                        base64 encoded.
                                                      format: byte
                                                      type: string
                                                    text:
                                                      description: Text payload in
                                                        plain text.
                                                      type: string
                                                    type:
                                                      allOf:
                                                      - enum:
                                                        - Text
                                                        - Binary
                                                      - enum:
                                                        - Text
                                                        - Binary
                                                      description: Type defines the
                                                        type of the payload.
                                                      type: string
                                                  required:
                                                  - type
                                                  type: object
                                                  x-kubernetes-validations:
                                                  - message: If payload type is Text,
                                                      text field needs to be set.
                                                    rule: 'self.type == ''Text'' ?
                                                      has(self.text) : !has(self.text)'
                                                  - message: If payload type is Binary,
                                                      binary field needs to be set.
                                                    rule: 'self.type == ''Binary''
                                                      ? has(self.binary) : !has(self.binary)'
                                                expectedStatuses:
                                                  description: |-
                                                    ExpectedStatuses defines a list of HTTP response statuses considered healthy.
                                                    Defaults to 200 only
                                                  items:
                                                    description: HTTPStatus defines
                                                      the http status code.
                                                    exclusiveMaximum: true
                                                    maximum: 600
                                                    minimum: 100
                                                    type: integer
                                                  type: array
                                                method:
                                                  description: |-
                                                    Method defines the HTTP method used for health checking.
                                                    Defaults to GET
                                                  type: string
                                                path:
                                                  description: Path defines the HTTP
                                                    path that will be requested during
                                                    health checking.
                                                  maxLength: 1024
                                                  minLength: 1
                                                  type: string
                                              required:
                                              - path
                                              type: object
                                            interval:
                                              default: 3s
                                              description: Interval defines the time
                                                between active health checks.
                                              format: duration
                                              type: string
                                            tcp:
                                              description: |-
                                                TCP defines the configuration of tcp health checker.
                                                It's required while the health checker type is TCP.
                                              properties:
                                                receive:
                                                  description: Receive defines the
                                                    expected response payload.
                                                  properties:
                                                    binary:
                                                      description: Binary payload
                                                        base64 encoded.
                                                      format: byte
                                                      type: string
                                                    text:
                                                      description: Text payload in
                                                        plain text.
                                                      type: string
                                                    type:
                                                      allOf:
                                                      - enum:
                                                        - Text
                                                        - Binary
                                                      - enum:
                                                        - Text
                                                        - Binary
                                                      description: Type defines the
                                                        type of the payload.
                                                      type: string
                                                  required:
                                                  - type
                                                  type: object
                                                  x-kubernetes-validations:
                                                  - message: If payload type is Text,
                                                      text field needs to be set.
                                                    rule: 'self.type == ''Text'' ?
                                                      has(self.text) : !has(self.text)'
                                                  - message: If payload type is Binary,
                                                      binary field needs to be set.
                                                    rule: 'self.type == ''Binary''
                                                      ? has(self.binary) : !has(self.binary)'
                                                send:
                                                  description: Send defines the request
                                                    payload.
                                                  properties:
                                                    binary:
                                                      description: Binary payload
                                                        base64 encoded.
                                                      format: byte
                                                      type: string
                                                    text:
                                                      description: Text payload in
                                                        plain text.
                                                      type: string
                                                    type:
                                                      allOf:
                                                      - enum:
                                                        - Text
                                                        - Binary
                                                      - enum:
                                                        - Text
                                                        - Binary
                                                      description: Type defines the
                                                        type of the payload.
                                                      type: string
                                                  required:
                                                  - type
                                                  type: object
                                                  x-kubernetes-validations:
                                                  - message: If payload type is Text,
                                                      text field needs to be set.
                                                    rule: 'self.type == ''Text'' ?
                                                      has(self.text) : !has(self.text)'
                                                  - message: If payload type is Binary,
                                                      binary field needs to be set.
                                                    rule: 'self.type == ''Binary''
                                                      ? has(self.binary) : !has(self.binary)'
                                              type: object
                                            timeout:
                                              default: 1s
                                              description: Timeout defines the time
                                                to wait for a health check response.
                                              format: duration
                                              type: string
                                            type:
                                              allOf:
                                              - enum:
                                                - HTTP
                                                - TCP
                                                - GRPC
                                              - enum:
                                                - HTTP
                                                - TCP
                                                - GRPC
                                              description: Type defines the type of
                                                health checker.
                                              type: string
                                            unhealthyThreshold:
                                              default: 3
                                              description: UnhealthyThreshold defines
                                                the number of unhealthy health checks
                                                required before a backend host is
                                                marked unhealthy.
                                              format: int32
                                              minimum: 1
                                              type: integer
                                          required:
                                          - type
                                          type: object
                                          x-kubernetes-validations:
                                          - message: If Health Checker type is HTTP,
                                              http field needs to be set.
                                            rule: 'self.type == ''HTTP'' ? has(self.http)
                                              : !has(self.http)'
                                          - message: If Health Checker type is TCP,
                                              tcp field needs to be set.
                                            rule: 'self.type == ''TCP'' ? has(self.tcp)
                                              : !has(self.tcp)'
                                          - message: The grpc field can only be set
                                              if the Health Checker type is GRPC.
                                            rule: 'has(self.grpc) ? self.type == ''GRPC''
                                              : true'
                                        panicThreshold:
                                          description: |-
                                            When number of unhealthy endpoints for a backend reaches this threshold
                                            Envoy will disregard health status and balance across all endpoints.
                                            It's designed to prevent a situation in which host failures cascade throughout the cluster
                                            as load increases. If not set, the default value is 50%. To disable panic mode, set value to `0`.
                                          format: int32
                                          maximum: 100
                                          minimum: 0
                                          type: integer
                                        passive:
                                          description: Passive passive check configuration
                                          properties:
                                            baseEjectionTime:
                                              default: 30s
                                              description: BaseEjectionTime defines
                                                the base duration for which a host
                                                will be ejected on consecutive failures.
                                              format: duration
                                              type: string
                                            consecutive5XxErrors:
                                              default: 5
                                              description: Consecutive5xxErrors sets
                                                the number of consecutive 5xx errors
                                                triggering ejection.
                                              format: int32
                                              type: integer
                                            consecutiveGatewayErrors:
                                              default: 0
                                              description: ConsecutiveGatewayErrors
                                                sets the number of consecutive gateway
                                                errors triggering ejection.
                                              format: int32
                                              type: integer
                                            consecutiveLocalOriginFailures:
                                              default: 5
                                              description: |-
                                                ConsecutiveLocalOriginFailures sets the number of consecutive local origin failures triggering ejection.
                                                Parameter takes effect only when split_external_local_origin_errors is set to true.
                                              format: int32
                                              type: integer
                                            interval:
                                              default: 3s
                                              description: Interval defines the time
                                                between passive health checks.
                                              format: duration
                                              type: string
                                            maxEjectionPercent:
                                              default: 10
                                              description: MaxEjectionPercent sets
                                                the maximum percentage of hosts in
                                                a cluster that can be ejected.
                                              format: int32
                                              type: integer
                                            splitExternalLocalOriginErrors:
                                              default: false
                                              description: SplitExternalLocalOriginErrors
                                                enables splitting of errors between
                                                external and local origin.
                                              type: boolean
                                          type: object
                                      type: object
                                    http2:
                                      description: HTTP2 provides HTTP/2 configuration
                                        for backend connections.
                                      properties:
                                        initialConnectionWindowSize:
                                          allOf:
                                          - pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                          - pattern: ^[1-9]+[0-9]*([EPTGMK]i|[EPTGMk])?$
                                          anyOf:
                                          - type: integer
                                          - type: string
                                          description: |-
                                            InitialConnectionWindowSize sets the initial window size for HTTP/2 connections.
                                            If not set, the default value is 1 MiB.
                                          x-kubernetes-int-or-string: true
                                        initialStreamWindowSize:
                                          allOf:
                                          - pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                          - pattern: ^[1-9]+[0-9]*([EPTGMK]i|[EPTGMk])?$
                                          anyOf:
                                          - type: integer
                                          - type: string
                                          description: |-
                                            InitialStreamWindowSize sets the initial window size for HTTP/2 streams.
                                            If not set, the default value is 64 KiB(64*1024).
                                          x-kubernetes-int-or-string: true
                                        maxConcurrentStreams:
                                          description: |-
                                            MaxConcurrentStreams sets the maximum number of concurrent streams allowed per connection.
                                            If not set, the default value is 100.
                                          format: int32
                                          maximum: 2147483647
                                          minimum: 1
                                          type: integer
                                        onInvalidMessage:
                                          description: |-
                                            OnInvalidMessage determines if Envoy will terminate the connection or just the offending stream in the event of HTTP messaging error
                                            It's recommended for L2 Envoy deployments to set this value to TerminateStream.
                                            https://www.envoyproxy.io/docs/envoy/latest/configuration/best_practices/level_two
                                            Default: TerminateConnection
                                          type: string
                                      type: object
                                    loadBalancer:
                                      description: |-
                                        LoadBalancer policy to apply when routing traffic from the gateway to
                                        the backend endpoints. Defaults to `LeastRequest`.
                                      properties:
                                        consistentHash:
                                          description: |-
                                            ConsistentHash defines the configuration when the load balancer type is
                                            set to ConsistentHash
                                          properties:
                                            cookie:
                                              description: Cookie configures the cookie
                                                hash policy when the consistent hash
                                                type is set to Cookie.
                                              properties:
                                                attributes:
                                                  additionalProperties:
                                                    type: string
                                                  description: Additional Attributes
                                                    to set for the generated cookie.
                                                  type: object
                                                name:
                                                  description: |-
                                                    Name of the cookie to hash.
                                                    If this cookie does not exist in the request, Envoy will generate a cookie and set
                                                    the TTL on the response back to the client based on Layer 4
                                                    attributes of the backend endpoint, to ensure that these future requests
                                                    go to the same backend endpoint. Make sure to set the TTL field for this case.
                                                  type: string
                                                ttl:
                                                  description: |-
                                                    TTL of the generated cookie if the cookie is not present. This value sets the
                                                    Max-Age attribute value.
                                                  type: string
                                              required:
                                              - name
                                              type: object
                                            header:
                                              description: Header configures the header
                                                hash policy when the consistent hash
                                                type is set to Header.
                                              properties:
                                                name:
                                                  description: Name of the header
                                                    to hash.
                                                  type: string
                                              required:
                                              - name
                                              type: object
                                            tableSize:
                                              default: 65537
                                              description: The table size for consistent
                                                hashing, must be prime number limited
                                                to 5000011.
                                              format: int64
                                              maximum: 5000011
                                              minimum: 2
                                              type: integer
                                            type:
                                              description: |-
                                                ConsistentHashType defines the type of input to hash on. Valid Type values are
                                                "SourceIP",
                                                "Header",
                                                "Cookie".
                                              enum:
                                              - SourceIP
                                              - Header
                                              - Cookie
                                              type: string
                                          required:
                                          - type
                                          type: object
                                          x-kubernetes-validations:
                                          - message: If consistent hash type is header,
                                              the header field must be set.
                                            rule: 'self.type == ''Header'' ? has(self.header)
                                              : !has(self.header)'
                                          - message: If consistent hash type is cookie,
                                              the cookie field must be set.
                                            rule: 'self.type == ''Cookie'' ? has(self.cookie)
                                              : !has(self.cookie)'
                                        slowStart:
                                          description: |-
                                            SlowStart defines the configuration related to the slow start load balancer policy.
                                            If set, during slow start window, traffic sent to the newly added hosts will gradually increase.
                                            Currently this is only supported for RoundRobin and LeastRequest load balancers
                                          properties:
                                            window:
                                              description: |-
                                                Window defines the duration of the warm up period for newly added host.
                                                During slow start window, traffic sent to the newly added hosts will gradually increase.
                                                Currently only supports linear growth of traffic. For additional details,
                                                see https://www.envoyproxy.io/docs/envoy/latest/api-v3/config/cluster/v3/cluster.proto#config-cluster-v3-cluster-slowstartconfig
                                              type: string
                                          required:
                                          - window
                                          type: object
                                        type:
                                          description: |-
                                            Type decides the type of Load Balancer policy.
                                            Valid LoadBalancerType values are
                                            "ConsistentHash",
                                            "LeastRequest",
                                            "Random",
                                            "RoundRobin".
                                          enum:
                                          - ConsistentHash
                                          - LeastRequest
                                          - Random
                                          - RoundRobin
                                          type: string
                                      required:
                                      - type
                                      type: object
                                      x-kubernetes-validations:
                                      - message: If LoadBalancer type is consistentHash,
                                          consistentHash field needs to be set.
                                        rule: 'self.type == ''ConsistentHash'' ? has(self.consistentHash)
                                          : !has(self.consistentHash)'
                                      - message: Currently SlowStart is only supported
                                          for RoundRobin and LeastRequest load balancers.
                                        rule: 'self.type in [''Random'', ''ConsistentHash'']
                                          ? !has(self.slowStart) : true '
                                    proxyProtocol:
                                      description: ProxyProtocol enables the Proxy
                                        Protocol when communicating with the backend.
                                      properties:
                                        version:
                                          description: |-
                                            Version of ProxyProtol
                                            Valid ProxyProtocolVersion values are
                                            "V1"
                                            "V2"
                                          enum:
                                          - V1
                                          - V2
                                          type: string
                                      required:
                                      - version
                                      type: object
                                    retry:
                                      description: |-
                                        Retry provides more advanced usage, allowing users to customize the number of retries, retry fallback strategy, and retry triggering conditions.
                                        If not set, retry will be disabled.
                                      properties:
                                        numRetries:
                                          default: 2
                                          description: NumRetries is the number of
                                            retries to be attempted. Defaults to 2.
                                          format: int32
                                          minimum: 0
                                          type: integer
                                        perRetry:
                                          description: PerRetry is the retry policy
                                            to be applied per retry attempt.
                                          properties:
                                            backOff:
                                              description: |-
                                                Backoff is the backoff policy to be applied per retry attempt. gateway uses a fully jittered exponential
                                                back-off algorithm for retries. For additional details,
                                                see https://www.envoyproxy.io/docs/envoy/latest/configuration/http/http_filters/router_filter#config-http-filters-router-x-envoy-max-retries
                                              properties:
                                                baseInterval:
                                                  description: BaseInterval is the
                                                    base interval between retries.
                                                  format: duration
                                                  type: string
                                                maxInterval:
                                                  description: |-
                                                    MaxInterval is the maximum interval between retries. This parameter is optional, but must be greater than or equal to the base_interval if set.
                                                    The default is 10 times the base_interval
                                                  format: duration
                                                  type: string
                                              type: object
                                            timeout:
                                              description: Timeout is the timeout
                                                per retry attempt.
                                              format: duration
                                              type: string
                                          type: object
                                        retryOn:
                                          description: |-
                                            RetryOn specifies the retry trigger condition.

                                            If not specified, the default is to retry on connect-failure,refused-stream,unavailable,cancelled,retriable-status-codes(503).
                                          properties:
                                            httpStatusCodes:
                                              description: |-
                                                HttpStatusCodes specifies the http status codes to be retried.
                                                The retriable-status-codes trigger must also be configured for these status codes to trigger a retry.
                                              items:
                                                description: HTTPStatus defines the
                                                  http status code.
                                                exclusiveMaximum: true
                                                maximum: 600
                                                minimum: 100
                                                type: integer
                                              type: array
                                            triggers:
                                              description: Triggers specifies the
                                                retry trigger condition(Http/Grpc).
                                              items:
                                                description: TriggerEnum specifies
                                                  the conditions that trigger retries.
                                                enum:
                                                - 5xx
                                                - gateway-error
                                                - reset
                                                - connect-failure
                                                - retriable-4xx
                                                - refused-stream
                                                - retriable-status-codes
                                                - cancelled
                                                - deadline-exceeded
                                                - internal
                                                - resource-exhausted
                                                - unavailable
                                                type: string
                                              type: array
                                          type: object
                                      type: object
                                    tcpKeepalive:
                                      description: |-
                                        TcpKeepalive settings associated with the upstream client connection.
                                        Disabled by default.
                                      properties:
                                        idleTime:
                                          description: |-
                                            The duration a connection needs to be idle before keep-alive
                                            probes start being sent.
                                            The duration format is
                                            Defaults to `7200s`.
                                          pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                                          type: string
                                        interval:
                                          description: |-
                                            The duration between keep-alive probes.
                                            Defaults to `75s`.
                                          pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                                          type: string
                                        probes:
                                          description: |-
                                            The total number of unacknowledged probes to send before deciding
                                            the connection is dead.
                                            Defaults to 9.
                                          format: int32
                                          type: integer
                                      type: object
                                    timeout:
                                      description: Timeout settings for the backend
                                        connections.
                                      properties:
                                        http:
                                          description: Timeout settings for HTTP.
                                          properties:
                                            connectionIdleTimeout:
                                              description: |-
                                                The idle timeout for an HTTP connection. Idle time is defined as a period in which there are no active requests in the connection.
                                                Default: 1 hour.
                                              pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                                              type: string
                                            maxConnectionDuration:
                                              description: |-
                                                The maximum duration of an HTTP connection.
                                                Default: unlimited.
                                              pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                                              type: string
                                            requestTimeout:
                                              description: RequestTimeout is the time
                                                until which entire response is received
                                                from the upstream.
                                              pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                                              type: string
                                          type: object
                                        tcp:
                                          description: Timeout settings for TCP.
                                          properties:
                                            connectTimeout:
                                              description: |-
                                                The timeout for network connection establishment, including TCP and TLS handshakes.
                                                Default: 10 seconds.
                                              pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                                              type: string
                                          type: object
                                      type: object
                                  type: object
                                host:
                                  description: |-
                                    Host define the service hostname.
                                    Deprecated: Use BackendRefs instead.
                                  type: string
                                port:
                                  default: 4317
                                  description: |-
                                    Port defines the port the service is exposed on.
                                    Deprecated: Use BackendRefs instead.
                                  format: int32
                                  maximum: 65535
                                  minimum: 0
                                  type: integer
                              type: object
                              x-kubernetes-validations:
                              - message: host or backendRefs needs to be set
                                rule: has(self.host) || self.backendRefs.size() >
                                  0
                              - message: BackendRefs must be used, backendRef is not
                                  supported.
                                rule: '!has(self.backendRef)'
                              - message: BackendRefs only support Service and Backend
                                  kind.
                                rule: 'has(self.backendRefs) ? self.backendRefs.all(f,
                                  f.kind == ''Service'' || f.kind == ''Backend'')
                                  : true'
                              - message: BackendRefs only support Core and gateway.envoyproxy.io
                                  group.
                                rule: 'has(self.backendRefs) ? (self.backendRefs.all(f,
                                  f.group == "" || f.group == ''gateway.envoyproxy.io''))
                                  : true'
                            type:
                              default: OpenTelemetry
                              description: |-
                                Type defines the metric sink type.
                                EG currently only supports OpenTelemetry.
                              enum:
                              - OpenTelemetry
                              type: string
                          required:
                          - type
                          type: object
                          x-kubernetes-validations:
                          - message: If MetricSink type is OpenTelemetry, openTelemetry
                              field needs to be set.
                            rule: 'self.type == ''OpenTelemetry'' ? has(self.openTelemetry)
                              : !has(self.openTelemetry)'
                        maxItems: 16
                        type: array
                    type: object
                  tracing:
                    description: |-
                      Tracing defines tracing configuration for managed proxies.
                      If unspecified, will not send tracing data.
                    properties:
                      customTags:
                        additionalProperties:
                          properties:
                            environment:
                              description: |-
                                Environment adds value from environment variable to each span.
                                It's required when the type is "Environment".
                              properties:
                                defaultValue:
                                  description: DefaultValue defines the default value
                                    to use if the environment variable is not set.
                                  type: string
                                name:
                                  description: Name defines the name of the environment
                                    variable which to extract the value from.
                                  type: string
                              required:
                              - name
                              type: object
                            literal:
                              description: |-
                                Literal adds hard-coded value to each span.
                                It's required when the type is "Literal".
                              properties:
                                value:
                                  description: Value defines the hard-coded value
                                    to add to each span.
                                  type: string
                              required:
                              - value
                              type: object
                            requestHeader:
                              description: |-
                                RequestHeader adds value from request header to each span.
                                It's required when the type is "RequestHeader".
                              properties:
                                defaultValue:
                                  description: DefaultValue defines the default value
                                    to use if the request header is not set.
                                  type: string
                                name:
                                  description: Name defines the name of the request
                                    header which to extract the value from.
                                  type: string
                              required:
                              - name
                              type: object
                            type:
                              default: Literal
                              description: Type defines the type of custom tag.
                              enum:
                              - Literal
                              - Environment
                              - RequestHeader
                              type: string
                          required:
                          - type
                          type: object
                        description: |-
                          CustomTags defines the custom tags to add to each span.
                          If provider is kubernetes, pod name and namespace are added by default.
                        type: object
                      provider:
                        description: Provider defines the tracing provider.
                        properties:
                          backendRef:
                            description: |-
                              BackendRef references a Kubernetes object that represents the
                              backend server to which the authorization request will be sent.

                              Deprecated: Use BackendRefs instead.
                            properties:
                              group:
                                default: ""
                                description: |-
                                  Group is the group of the referent. For example, "gateway.networking.k8s.io".
                                  When unspecified or empty string, core API group is inferred.
                                maxLength: 253
                                pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                                type: string
                              kind:
                                default: Service
                                description: |-
                                  Kind is the Kubernetes resource kind of the referent. For example
                                  "Service".

                                  Defaults to "Service" when not specified.

                                  ExternalName services can refer to CNAME DNS records that may live
                                  outside of the cluster and as such are difficult to reason about in
                                  terms of conformance. They also may not be safe to forward to (see
                                  CVE-2021-25740 for more information). Implementations SHOULD NOT
                                  support ExternalName Services.

                                  Support: Core (Services with a type other than ExternalName)

                                  Support: Implementation-specific (Services with type ExternalName)
                                maxLength: 63
                                minLength: 1
                                pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                                type: string
                              name:
                                description: Name is the name of the referent.
                                maxLength: 253
                                minLength: 1
                                type: string
                              namespace:
                                description: |-
                                  Namespace is the namespace of the backend. When unspecified, the local
                                  namespace is inferred.

                                  Note that when a namespace different than the local namespace is specified,
                                  a ReferenceGrant object is required in the referent namespace to allow that
                                  namespace's owner to accept the reference. See the ReferenceGrant
                                  documentation for details.

                                  Support: Core
                                maxLength: 63
                                minLength: 1
                                pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                                type: string
                              port:
                                description: |-
                                  Port specifies the destination port number to use for this resource.
                                  Port is required when the referent is a Kubernetes Service. In this
                                  case, the port number is the service port number, not the target port.
                                  For other resources, destination port might be derived from the referent
                                  resource or this field.
                                format: int32
                                maximum: 65535
                                minimum: 1
                                type: integer
                            required:
                            - name
                            type: object
                            x-kubernetes-validations:
                            - message: Must have port for Service reference
                              rule: '(size(self.group) == 0 && self.kind == ''Service'')
                                ? has(self.port) : true'
                          backendRefs:
                            description: |-
                              BackendRefs references a Kubernetes object that represents the
                              backend server to which the authorization request will be sent.
                            items:
                              description: BackendRef defines how an ObjectReference
                                that is specific to BackendRef.
                              properties:
                                fallback:
                                  description: |-
                                    Fallback indicates whether the backend is designated as a fallback.
                                    Multiple fallback backends can be configured.
                                    It is highly recommended to configure active or passive health checks to ensure that failover can be detected
                                    when the active backends become unhealthy and to automatically readjust once the primary backends are healthy again.
                                    The overprovisioning factor is set to 1.4, meaning the fallback backends will only start receiving traffic when
                                    the health of the active backends falls below 72%.
                                  type: boolean
                                group:
                                  default: ""
                                  description: |-
                                    Group is the group of the referent. For example, "gateway.networking.k8s.io".
                                    When unspecified or empty string, core API group is inferred.
                                  maxLength: 253
                                  pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                                  type: string
                                kind:
                                  default: Service
                                  description: |-
                                    Kind is the Kubernetes resource kind of the referent. For example
                                    "Service".

                                    Defaults to "Service" when not specified.

                                    ExternalName services can refer to CNAME DNS records that may live
                                    outside of the cluster and as such are difficult to reason about in
                                    terms of conformance. They also may not be safe to forward to (see
                                    CVE-2021-25740 for more information). Implementations SHOULD NOT
                                    support ExternalName Services.

                                    Support: Core (Services with a type other than ExternalName)

                                    Support: Implementation-specific (Services with type ExternalName)
                                  maxLength: 63
                                  minLength: 1
                                  pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                                  type: string
                                name:
                                  description: Name is the name of the referent.
                                  maxLength: 253
                                  minLength: 1
                                  type: string
                                namespace:
                                  description: |-
                                    Namespace is the namespace of the backend. When unspecified, the local
                                    namespace is inferred.

                                    Note that when a namespace different than the local namespace is specified,
                                    a ReferenceGrant object is required in the referent namespace to allow that
                                    namespace's owner to accept the reference. See the ReferenceGrant
                                    documentation for details.

                                    Support: Core
                                  maxLength: 63
                                  minLength: 1
                                  pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                                  type: string
                                port:
                                  description: |-
                                    Port specifies the destination port number to use for this resource.
                                    Port is required when the referent is a Kubernetes Service. In this
                                    case, the port number is the service port number, not the target port.
                                    For other resources, destination port might be derived from the referent
                                    resource or this field.
                                  format: int32
                                  maximum: 65535
                                  minimum: 1
                                  type: integer
                              required:
                              - name
                              type: object
                              x-kubernetes-validations:
                              - message: Must have port for Service reference
                                rule: '(size(self.group) == 0 && self.kind == ''Service'')
                                  ? has(self.port) : true'
                            maxItems: 16
                            type: array
                          backendSettings:
                            description: |-
                              BackendSettings holds configuration for managing the connection
                              to the backend.
                            properties:
                              circuitBreaker:
                                description: |-
                                  Circuit Breaker settings for the upstream connections and requests.
                                  If not set, circuit breakers will be enabled with the default thresholds
                                properties:
                                  maxConnections:
                                    default: 1024
                                    description: The maximum number of connections
                                      that Envoy will establish to the referenced
                                      backend defined within a xRoute rule.
                                    format: int64
                                    maximum: 4294967295
                                    minimum: 0
                                    type: integer
                                  maxParallelRequests:
                                    default: 1024
                                    description: The maximum number of parallel requests
                                      that Envoy will make to the referenced backend
                                      defined within a xRoute rule.
                                    format: int64
                                    maximum: 4294967295
                                    minimum: 0
                                    type: integer
                                  maxParallelRetries:
                                    default: 1024
                                    description: The maximum number of parallel retries
                                      that Envoy will make to the referenced backend
                                      defined within a xRoute rule.
                                    format: int64
                                    maximum: 4294967295
                                    minimum: 0
                                    type: integer
                                  maxPendingRequests:
                                    default: 1024
                                    description: The maximum number of pending requests
                                      that Envoy will queue to the referenced backend
                                      defined within a xRoute rule.
                                    format: int64
                                    maximum: 4294967295
                                    minimum: 0
                                    type: integer
                                  maxRequestsPerConnection:
                                    description: |-
                                      The maximum number of requests that Envoy will make over a single connection to the referenced backend defined within a xRoute rule.
                                      Default: unlimited.
                                    format: int64
                                    maximum: 4294967295
                                    minimum: 0
                                    type: integer
                                  perEndpoint:
                                    description: PerEndpoint defines Circuit Breakers
                                      that will apply per-endpoint for an upstream
                                      cluster
                                    properties:
                                      maxConnections:
                                        default: 1024
                                        description: MaxConnections configures the
                                          maximum number of connections that Envoy
                                          will establish per-endpoint to the referenced
                                          backend defined within a xRoute rule.
                                        format: int64
                                        maximum: 4294967295
                                        minimum: 0
                                        type: integer
                                    type: object
                                type: object
                              connection:
                                description: Connection includes backend connection
                                  settings.
                                properties:
                                  bufferLimit:
                                    allOf:
                                    - pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                    - pattern: ^[1-9]+[0-9]*([EPTGMK]i|[EPTGMk])?$
                                    anyOf:
                                    - type: integer
                                    - type: string
                                    description: |-
                                      BufferLimit Soft limit on size of the cluster’s connections read and write buffers.
                                      BufferLimit applies to connection streaming (maybe non-streaming) channel between processes, it's in user space.
                                      If unspecified, an implementation defined default is applied (32768 bytes).
                                      For example, 20Mi, 1Gi, 256Ki etc.
                                      Note: that when the suffix is not provided, the value is interpreted as bytes.
                                    x-kubernetes-int-or-string: true
                                  socketBufferLimit:
                                    allOf:
                                    - pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                    - pattern: ^[1-9]+[0-9]*([EPTGMK]i|[EPTGMk])?$
                                    anyOf:
                                    - type: integer
                                    - type: string
                                    description: |-
                                      SocketBufferLimit provides configuration for the maximum buffer size in bytes for each socket
                                      to backend.
                                      SocketBufferLimit applies to socket streaming channel between TCP/IP stacks, it's in kernel space.
                                      For example, 20Mi, 1Gi, 256Ki etc.
                                      Note that when the suffix is not provided, the value is interpreted as bytes.
                                    x-kubernetes-int-or-string: true
                                type: object
                              dns:
                                description: DNS includes dns resolution settings.
                                properties:
                                  dnsRefreshRate:
                                    description: |-
                                      DNSRefreshRate specifies the rate at which DNS records should be refreshed.
                                      Defaults to 30 seconds.
                                    type: string
                                  lookupFamily:
                                    description: |-
                                      LookupFamily determines how Envoy would resolve DNS for Routes where the backend is specified as a fully qualified domain name (FQDN).
                                      If set, this configuration overrides other defaults.
                                    enum:
                                    - IPv4
                                    - IPv6
                                    - IPv4Preferred
                                    - IPv6Preferred
                                    - IPv4AndIPv6
                                    type: string
                                  respectDnsTtl:
                                    description: |-
                                      RespectDNSTTL indicates whether the DNS Time-To-Live (TTL) should be respected.
                                      If the value is set to true, the DNS refresh rate will be set to the resource record’s TTL.
                                      Defaults to true.
                                    type: boolean
                                type: object
                              healthCheck:
                                description: HealthCheck allows gateway to perform
                                  active health checking on backends.
                                properties:
                                  active:
                                    description: Active health check configuration
                                    properties:
                                      grpc:
                                        description: |-
                                          GRPC defines the configuration of the GRPC health checker.
                                          It's optional, and can only be used if the specified type is GRPC.
                                        properties:
                                          service:
                                            description: |-
                                              Service to send in the health check request.
                                              If this is not specified, then the health check request applies to the entire
                                              server and not to a specific service.
                                            type: string
                                        type: object
                                      healthyThreshold:
                                        default: 1
                                        description: HealthyThreshold defines the
                                          number of healthy health checks required
                                          before a backend host is marked healthy.
                                        format: int32
                                        minimum: 1
                                        type: integer
                                      http:
                                        description: |-
                                          HTTP defines the configuration of http health checker.
                                          It's required while the health checker type is HTTP.
                                        properties:
                                          expectedResponse:
                                            description: ExpectedResponse defines
                                              a list of HTTP expected responses to
                                              match.
                                            properties:
                                              binary:
                                                description: Binary payload base64
                                                  encoded.
                                                format: byte
                                                type: string
                                              text:
                                                description: Text payload in plain
                                                  text.
                                                type: string
                                              type:
                                                allOf:
                                                - enum:
                                                  - Text
                                                  - Binary
                                                - enum:
                                                  - Text
                                                  - Binary
                                                description: Type defines the type
                                                  of the payload.
                                                type: string
                                            required:
                                            - type
                                            type: object
                                            x-kubernetes-validations:
                                            - message: If payload type is Text, text
                                                field needs to be set.
                                              rule: 'self.type == ''Text'' ? has(self.text)
                                                : !has(self.text)'
                                            - message: If payload type is Binary,
                                                binary field needs to be set.
                                              rule: 'self.type == ''Binary'' ? has(self.binary)
                                                : !has(self.binary)'
                                          expectedStatuses:
                                            description: |-
                                              ExpectedStatuses defines a list of HTTP response statuses considered healthy.
                                              Defaults to 200 only
                                            items:
                                              description: HTTPStatus defines the
                                                http status code.
                                              exclusiveMaximum: true
                                              maximum: 600
                                              minimum: 100
                                              type: integer
                                            type: array
                                          method:
                                            description: |-
                                              Method defines the HTTP method used for health checking.
                                              Defaults to GET
                                            type: string
                                          path:
                                            description: Path defines the HTTP path
                                              that will be requested during health
                                              checking.
                                            maxLength: 1024
                                            minLength: 1
                                            type: string
                                        required:
                                        - path
                                        type: object
                                      interval:
                                        default: 3s
                                        description: Interval defines the time between
                                          active health checks.
                                        format: duration
                                        type: string
                                      tcp:
                                        description: |-
                                          TCP defines the configuration of tcp health checker.
                                          It's required while the health checker type is TCP.
                                        properties:
                                          receive:
                                            description: Receive defines the expected
                                              response payload.
                                            properties:
                                              binary:
                                                description: Binary payload base64
                                                  encoded.
                                                format: byte
                                                type: string
                                              text:
                                                description: Text payload in plain
                                                  text.
                                                type: string
                                              type:
                                                allOf:
                                                - enum:
                                                  - Text
                                                  - Binary
                                                - enum:
                                                  - Text
                                                  - Binary
                                                description: Type defines the type
                                                  of the payload.
                                                type: string
                                            required:
                                            - type
                                            type: object
                                            x-kubernetes-validations:
                                            - message: If payload type is Text, text
                                                field needs to be set.
                                              rule: 'self.type == ''Text'' ? has(self.text)
                                                : !has(self.text)'
                                            - message: If payload type is Binary,
                                                binary field needs to be set.
                                              rule: 'self.type == ''Binary'' ? has(self.binary)
                                                : !has(self.binary)'
                                          send:
                                            description: Send defines the request
                                              payload.
                                            properties:
                                              binary:
                                                description: Binary payload base64
                                                  encoded.
                                                format: byte
                                                type: string
                                              text:
                                                description: Text payload in plain
                                                  text.
                                                type: string
                                              type:
                                                allOf:
                                                - enum:
                                                  - Text
                                                  - Binary
                                                - enum:
                                                  - Text
                                                  - Binary
                                                description: Type defines the type
                                                  of the payload.
                                                type: string
                                            required:
                                            - type
                                            type: object
                                            x-kubernetes-validations:
                                            - message: If payload type is Text, text
                                                field needs to be set.
                                              rule: 'self.type == ''Text'' ? has(self.text)
                                                : !has(self.text)'
                                            - message: If payload type is Binary,
                                                binary field needs to be set.
                                              rule: 'self.type == ''Binary'' ? has(self.binary)
                                                : !has(self.binary)'
                                        type: object
                                      timeout:
                                        default: 1s
                                        description: Timeout defines the time to wait
                                          for a health check response.
                                        format: duration
                                        type: string
                                      type:
                                        allOf:
                                        - enum:
                                          - HTTP
                                          - TCP
                                          - GRPC
                                        - enum:
                                          - HTTP
                                          - TCP
                                          - GRPC
                                        description: Type defines the type of health
                                          checker.
                                        type: string
                                      unhealthyThreshold:
                                        default: 3
                                        description: UnhealthyThreshold defines the
                                          number of unhealthy health checks required
                                          before a backend host is marked unhealthy.
                                        format: int32
                                        minimum: 1
                                        type: integer
                                    required:
                                    - type
                                    type: object
                                    x-kubernetes-validations:
                                    - message: If Health Checker type is HTTP, http
                                        field needs to be set.
                                      rule: 'self.type == ''HTTP'' ? has(self.http)
                                        : !has(self.http)'
                                    - message: If Health Checker type is TCP, tcp
                                        field needs to be set.
                                      rule: 'self.type == ''TCP'' ? has(self.tcp)
                                        : !has(self.tcp)'
                                    - message: The grpc field can only be set if the
                                        Health Checker type is GRPC.
                                      rule: 'has(self.grpc) ? self.type == ''GRPC''
                                        : true'
                                  panicThreshold:
                                    description: |-
                                      When number of unhealthy endpoints for a backend reaches this threshold
                                      Envoy will disregard health status and balance across all endpoints.
                                      It's designed to prevent a situation in which host failures cascade throughout the cluster
                                      as load increases. If not set, the default value is 50%. To disable panic mode, set value to `0`.
                                    format: int32
                                    maximum: 100
                                    minimum: 0
                                    type: integer
                                  passive:
                                    description: Passive passive check configuration
                                    properties:
                                      baseEjectionTime:
                                        default: 30s
                                        description: BaseEjectionTime defines the
                                          base duration for which a host will be ejected
                                          on consecutive failures.
                                        format: duration
                                        type: string
                                      consecutive5XxErrors:
                                        default: 5
                                        description: Consecutive5xxErrors sets the
                                          number of consecutive 5xx errors triggering
                                          ejection.
                                        format: int32
                                        type: integer
                                      consecutiveGatewayErrors:
                                        default: 0
                                        description: ConsecutiveGatewayErrors sets
                                          the number of consecutive gateway errors
                                          triggering ejection.
                                        format: int32
                                        type: integer
                                      consecutiveLocalOriginFailures:
                                        default: 5
                                        description: |-
                                          ConsecutiveLocalOriginFailures sets the number of consecutive local origin failures triggering ejection.
                                          Parameter takes effect only when split_external_local_origin_errors is set to true.
                                        format: int32
                                        type: integer
                                      interval:
                                        default: 3s
                                        description: Interval defines the time between
                                          passive health checks.
                                        format: duration
                                        type: string
                                      maxEjectionPercent:
                                        default: 10
                                        description: MaxEjectionPercent sets the maximum
                                          percentage of hosts in a cluster that can
                                          be ejected.
                                        format: int32
                                        type: integer
                                      splitExternalLocalOriginErrors:
                                        default: false
                                        description: SplitExternalLocalOriginErrors
                                          enables splitting of errors between external
                                          and local origin.
                                        type: boolean
                                    type: object
                                type: object
                              http2:
                                description: HTTP2 provides HTTP/2 configuration for
                                  backend connections.
                                properties:
                                  initialConnectionWindowSize:
                                    allOf:
                                    - pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                    - pattern: ^[1-9]+[0-9]*([EPTGMK]i|[EPTGMk])?$
                                    anyOf:
                                    - type: integer
                                    - type: string
                                    description: |-
                                      InitialConnectionWindowSize sets the initial window size for HTTP/2 connections.
                                      If not set, the default value is 1 MiB.
                                    x-kubernetes-int-or-string: true
                                  initialStreamWindowSize:
                                    allOf:
                                    - pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                    - pattern: ^[1-9]+[0-9]*([EPTGMK]i|[EPTGMk])?$
                                    anyOf:
                                    - type: integer
                                    - type: string
                                    description: |-
                                      InitialStreamWindowSize sets the initial window size for HTTP/2 streams.
                                      If not set, the default value is 64 KiB(64*1024).
                                    x-kubernetes-int-or-string: true
                                  maxConcurrentStreams:
                                    description: |-
                                      MaxConcurrentStreams sets the maximum number of concurrent streams allowed per connection.
                                      If not set, the default value is 100.
                                    format: int32
                                    maximum: 2147483647
                                    minimum: 1
                                    type: integer
                                  onInvalidMessage:
                                    description: |-
                                      OnInvalidMessage determines if Envoy will terminate the connection or just the offending stream in the event of HTTP messaging error
                                      It's recommended for L2 Envoy deployments to set this value to TerminateStream.
                                      https://www.envoyproxy.io/docs/envoy/latest/configuration/best_practices/level_two
                                      Default: TerminateConnection
                                    type: string
                                type: object
                              loadBalancer:
                                description: |-
                                  LoadBalancer policy to apply when routing traffic from the gateway to
                                  the backend endpoints. Defaults to `LeastRequest`.
                                properties:
                                  consistentHash:
                                    description: |-
                                      ConsistentHash defines the configuration when the load balancer type is
                                      set to ConsistentHash
                                    properties:
                                      cookie:
                                        description: Cookie configures the cookie
                                          hash policy when the consistent hash type
                                          is set to Cookie.
                                        properties:
                                          attributes:
                                            additionalProperties:
                                              type: string
                                            description: Additional Attributes to
                                              set for the generated cookie.
                                            type: object
                                          name:
                                            description: |-
                                              Name of the cookie to hash.
                                              If this cookie does not exist in the request, Envoy will generate a cookie and set
                                              the TTL on the response back to the client based on Layer 4
                                              attributes of the backend endpoint, to ensure that these future requests
                                              go to the same backend endpoint. Make sure to set the TTL field for this case.
                                            type: string
                                          ttl:
                                            description: |-
                                              TTL of the generated cookie if the cookie is not present. This value sets the
                                              Max-Age attribute value.
                                            type: string
                                        required:
                                        - name
                                        type: object
                                      header:
                                        description: Header configures the header
                                          hash policy when the consistent hash type
                                          is set to Header.
                                        properties:
                                          name:
                                            description: Name of the header to hash.
                                            type: string
                                        required:
                                        - name
                                        type: object
                                      tableSize:
                                        default: 65537
                                        description: The table size for consistent
                                          hashing, must be prime number limited to
                                          5000011.
                                        format: int64
                                        maximum: 5000011
                                        minimum: 2
                                        type: integer
                                      type:
                                        description: |-
                                          ConsistentHashType defines the type of input to hash on. Valid Type values are
                                          "SourceIP",
                                          "Header",
                                          "Cookie".
                                        enum:
                                        - SourceIP
                                        - Header
                                        - Cookie
                                        type: string
                                    required:
                                    - type
                                    type: object
                                    x-kubernetes-validations:
                                    - message: If consistent hash type is header,
                                        the header field must be set.
                                      rule: 'self.type == ''Header'' ? has(self.header)
                                        : !has(self.header)'
                                    - message: If consistent hash type is cookie,
                                        the cookie field must be set.
                                      rule: 'self.type == ''Cookie'' ? has(self.cookie)
                                        : !has(self.cookie)'
                                  slowStart:
                                    description: |-
                                      SlowStart defines the configuration related to the slow start load balancer policy.
                                      If set, during slow start window, traffic sent to the newly added hosts will gradually increase.
                                      Currently this is only supported for RoundRobin and LeastRequest load balancers
                                    properties:
                                      window:
                                        description: |-
                                          Window defines the duration of the warm up period for newly added host.
                                          During slow start window, traffic sent to the newly added hosts will gradually increase.
                                          Currently only supports linear growth of traffic. For additional details,
                                          see https://www.envoyproxy.io/docs/envoy/latest/api-v3/config/cluster/v3/cluster.proto#config-cluster-v3-cluster-slowstartconfig
                                        type: string
                                    required:
                                    - window
                                    type: object
                                  type:
                                    description: |-
                                      Type decides the type of Load Balancer policy.
                                      Valid LoadBalancerType values are
                                      "ConsistentHash",
                                      "LeastRequest",
                                      "Random",
                                      "RoundRobin".
                                    enum:
                                    - ConsistentHash
                                    - LeastRequest
                                    - Random
                                    - RoundRobin
                                    type: string
                                required:
                                - type
                                type: object
                                x-kubernetes-validations:
                                - message: If LoadBalancer type is consistentHash,
                                    consistentHash field needs to be set.
                                  rule: 'self.type == ''ConsistentHash'' ? has(self.consistentHash)
                                    : !has(self.consistentHash)'
                                - message: Currently SlowStart is only supported for
                                    RoundRobin and LeastRequest load balancers.
                                  rule: 'self.type in [''Random'', ''ConsistentHash'']
                                    ? !has(self.slowStart) : true '
                              proxyProtocol:
                                description: ProxyProtocol enables the Proxy Protocol
                                  when communicating with the backend.
                                properties:
                                  version:
                                    description: |-
                                      Version of ProxyProtol
                                      Valid ProxyProtocolVersion values are
                                      "V1"
                                      "V2"
                                    enum:
                                    - V1
                                    - V2
                                    type: string
                                required:
                                - version
                                type: object
                              retry:
                                description: |-
                                  Retry provides more advanced usage, allowing users to customize the number of retries, retry fallback strategy, and retry triggering conditions.
                                  If not set, retry will be disabled.
                                properties:
                                  numRetries:
                                    default: 2
                                    description: NumRetries is the number of retries
                                      to be attempted. Defaults to 2.
                                    format: int32
                                    minimum: 0
                                    type: integer
                                  perRetry:
                                    description: PerRetry is the retry policy to be
                                      applied per retry attempt.
                                    properties:
                                      backOff:
                                        description: |-
                                          Backoff is the backoff policy to be applied per retry attempt. gateway uses a fully jittered exponential
                                          back-off algorithm for retries. For additional details,
                                          see https://www.envoyproxy.io/docs/envoy/latest/configuration/http/http_filters/router_filter#config-http-filters-router-x-envoy-max-retries
                                        properties:
                                          baseInterval:
                                            description: BaseInterval is the base
                                              interval between retries.
                                            format: duration
                                            type: string
                                          maxInterval:
                                            description: |-
                                              MaxInterval is the maximum interval between retries. This parameter is optional, but must be greater than or equal to the base_interval if set.
                                              The default is 10 times the base_interval
                                            format: duration
                                            type: string
                                        type: object
                                      timeout:
                                        description: Timeout is the timeout per retry
                                          attempt.
                                        format: duration
                                        type: string
                                    type: object
                                  retryOn:
                                    description: |-
                                      RetryOn specifies the retry trigger condition.

                                      If not specified, the default is to retry on connect-failure,refused-stream,unavailable,cancelled,retriable-status-codes(503).
                                    properties:
                                      httpStatusCodes:
                                        description: |-
                                          HttpStatusCodes specifies the http status codes to be retried.
                                          The retriable-status-codes trigger must also be configured for these status codes to trigger a retry.
                                        items:
                                          description: HTTPStatus defines the http
                                            status code.
                                          exclusiveMaximum: true
                                          maximum: 600
                                          minimum: 100
                                          type: integer
                                        type: array
                                      triggers:
                                        description: Triggers specifies the retry
                                          trigger condition(Http/Grpc).
                                        items:
                                          description: TriggerEnum specifies the conditions
                                            that trigger retries.
                                          enum:
                                          - 5xx
                                          - gateway-error
                                          - reset
                                          - connect-failure
                                          - retriable-4xx
                                          - refused-stream
                                          - retriable-status-codes
                                          - cancelled
                                          - deadline-exceeded
                                          - internal
                                          - resource-exhausted
                                          - unavailable
                                          type: string
                                        type: array
                                    type: object
                                type: object
                              tcpKeepalive:
                                description: |-
                                  TcpKeepalive settings associated with the upstream client connection.
                                  Disabled by default.
                                properties:
                                  idleTime:
                                    description: |-
                                      The duration a connection needs to be idle before keep-alive
                                      probes start being sent.
                                      The duration format is
                                      Defaults to `7200s`.
                                    pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                                    type: string
                                  interval:
                                    description: |-
                                      The duration between keep-alive probes.
                                      Defaults to `75s`.
                                    pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                                    type: string
                                  probes:
                                    description: |-
                                      The total number of unacknowledged probes to send before deciding
                                      the connection is dead.
                                      Defaults to 9.
                                    format: int32
                                    type: integer
                                type: object
                              timeout:
                                description: Timeout settings for the backend connections.
                                properties:
                                  http:
                                    description: Timeout settings for HTTP.
                                    properties:
                                      connectionIdleTimeout:
                                        description: |-
                                          The idle timeout for an HTTP connection. Idle time is defined as a period in which there are no active requests in the connection.
                                          Default: 1 hour.
                                        pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                                        type: string
                                      maxConnectionDuration:
                                        description: |-
                                          The maximum duration of an HTTP connection.
                                          Default: unlimited.
                                        pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                                        type: string
                                      requestTimeout:
                                        description: RequestTimeout is the time until
                                          which entire response is received from the
                                          upstream.
                                        pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                                        type: string
                                    type: object
                                  tcp:
                                    description: Timeout settings for TCP.
                                    properties:
                                      connectTimeout:
                                        description: |-
                                          The timeout for network connection establishment, including TCP and TLS handshakes.
                                          Default: 10 seconds.
                                        pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                                        type: string
                                    type: object
                                type: object
                            type: object
                          host:
                            description: |-
                              Host define the provider service hostname.
                              Deprecated: Use BackendRefs instead.
                            type: string
                          port:
                            default: 4317
                            description: |-
                              Port defines the port the provider service is exposed on.
                              Deprecated: Use BackendRefs instead.
                            format: int32
                            minimum: 0
                            type: integer
                          type:
                            default: OpenTelemetry
                            description: Type defines the tracing provider type.
                            enum:
                            - OpenTelemetry
                            - Zipkin
                            - Datadog
                            type: string
                          zipkin:
                            description: Zipkin defines the Zipkin tracing provider
                              configuration
                            properties:
                              disableSharedSpanContext:
                                description: |-
                                  DisableSharedSpanContext determines whether the default Envoy behaviour of
                                  client and server spans sharing the same span context should be disabled.
                                type: boolean
                              enable128BitTraceId:
                                description: |-
                                  Enable128BitTraceID determines whether a 128bit trace id will be used
                                  when creating a new trace instance. If set to false, a 64bit trace
                                  id will be used.
                                type: boolean
                            type: object
                        required:
                        - type
                        type: object
                        x-kubernetes-validations:
                        - message: host or backendRefs needs to be set
                          rule: has(self.host) || self.backendRefs.size() > 0
                        - message: BackendRefs must be used, backendRef is not supported.
                          rule: '!has(self.backendRef)'
                        - message: BackendRefs only support Service and Backend kind.
                          rule: 'has(self.backendRefs) ? self.backendRefs.all(f, f.kind
                            == ''Service'' || f.kind == ''Backend'') : true'
                        - message: BackendRefs only support Core and gateway.envoyproxy.io
                            group.
                          rule: 'has(self.backendRefs) ? (self.backendRefs.all(f,
                            f.group == "" || f.group == ''gateway.envoyproxy.io''))
                            : true'
                      samplingFraction:
                        description: |-
                          SamplingFraction represents the fraction of requests that should be
                          selected for tracing if no prior sampling decision has been made.

                          Only one of SamplingRate or SamplingFraction may be specified.
                          If neither field is specified, all requests will be sampled.
                        properties:
                          denominator:
                            default: 100
                            format: int32
                            minimum: 1
                            type: integer
                          numerator:
                            format: int32
                            minimum: 0
                            type: integer
                        required:
                        - numerator
                        type: object
                        x-kubernetes-validations:
                        - message: numerator must be less than or equal to denominator
                          rule: self.numerator <= self.denominator
                      samplingRate:
                        description: |-
                          SamplingRate controls the rate at which traffic will be
                          selected for tracing if no prior sampling decision has been made.
                          Defaults to 100, valid values [0-100]. 100 indicates 100% sampling.

                          Only one of SamplingRate or SamplingFraction may be specified.
                          If neither field is specified, all requests will be sampled.
                        format: int32
                        maximum: 100
                        minimum: 0
                        type: integer
                    required:
                    - provider
                    type: object
                    x-kubernetes-validations:
                    - message: only one of SamplingRate or SamplingFraction can be
                        specified
                      rule: '!(has(self.samplingRate) && has(self.samplingFraction))'
                type: object
            type: object
          status:
            description: EnvoyProxyStatus defines the actual state of EnvoyProxy.
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}
---
# Source: gateway-crds-helm/templates/generated/gateway.envoyproxy.io_httproutefilters.yaml
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.17.3
  name: httproutefilters.gateway.envoyproxy.io
spec:
  group: gateway.envoyproxy.io
  names:
    categories:
    - envoy-gateway
    kind: HTTPRouteFilter
    listKind: HTTPRouteFilterList
    plural: httproutefilters
    shortNames:
    - hrf
    singular: httproutefilter
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - jsonPath: .metadata.creationTimestamp
      name: Age
      type: date
    name: v1alpha1
    schema:
      openAPIV3Schema:
        description: |-
          HTTPRouteFilter is a custom Envoy Gateway HTTPRouteFilter which provides extended
          traffic processing options such as path regex rewrite, direct response and more.
        properties:
          apiVersion:
            description: |-
              APIVersion defines the versioned schema of this representation of an object.
              Servers should convert recognized schemas to the latest internal value, and
              may reject unrecognized values.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
            type: string
          kind:
            description: |-
              Kind is a string value representing the REST resource this object represents.
              Servers may infer this from the endpoint the client submits requests to.
              Cannot be updated.
              In CamelCase.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
            type: string
          metadata:
            type: object
          spec:
            description: Spec defines the desired state of HTTPRouteFilter.
            properties:
              credentialInjection:
                description: |-
                  HTTPCredentialInjectionFilter defines the configuration to inject credentials into the request.
                  This is useful when the backend service requires credentials in the request, and the original
                  request does not contain them. The filter can inject credentials into the request before forwarding
                  it to the backend service.
                properties:
                  credential:
                    description: Credential is the credential to be injected.
                    properties:
                      valueRef:
                        description: |-
                          ValueRef is a reference to the secret containing the credentials to be injected.
                          This is an Opaque secret. The credential should be stored in the key
                          "credential", and the value should be the credential to be injected.
                          For example, for basic authentication, the value should be "Basic <base64 encoded username:password>".
                          for bearer token, the value should be "Bearer <token>".
                          Note: The secret must be in the same namespace as the HTTPRouteFilter.
                        properties:
                          group:
                            default: ""
                            description: |-
                              Group is the group of the referent. For example, "gateway.networking.k8s.io".
                              When unspecified or empty string, core API group is inferred.
                            maxLength: 253
                            pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                            type: string
                          kind:
                            default: Secret
                            description: Kind is kind of the referent. For example
                              "Secret".
                            maxLength: 63
                            minLength: 1
                            pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                            type: string
                          name:
                            description: Name is the name of the referent.
                            maxLength: 253
                            minLength: 1
                            type: string
                          namespace:
                            description: |-
                              Namespace is the namespace of the referenced object. When unspecified, the local
                              namespace is inferred.

                              Note that when a namespace different than the local namespace is specified,
                              a ReferenceGrant object is required in the referent namespace to allow that
                              namespace's owner to accept the reference. See the ReferenceGrant
                              documentation for details.

                              Support: Core
                            maxLength: 63
                            minLength: 1
                            pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                            type: string
                        required:
                        - name
                        type: object
                    required:
                    - valueRef
                    type: object
                  header:
                    description: |-
                      Header is the name of the header where the credentials are injected.
                      If not specified, the credentials are injected into the Authorization header.
                    type: string
                  overwrite:
                    description: |-
                      Whether to overwrite the value or not if the injected headers already exist.
                      If not specified, the default value is false.
                    type: boolean
                required:
                - credential
                type: object
              directResponse:
                description: HTTPDirectResponseFilter defines the configuration to
                  return a fixed response.
                properties:
                  body:
                    description: Body of the Response
                    properties:
                      inline:
                        description: Inline contains the value as an inline string.
                        type: string
                      type:
                        allOf:
                        - enum:
                          - Inline
                          - ValueRef
                        - enum:
                          - Inline
                          - ValueRef
                        default: Inline
                        description: |-
                          Type is the type of method to use to read the body value.
                          Valid values are Inline and ValueRef, default is Inline.
                        type: string
                      valueRef:
                        description: |-
                          ValueRef contains the contents of the body
                          specified as a local object reference.
                          Only a reference to ConfigMap is supported.

                          The value of key `response.body` in the ConfigMap will be used as the response body.
                          If the key is not found, the first value in the ConfigMap will be used.
                        properties:
                          group:
                            description: |-
                              Group is the group of the referent. For example, "gateway.networking.k8s.io".
                              When unspecified or empty string, core API group is inferred.
                            maxLength: 253
                            pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                            type: string
                          kind:
                            description: Kind is kind of the referent. For example
                              "HTTPRoute" or "Service".
                            maxLength: 63
                            minLength: 1
                            pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                            type: string
                          name:
                            description: Name is the name of the referent.
                            maxLength: 253
                            minLength: 1
                            type: string
                        required:
                        - group
                        - kind
                        - name
                        type: object
                    required:
                    - type
                    type: object
                    x-kubernetes-validations:
                    - message: inline must be set for type Inline
                      rule: '(!has(self.type) || self.type == ''Inline'')? has(self.inline)
                        : true'
                    - message: valueRef must be set for type ValueRef
                      rule: '(has(self.type) && self.type == ''ValueRef'')? has(self.valueRef)
                        : true'
                    - message: only ConfigMap is supported for ValueRef
                      rule: 'has(self.valueRef) ? self.valueRef.kind == ''ConfigMap''
                        : true'
                  contentType:
                    description: Content Type of the response. This will be set in
                      the Content-Type header.
                    type: string
                  statusCode:
                    description: |-
                      Status Code of the HTTP response
                      If unset, defaults to 200.
                    type: integer
                type: object
              urlRewrite:
                description: HTTPURLRewriteFilter define rewrites of HTTP URL components
                  such as path and host
                properties:
                  hostname:
                    description: |-
                      Hostname is the value to be used to replace the Host header value during
                      forwarding.
                    properties:
                      header:
                        description: Header is the name of the header whose value
                          would be used to rewrite the Host header
                        type: string
                      type:
                        description: HTTPPathModifierType defines the type of Hostname
                          rewrite.
                        enum:
                        - Header
                        - Backend
                        type: string
                    required:
                    - type
                    type: object
                    x-kubernetes-validations:
                    - message: header must be nil if the type is not Header
                      rule: '!(has(self.header) && self.type != ''Header'')'
                    - message: header must be specified for Header type
                      rule: '!(!has(self.header) && self.type == ''Header'')'
                  path:
                    description: Path defines a path rewrite.
                    properties:
                      replaceRegexMatch:
                        description: |-
                          ReplaceRegexMatch defines a path regex rewrite. The path portions matched by the regex pattern are replaced by the defined substitution.
                          https://www.envoyproxy.io/docs/envoy/latest/api-v3/config/route/v3/route_components.proto#envoy-v3-api-field-config-route-v3-routeaction-regex-rewrite
                          Some examples:
                          (1) replaceRegexMatch:
                                pattern: ^/service/([^/]+)(/.*)$
                                substitution: \2/instance/\1
                              Would transform /service/foo/v1/api into /v1/api/instance/foo.
                          (2) replaceRegexMatch:
                                pattern: one
                                substitution: two
                              Would transform /xxx/one/yyy/one/zzz into /xxx/two/yyy/two/zzz.
                          (3) replaceRegexMatch:
                                pattern: ^(.*?)one(.*)$
                                substitution: \1two\2
                              Would transform /xxx/one/yyy/one/zzz into /xxx/two/yyy/one/zzz.
                          (3) replaceRegexMatch:
                                pattern: (?i)/xxx/
                                substitution: /yyy/
                              Would transform path /aaa/XxX/bbb into /aaa/yyy/bbb (case-insensitive).
                        properties:
                          pattern:
                            description: |-
                              Pattern matches a regular expression against the value of the HTTP Path.The regex string must
                              adhere to the syntax documented in https://github.com/google/re2/wiki/Syntax.
                            minLength: 1
                            type: string
                          substitution:
                            description: |-
                              Substitution is an expression that replaces the matched portion.The expression may include numbered
                              capture groups that adhere to syntax documented in https://github.com/google/re2/wiki/Syntax.
                            type: string
                        required:
                        - pattern
                        - substitution
                        type: object
                      type:
                        description: HTTPPathModifierType defines the type of path
                          redirect or rewrite.
                        enum:
                        - ReplaceRegexMatch
                        type: string
                    required:
                    - type
                    type: object
                    x-kubernetes-validations:
                    - message: If HTTPPathModifier type is ReplaceRegexMatch, replaceRegexMatch
                        field needs to be set.
                      rule: 'self.type == ''ReplaceRegexMatch'' ? has(self.replaceRegexMatch)
                        : !has(self.replaceRegexMatch)'
                type: object
            type: object
        required:
        - spec
        type: object
    served: true
    storage: true
    subresources: {}
---
# Source: gateway-crds-helm/templates/generated/gateway.envoyproxy.io_securitypolicies.yaml
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.17.3
  name: securitypolicies.gateway.envoyproxy.io
spec:
  group: gateway.envoyproxy.io
  names:
    categories:
    - envoy-gateway
    kind: SecurityPolicy
    listKind: SecurityPolicyList
    plural: securitypolicies
    shortNames:
    - sp
    singular: securitypolicy
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - jsonPath: .metadata.creationTimestamp
      name: Age
      type: date
    name: v1alpha1
    schema:
      openAPIV3Schema:
        description: |-
          SecurityPolicy allows the user to configure various security settings for a
          Gateway.
        properties:
          apiVersion:
            description: |-
              APIVersion defines the versioned schema of this representation of an object.
              Servers should convert recognized schemas to the latest internal value, and
              may reject unrecognized values.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
            type: string
          kind:
            description: |-
              Kind is a string value representing the REST resource this object represents.
              Servers may infer this from the endpoint the client submits requests to.
              Cannot be updated.
              In CamelCase.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
            type: string
          metadata:
            type: object
          spec:
            description: Spec defines the desired state of SecurityPolicy.
            properties:
              apiKeyAuth:
                description: APIKeyAuth defines the configuration for the API Key
                  Authentication.
                properties:
                  credentialRefs:
                    description: |-
                      CredentialRefs is the Kubernetes secret which contains the API keys.
                      This is an Opaque secret.
                      Each API key is stored in the key representing the client id.
                      If the secrets have a key for a duplicated client, the first one will be used.
                    items:
                      description: |-
                        SecretObjectReference identifies an API object including its namespace,
                        defaulting to Secret.

                        The API object must be valid in the cluster; the Group and Kind must
                        be registered in the cluster for this reference to be valid.

                        References to objects with invalid Group and Kind are not valid, and must
                        be rejected by the implementation, with appropriate Conditions set
                        on the containing object.
                      properties:
                        group:
                          default: ""
                          description: |-
                            Group is the group of the referent. For example, "gateway.networking.k8s.io".
                            When unspecified or empty string, core API group is inferred.
                          maxLength: 253
                          pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                          type: string
                        kind:
                          default: Secret
                          description: Kind is kind of the referent. For example "Secret".
                          maxLength: 63
                          minLength: 1
                          pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                          type: string
                        name:
                          description: Name is the name of the referent.
                          maxLength: 253
                          minLength: 1
                          type: string
                        namespace:
                          description: |-
                            Namespace is the namespace of the referenced object. When unspecified, the local
                            namespace is inferred.

                            Note that when a namespace different than the local namespace is specified,
                            a ReferenceGrant object is required in the referent namespace to allow that
                            namespace's owner to accept the reference. See the ReferenceGrant
                            documentation for details.

                            Support: Core
                          maxLength: 63
                          minLength: 1
                          pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                          type: string
                      required:
                      - name
                      type: object
                    type: array
                  extractFrom:
                    description: |-
                      ExtractFrom is where to fetch the key from the coming request.
                      The value from the first source that has a key will be used.
                    items:
                      description: |-
                        ExtractFrom is where to fetch the key from the coming request.
                        Only one of header, param or cookie is supposed to be specified.
                      properties:
                        cookies:
                          description: |-
                            Cookies is the names of the cookie to fetch the key from.
                            If multiple cookies are specified, envoy will look for the api key in the order of the list.
                            This field is optional, but only one of headers, params or cookies is supposed to be specified.
                          items:
                            type: string
                          type: array
                        headers:
                          description: |-
                            Headers is the names of the header to fetch the key from.
                            If multiple headers are specified, envoy will look for the api key in the order of the list.
                            This field is optional, but only one of headers, params or cookies is supposed to be specified.
                          items:
                            type: string
                          type: array
                        params:
                          description: |-
                            Params is the names of the query parameter to fetch the key from.
                            If multiple params are specified, envoy will look for the api key in the order of the list.
                            This field is optional, but only one of headers, params or cookies is supposed to be specified.
                          items:
                            type: string
                          type: array
                      type: object
                    type: array
                required:
                - credentialRefs
                - extractFrom
                type: object
              authorization:
                description: Authorization defines the authorization configuration.
                properties:
                  defaultAction:
                    description: |-
                      DefaultAction defines the default action to be taken if no rules match.
                      If not specified, the default action is Deny.
                    enum:
                    - Allow
                    - Deny
                    type: string
                  rules:
                    description: |-
                      Rules defines a list of authorization rules.
                      These rules are evaluated in order, the first matching rule will be applied,
                      and the rest will be skipped.

                      For example, if there are two rules: the first rule allows the request
                      and the second rule denies it, when a request matches both rules, it will be allowed.
                    items:
                      description: AuthorizationRule defines a single authorization
                        rule.
                      properties:
                        action:
                          description: Action defines the action to be taken if the
                            rule matches.
                          enum:
                          - Allow
                          - Deny
                          type: string
                        name:
                          description: |-
                            Name is a user-friendly name for the rule.
                            If not specified, Envoy Gateway will generate a unique name for the rule.
                          maxLength: 253
                          minLength: 1
                          type: string
                        operation:
                          description: |-
                            Operation specifies the operation of a request, such as HTTP methods.
                            If not specified, all operations are matched on.
                          properties:
                            methods:
                              description: |-
                                Methods are the HTTP methods of the request.
                                If multiple methods are specified, all specified methods are allowed or denied, based on the action of the rule.
                              items:
                                description: |-
                                  HTTPMethod describes how to select a HTTP route by matching the HTTP
                                  method as defined by
                                  [RFC 7231](https://datatracker.ietf.org/doc/html/rfc7231#section-4) and
                                  [RFC 5789](https://datatracker.ietf.org/doc/html/rfc5789#section-2).
                                  The value is expected in upper case.

                                  Note that values may be added to this enum, implementations
                                  must ensure that unknown values will not cause a crash.

                                  Unknown values here must result in the implementation setting the
                                  Accepted Condition for the Route to `status: False`, with a
                                  Reason of `UnsupportedValue`.
                                enum:
                                - GET
                                - HEAD
                                - POST
                                - PUT
                                - DELETE
                                - CONNECT
                                - OPTIONS
                                - TRACE
                                - PATCH
                                type: string
                              maxItems: 16
                              minItems: 1
                              type: array
                          required:
                          - methods
                          type: object
                        principal:
                          description: |-
                            Principal specifies the client identity of a request.
                            If there are multiple principal types, all principals must match for the rule to match.
                            For example, if there are two principals: one for client IP and one for JWT claim,
                            the rule will match only if both the client IP and the JWT claim match.
                          properties:
                            clientCIDRs:
                              description: |-
                                ClientCIDRs are the IP CIDR ranges of the client.
                                Valid examples are "192.168.1.0/24" or "2001:db8::/64"

                                If multiple CIDR ranges are specified, one of the CIDR ranges must match
                                the client IP for the rule to match.

                                The client IP is inferred from the X-Forwarded-For header, a custom header,
                                or the proxy protocol.
                                You can use the `ClientIPDetection` or the `EnableProxyProtocol` field in
                                the `ClientTrafficPolicy` to configure how the client IP is detected.
                              items:
                                description: |-
                                  CIDR defines a CIDR Address range.
                                  A CIDR can be an IPv4 address range such as "192.168.1.0/24" or an IPv6 address range such as "2001:0db8:11a3:09d7::/64".
                                pattern: ((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\/([0-9]+))|((([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/([0-9]+))
                                type: string
                              minItems: 1
                              type: array
                            headers:
                              description: |-
                                Headers authorize the request based on user identity extracted from custom headers.
                                If multiple headers are specified, all headers must match for the rule to match.
                              items:
                                description: AuthorizationHeaderMatch specifies how
                                  to match against the value of an HTTP header within
                                  a authorization rule.
                                properties:
                                  name:
                                    description: |-
                                      Name of the HTTP header.
                                      The header name is case-insensitive unless PreserveHeaderCase is set to true.
                                      For example, "Foo" and "foo" are considered the same header.
                                    maxLength: 256
                                    minLength: 1
                                    type: string
                                  values:
                                    description: |-
                                      Values are the values that the header must match.
                                      If multiple values are specified, the rule will match if any of the values match.
                                    items:
                                      type: string
                                    maxItems: 256
                                    minItems: 1
                                    type: array
                                required:
                                - name
                                - values
                                type: object
                              maxItems: 256
                              minItems: 1
                              type: array
                            jwt:
                              description: |-
                                JWT authorize the request based on the JWT claims and scopes.
                                Note: in order to use JWT claims for authorization, you must configure the
                                JWT authentication in the same `SecurityPolicy`.
                              properties:
                                claims:
                                  description: |-
                                    Claims are the claims in a JWT token.

                                    If multiple claims are specified, all claims must match for the rule to match.
                                    For example, if there are two claims: one for the audience and one for the issuer,
                                    the rule will match only if both the audience and the issuer match.
                                  items:
                                    description: JWTClaim specifies a claim in a JWT
                                      token.
                                    properties:
                                      name:
                                        description: |-
                                          Name is the name of the claim.
                                          If it is a nested claim, use a dot (.) separated string as the name to
                                          represent the full path to the claim.
                                          For example, if the claim is in the "department" field in the "organization" field,
                                          the name should be "organization.department".
                                        maxLength: 253
                                        minLength: 1
                                        type: string
                                      valueType:
                                        default: String
                                        description: |-
                                          ValueType is the type of the claim value.
                                          Only String and StringArray types are supported for now.
                                        enum:
                                        - String
                                        - StringArray
                                        type: string
                                      values:
                                        description: |-
                                          Values are the values that the claim must match.
                                          If the claim is a string type, the specified value must match exactly.
                                          If the claim is a string array type, the specified value must match one of the values in the array.
                                          If multiple values are specified, one of the values must match for the rule to match.
                                        items:
                                          type: string
                                        maxItems: 16
                                        minItems: 1
                                        type: array
                                    required:
                                    - name
                                    - values
                                    type: object
                                  maxItems: 16
                                  minItems: 1
                                  type: array
                                provider:
                                  description: |-
                                    Provider is the name of the JWT provider that used to verify the JWT token.
                                    In order to use JWT claims for authorization, you must configure the JWT
                                    authentication with the same provider in the same `SecurityPolicy`.
                                  maxLength: 253
                                  minLength: 1
                                  type: string
                                scopes:
                                  description: |-
                                    Scopes are a special type of claim in a JWT token that represents the permissions of the client.

                                    The value of the scopes field should be a space delimited string that is expected in the scope parameter,
                                    as defined in RFC 6749: https://datatracker.ietf.org/doc/html/rfc6749#page-23.

                                    If multiple scopes are specified, all scopes must match for the rule to match.
                                  items:
                                    maxLength: 253
                                    minLength: 1
                                    type: string
                                  maxItems: 16
                                  minItems: 1
                                  type: array
                              required:
                              - provider
                              type: object
                              x-kubernetes-validations:
                              - message: at least one of claims or scopes must be
                                  specified
                                rule: (has(self.claims) || has(self.scopes))
                          type: object
                          x-kubernetes-validations:
                          - message: at least one of clientCIDRs, jwt, or headers
                              must be specified
                            rule: (has(self.clientCIDRs) || has(self.jwt) || has(self.headers))
                      required:
                      - action
                      - principal
                      type: object
                    type: array
                type: object
              basicAuth:
                description: BasicAuth defines the configuration for the HTTP Basic
                  Authentication.
                properties:
                  forwardUsernameHeader:
                    description: |-
                      This field specifies the header name to forward a successfully authenticated user to
                      the backend. The header will be added to the request with the username as the value.

                      If it is not specified, the username will not be forwarded.
                    type: string
                  users:
                    description: |-
                      The Kubernetes secret which contains the username-password pairs in
                      htpasswd format, used to verify user credentials in the "Authorization"
                      header.

                      This is an Opaque secret. The username-password pairs should be stored in
                      the key ".htpasswd". As the key name indicates, the value needs to be the
                      htpasswd format, for example: "user1:{SHA}hashed_user1_password".
                      Right now, only SHA hash algorithm is supported.
                      Reference to https://httpd.apache.org/docs/2.4/programs/htpasswd.html
                      for more details.

                      Note: The secret must be in the same namespace as the SecurityPolicy.
                    properties:
                      group:
                        default: ""
                        description: |-
                          Group is the group of the referent. For example, "gateway.networking.k8s.io".
                          When unspecified or empty string, core API group is inferred.
                        maxLength: 253
                        pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                        type: string
                      kind:
                        default: Secret
                        description: Kind is kind of the referent. For example "Secret".
                        maxLength: 63
                        minLength: 1
                        pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                        type: string
                      name:
                        description: Name is the name of the referent.
                        maxLength: 253
                        minLength: 1
                        type: string
                      namespace:
                        description: |-
                          Namespace is the namespace of the referenced object. When unspecified, the local
                          namespace is inferred.

                          Note that when a namespace different than the local namespace is specified,
                          a ReferenceGrant object is required in the referent namespace to allow that
                          namespace's owner to accept the reference. See the ReferenceGrant
                          documentation for details.

                          Support: Core
                        maxLength: 63
                        minLength: 1
                        pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                        type: string
                    required:
                    - name
                    type: object
                required:
                - users
                type: object
              cors:
                description: CORS defines the configuration for Cross-Origin Resource
                  Sharing (CORS).
                properties:
                  allowCredentials:
                    description: |-
                      AllowCredentials indicates whether a request can include user credentials
                      like cookies, authentication headers, or TLS client certificates.
                      It specifies the value in the Access-Control-Allow-Credentials CORS response header.
                    type: boolean
                  allowHeaders:
                    description: |-
                      AllowHeaders defines the headers that are allowed to be sent with requests.
                      It specifies the allowed headers in the Access-Control-Allow-Headers CORS response header..
                      The value "*" allows any header to be sent.
                    items:
                      type: string
                    type: array
                  allowMethods:
                    description: |-
                      AllowMethods defines the methods that are allowed to make requests.
                      It specifies the allowed methods in the Access-Control-Allow-Methods CORS response header..
                      The value "*" allows any method to be used.
                    items:
                      type: string
                    type: array
                  allowOrigins:
                    description: |-
                      AllowOrigins defines the origins that are allowed to make requests.
                      It specifies the allowed origins in the Access-Control-Allow-Origin CORS response header.
                      The value "*" allows any origin to make requests.
                    items:
                      description: |-
                        Origin is defined by the scheme (protocol), hostname (domain), and port of
                        the URL used to access it. The hostname can be "precise" which is just the
                        domain name or "wildcard" which is a domain name prefixed with a single
                        wildcard label such as "*.example.com".
                        In addition to that a single wildcard (with or without scheme) can be
                        configured to match any origin.

                        For example, the following are valid origins:
                        - https://foo.example.com
                        - https://*.example.com
                        - http://foo.example.com:8080
                        - http://*.example.com:8080
                        - https://*
                      maxLength: 253
                      minLength: 1
                      pattern: ^(\*|https?:\/\/(\*|(\*\.)?(([\w-]+\.?)+)?[\w-]+)(:\d{1,5})?)$
                      type: string
                    type: array
                  exposeHeaders:
                    description: |-
                      ExposeHeaders defines which response headers should be made accessible to
                      scripts running in the browser.
                      It specifies the headers in the Access-Control-Expose-Headers CORS response header..
                      The value "*" allows any header to be exposed.
                    items:
                      type: string
                    type: array
                  maxAge:
                    description: |-
                      MaxAge defines how long the results of a preflight request can be cached.
                      It specifies the value in the Access-Control-Max-Age CORS response header..
                    type: string
                type: object
              extAuth:
                description: ExtAuth defines the configuration for External Authorization.
                properties:
                  bodyToExtAuth:
                    description: BodyToExtAuth defines the Body to Ext Auth configuration.
                    properties:
                      maxRequestBytes:
                        description: |-
                          MaxRequestBytes is the maximum size of a message body that the filter will hold in memory.
                          Envoy will return HTTP 413 and will not initiate the authorization process when buffer
                          reaches the number set in this field.
                          Note that this setting will have precedence over failOpen mode.
                        format: int32
                        minimum: 1
                        type: integer
                    required:
                    - maxRequestBytes
                    type: object
                  failOpen:
                    default: false
                    description: |-
                      FailOpen is a switch used to control the behavior when a response from the External Authorization service cannot be obtained.
                      If FailOpen is set to true, the system allows the traffic to pass through.
                      Otherwise, if it is set to false or not set (defaulting to false),
                      the system blocks the traffic and returns a HTTP 5xx error, reflecting a fail-closed approach.
                      This setting determines whether to prioritize accessibility over strict security in case of authorization service failure.
                    type: boolean
                  grpc:
                    description: |-
                      GRPC defines the gRPC External Authorization service.
                      Either GRPCService or HTTPService must be specified,
                      and only one of them can be provided.
                    properties:
                      backendRef:
                        description: |-
                          BackendRef references a Kubernetes object that represents the
                          backend server to which the authorization request will be sent.

                          Deprecated: Use BackendRefs instead.
                        properties:
                          group:
                            default: ""
                            description: |-
                              Group is the group of the referent. For example, "gateway.networking.k8s.io".
                              When unspecified or empty string, core API group is inferred.
                            maxLength: 253
                            pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                            type: string
                          kind:
                            default: Service
                            description: |-
                              Kind is the Kubernetes resource kind of the referent. For example
                              "Service".

                              Defaults to "Service" when not specified.

                              ExternalName services can refer to CNAME DNS records that may live
                              outside of the cluster and as such are difficult to reason about in
                              terms of conformance. They also may not be safe to forward to (see
                              CVE-2021-25740 for more information). Implementations SHOULD NOT
                              support ExternalName Services.

                              Support: Core (Services with a type other than ExternalName)

                              Support: Implementation-specific (Services with type ExternalName)
                            maxLength: 63
                            minLength: 1
                            pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                            type: string
                          name:
                            description: Name is the name of the referent.
                            maxLength: 253
                            minLength: 1
                            type: string
                          namespace:
                            description: |-
                              Namespace is the namespace of the backend. When unspecified, the local
                              namespace is inferred.

                              Note that when a namespace different than the local namespace is specified,
                              a ReferenceGrant object is required in the referent namespace to allow that
                              namespace's owner to accept the reference. See the ReferenceGrant
                              documentation for details.

                              Support: Core
                            maxLength: 63
                            minLength: 1
                            pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                            type: string
                          port:
                            description: |-
                              Port specifies the destination port number to use for this resource.
                              Port is required when the referent is a Kubernetes Service. In this
                              case, the port number is the service port number, not the target port.
                              For other resources, destination port might be derived from the referent
                              resource or this field.
                            format: int32
                            maximum: 65535
                            minimum: 1
                            type: integer
                        required:
                        - name
                        type: object
                        x-kubernetes-validations:
                        - message: Must have port for Service reference
                          rule: '(size(self.group) == 0 && self.kind == ''Service'')
                            ? has(self.port) : true'
                      backendRefs:
                        description: |-
                          BackendRefs references a Kubernetes object that represents the
                          backend server to which the authorization request will be sent.
                        items:
                          description: BackendRef defines how an ObjectReference that
                            is specific to BackendRef.
                          properties:
                            fallback:
                              description: |-
                                Fallback indicates whether the backend is designated as a fallback.
                                Multiple fallback backends can be configured.
                                It is highly recommended to configure active or passive health checks to ensure that failover can be detected
                                when the active backends become unhealthy and to automatically readjust once the primary backends are healthy again.
                                The overprovisioning factor is set to 1.4, meaning the fallback backends will only start receiving traffic when
                                the health of the active backends falls below 72%.
                              type: boolean
                            group:
                              default: ""
                              description: |-
                                Group is the group of the referent. For example, "gateway.networking.k8s.io".
                                When unspecified or empty string, core API group is inferred.
                              maxLength: 253
                              pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                              type: string
                            kind:
                              default: Service
                              description: |-
                                Kind is the Kubernetes resource kind of the referent. For example
                                "Service".

                                Defaults to "Service" when not specified.

                                ExternalName services can refer to CNAME DNS records that may live
                                outside of the cluster and as such are difficult to reason about in
                                terms of conformance. They also may not be safe to forward to (see
                                CVE-2021-25740 for more information). Implementations SHOULD NOT
                                support ExternalName Services.

                                Support: Core (Services with a type other than ExternalName)

                                Support: Implementation-specific (Services with type ExternalName)
                              maxLength: 63
                              minLength: 1
                              pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                              type: string
                            name:
                              description: Name is the name of the referent.
                              maxLength: 253
                              minLength: 1
                              type: string
                            namespace:
                              description: |-
                                Namespace is the namespace of the backend. When unspecified, the local
                                namespace is inferred.

                                Note that when a namespace different than the local namespace is specified,
                                a ReferenceGrant object is required in the referent namespace to allow that
                                namespace's owner to accept the reference. See the ReferenceGrant
                                documentation for details.

                                Support: Core
                              maxLength: 63
                              minLength: 1
                              pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                              type: string
                            port:
                              description: |-
                                Port specifies the destination port number to use for this resource.
                                Port is required when the referent is a Kubernetes Service. In this
                                case, the port number is the service port number, not the target port.
                                For other resources, destination port might be derived from the referent
                                resource or this field.
                              format: int32
                              maximum: 65535
                              minimum: 1
                              type: integer
                          required:
                          - name
                          type: object
                          x-kubernetes-validations:
                          - message: Must have port for Service reference
                            rule: '(size(self.group) == 0 && self.kind == ''Service'')
                              ? has(self.port) : true'
                        maxItems: 16
                        type: array
                      backendSettings:
                        description: |-
                          BackendSettings holds configuration for managing the connection
                          to the backend.
                        properties:
                          circuitBreaker:
                            description: |-
                              Circuit Breaker settings for the upstream connections and requests.
                              If not set, circuit breakers will be enabled with the default thresholds
                            properties:
                              maxConnections:
                                default: 1024
                                description: The maximum number of connections that
                                  Envoy will establish to the referenced backend defined
                                  within a xRoute rule.
                                format: int64
                                maximum: 4294967295
                                minimum: 0
                                type: integer
                              maxParallelRequests:
                                default: 1024
                                description: The maximum number of parallel requests
                                  that Envoy will make to the referenced backend defined
                                  within a xRoute rule.
                                format: int64
                                maximum: 4294967295
                                minimum: 0
                                type: integer
                              maxParallelRetries:
                                default: 1024
                                description: The maximum number of parallel retries
                                  that Envoy will make to the referenced backend defined
                                  within a xRoute rule.
                                format: int64
                                maximum: 4294967295
                                minimum: 0
                                type: integer
                              maxPendingRequests:
                                default: 1024
                                description: The maximum number of pending requests
                                  that Envoy will queue to the referenced backend
                                  defined within a xRoute rule.
                                format: int64
                                maximum: 4294967295
                                minimum: 0
                                type: integer
                              maxRequestsPerConnection:
                                description: |-
                                  The maximum number of requests that Envoy will make over a single connection to the referenced backend defined within a xRoute rule.
                                  Default: unlimited.
                                format: int64
                                maximum: 4294967295
                                minimum: 0
                                type: integer
                              perEndpoint:
                                description: PerEndpoint defines Circuit Breakers
                                  that will apply per-endpoint for an upstream cluster
                                properties:
                                  maxConnections:
                                    default: 1024
                                    description: MaxConnections configures the maximum
                                      number of connections that Envoy will establish
                                      per-endpoint to the referenced backend defined
                                      within a xRoute rule.
                                    format: int64
                                    maximum: 4294967295
                                    minimum: 0
                                    type: integer
                                type: object
                            type: object
                          connection:
                            description: Connection includes backend connection settings.
                            properties:
                              bufferLimit:
                                allOf:
                                - pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                - pattern: ^[1-9]+[0-9]*([EPTGMK]i|[EPTGMk])?$
                                anyOf:
                                - type: integer
                                - type: string
                                description: |-
                                  BufferLimit Soft limit on size of the cluster’s connections read and write buffers.
                                  BufferLimit applies to connection streaming (maybe non-streaming) channel between processes, it's in user space.
                                  If unspecified, an implementation defined default is applied (32768 bytes).
                                  For example, 20Mi, 1Gi, 256Ki etc.
                                  Note: that when the suffix is not provided, the value is interpreted as bytes.
                                x-kubernetes-int-or-string: true
                              socketBufferLimit:
                                allOf:
                                - pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                - pattern: ^[1-9]+[0-9]*([EPTGMK]i|[EPTGMk])?$
                                anyOf:
                                - type: integer
                                - type: string
                                description: |-
                                  SocketBufferLimit provides configuration for the maximum buffer size in bytes for each socket
                                  to backend.
                                  SocketBufferLimit applies to socket streaming channel between TCP/IP stacks, it's in kernel space.
                                  For example, 20Mi, 1Gi, 256Ki etc.
                                  Note that when the suffix is not provided, the value is interpreted as bytes.
                                x-kubernetes-int-or-string: true
                            type: object
                          dns:
                            description: DNS includes dns resolution settings.
                            properties:
                              dnsRefreshRate:
                                description: |-
                                  DNSRefreshRate specifies the rate at which DNS records should be refreshed.
                                  Defaults to 30 seconds.
                                type: string
                              lookupFamily:
                                description: |-
                                  LookupFamily determines how Envoy would resolve DNS for Routes where the backend is specified as a fully qualified domain name (FQDN).
                                  If set, this configuration overrides other defaults.
                                enum:
                                - IPv4
                                - IPv6
                                - IPv4Preferred
                                - IPv6Preferred
                                - IPv4AndIPv6
                                type: string
                              respectDnsTtl:
                                description: |-
                                  RespectDNSTTL indicates whether the DNS Time-To-Live (TTL) should be respected.
                                  If the value is set to true, the DNS refresh rate will be set to the resource record’s TTL.
                                  Defaults to true.
                                type: boolean
                            type: object
                          healthCheck:
                            description: HealthCheck allows gateway to perform active
                              health checking on backends.
                            properties:
                              active:
                                description: Active health check configuration
                                properties:
                                  grpc:
                                    description: |-
                                      GRPC defines the configuration of the GRPC health checker.
                                      It's optional, and can only be used if the specified type is GRPC.
                                    properties:
                                      service:
                                        description: |-
                                          Service to send in the health check request.
                                          If this is not specified, then the health check request applies to the entire
                                          server and not to a specific service.
                                        type: string
                                    type: object
                                  healthyThreshold:
                                    default: 1
                                    description: HealthyThreshold defines the number
                                      of healthy health checks required before a backend
                                      host is marked healthy.
                                    format: int32
                                    minimum: 1
                                    type: integer
                                  http:
                                    description: |-
                                      HTTP defines the configuration of http health checker.
                                      It's required while the health checker type is HTTP.
                                    properties:
                                      expectedResponse:
                                        description: ExpectedResponse defines a list
                                          of HTTP expected responses to match.
                                        properties:
                                          binary:
                                            description: Binary payload base64 encoded.
                                            format: byte
                                            type: string
                                          text:
                                            description: Text payload in plain text.
                                            type: string
                                          type:
                                            allOf:
                                            - enum:
                                              - Text
                                              - Binary
                                            - enum:
                                              - Text
                                              - Binary
                                            description: Type defines the type of
                                              the payload.
                                            type: string
                                        required:
                                        - type
                                        type: object
                                        x-kubernetes-validations:
                                        - message: If payload type is Text, text field
                                            needs to be set.
                                          rule: 'self.type == ''Text'' ? has(self.text)
                                            : !has(self.text)'
                                        - message: If payload type is Binary, binary
                                            field needs to be set.
                                          rule: 'self.type == ''Binary'' ? has(self.binary)
                                            : !has(self.binary)'
                                      expectedStatuses:
                                        description: |-
                                          ExpectedStatuses defines a list of HTTP response statuses considered healthy.
                                          Defaults to 200 only
                                        items:
                                          description: HTTPStatus defines the http
                                            status code.
                                          exclusiveMaximum: true
                                          maximum: 600
                                          minimum: 100
                                          type: integer
                                        type: array
                                      method:
                                        description: |-
                                          Method defines the HTTP method used for health checking.
                                          Defaults to GET
                                        type: string
                                      path:
                                        description: Path defines the HTTP path that
                                          will be requested during health checking.
                                        maxLength: 1024
                                        minLength: 1
                                        type: string
                                    required:
                                    - path
                                    type: object
                                  interval:
                                    default: 3s
                                    description: Interval defines the time between
                                      active health checks.
                                    format: duration
                                    type: string
                                  tcp:
                                    description: |-
                                      TCP defines the configuration of tcp health checker.
                                      It's required while the health checker type is TCP.
                                    properties:
                                      receive:
                                        description: Receive defines the expected
                                          response payload.
                                        properties:
                                          binary:
                                            description: Binary payload base64 encoded.
                                            format: byte
                                            type: string
                                          text:
                                            description: Text payload in plain text.
                                            type: string
                                          type:
                                            allOf:
                                            - enum:
                                              - Text
                                              - Binary
                                            - enum:
                                              - Text
                                              - Binary
                                            description: Type defines the type of
                                              the payload.
                                            type: string
                                        required:
                                        - type
                                        type: object
                                        x-kubernetes-validations:
                                        - message: If payload type is Text, text field
                                            needs to be set.
                                          rule: 'self.type == ''Text'' ? has(self.text)
                                            : !has(self.text)'
                                        - message: If payload type is Binary, binary
                                            field needs to be set.
                                          rule: 'self.type == ''Binary'' ? has(self.binary)
                                            : !has(self.binary)'
                                      send:
                                        description: Send defines the request payload.
                                        properties:
                                          binary:
                                            description: Binary payload base64 encoded.
                                            format: byte
                                            type: string
                                          text:
                                            description: Text payload in plain text.
                                            type: string
                                          type:
                                            allOf:
                                            - enum:
                                              - Text
                                              - Binary
                                            - enum:
                                              - Text
                                              - Binary
                                            description: Type defines the type of
                                              the payload.
                                            type: string
                                        required:
                                        - type
                                        type: object
                                        x-kubernetes-validations:
                                        - message: If payload type is Text, text field
                                            needs to be set.
                                          rule: 'self.type == ''Text'' ? has(self.text)
                                            : !has(self.text)'
                                        - message: If payload type is Binary, binary
                                            field needs to be set.
                                          rule: 'self.type == ''Binary'' ? has(self.binary)
                                            : !has(self.binary)'
                                    type: object
                                  timeout:
                                    default: 1s
                                    description: Timeout defines the time to wait
                                      for a health check response.
                                    format: duration
                                    type: string
                                  type:
                                    allOf:
                                    - enum:
                                      - HTTP
                                      - TCP
                                      - GRPC
                                    - enum:
                                      - HTTP
                                      - TCP
                                      - GRPC
                                    description: Type defines the type of health checker.
                                    type: string
                                  unhealthyThreshold:
                                    default: 3
                                    description: UnhealthyThreshold defines the number
                                      of unhealthy health checks required before a
                                      backend host is marked unhealthy.
                                    format: int32
                                    minimum: 1
                                    type: integer
                                required:
                                - type
                                type: object
                                x-kubernetes-validations:
                                - message: If Health Checker type is HTTP, http field
                                    needs to be set.
                                  rule: 'self.type == ''HTTP'' ? has(self.http) :
                                    !has(self.http)'
                                - message: If Health Checker type is TCP, tcp field
                                    needs to be set.
                                  rule: 'self.type == ''TCP'' ? has(self.tcp) : !has(self.tcp)'
                                - message: The grpc field can only be set if the Health
                                    Checker type is GRPC.
                                  rule: 'has(self.grpc) ? self.type == ''GRPC'' :
                                    true'
                              panicThreshold:
                                description: |-
                                  When number of unhealthy endpoints for a backend reaches this threshold
                                  Envoy will disregard health status and balance across all endpoints.
                                  It's designed to prevent a situation in which host failures cascade throughout the cluster
                                  as load increases. If not set, the default value is 50%. To disable panic mode, set value to `0`.
                                format: int32
                                maximum: 100
                                minimum: 0
                                type: integer
                              passive:
                                description: Passive passive check configuration
                                properties:
                                  baseEjectionTime:
                                    default: 30s
                                    description: BaseEjectionTime defines the base
                                      duration for which a host will be ejected on
                                      consecutive failures.
                                    format: duration
                                    type: string
                                  consecutive5XxErrors:
                                    default: 5
                                    description: Consecutive5xxErrors sets the number
                                      of consecutive 5xx errors triggering ejection.
                                    format: int32
                                    type: integer
                                  consecutiveGatewayErrors:
                                    default: 0
                                    description: ConsecutiveGatewayErrors sets the
                                      number of consecutive gateway errors triggering
                                      ejection.
                                    format: int32
                                    type: integer
                                  consecutiveLocalOriginFailures:
                                    default: 5
                                    description: |-
                                      ConsecutiveLocalOriginFailures sets the number of consecutive local origin failures triggering ejection.
                                      Parameter takes effect only when split_external_local_origin_errors is set to true.
                                    format: int32
                                    type: integer
                                  interval:
                                    default: 3s
                                    description: Interval defines the time between
                                      passive health checks.
                                    format: duration
                                    type: string
                                  maxEjectionPercent:
                                    default: 10
                                    description: MaxEjectionPercent sets the maximum
                                      percentage of hosts in a cluster that can be
                                      ejected.
                                    format: int32
                                    type: integer
                                  splitExternalLocalOriginErrors:
                                    default: false
                                    description: SplitExternalLocalOriginErrors enables
                                      splitting of errors between external and local
                                      origin.
                                    type: boolean
                                type: object
                            type: object
                          http2:
                            description: HTTP2 provides HTTP/2 configuration for backend
                              connections.
                            properties:
                              initialConnectionWindowSize:
                                allOf:
                                - pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                - pattern: ^[1-9]+[0-9]*([EPTGMK]i|[EPTGMk])?$
                                anyOf:
                                - type: integer
                                - type: string
                                description: |-
                                  InitialConnectionWindowSize sets the initial window size for HTTP/2 connections.
                                  If not set, the default value is 1 MiB.
                                x-kubernetes-int-or-string: true
                              initialStreamWindowSize:
                                allOf:
                                - pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                - pattern: ^[1-9]+[0-9]*([EPTGMK]i|[EPTGMk])?$
                                anyOf:
                                - type: integer
                                - type: string
                                description: |-
                                  InitialStreamWindowSize sets the initial window size for HTTP/2 streams.
                                  If not set, the default value is 64 KiB(64*1024).
                                x-kubernetes-int-or-string: true
                              maxConcurrentStreams:
                                description: |-
                                  MaxConcurrentStreams sets the maximum number of concurrent streams allowed per connection.
                                  If not set, the default value is 100.
                                format: int32
                                maximum: 2147483647
                                minimum: 1
                                type: integer
                              onInvalidMessage:
                                description: |-
                                  OnInvalidMessage determines if Envoy will terminate the connection or just the offending stream in the event of HTTP messaging error
                                  It's recommended for L2 Envoy deployments to set this value to TerminateStream.
                                  https://www.envoyproxy.io/docs/envoy/latest/configuration/best_practices/level_two
                                  Default: TerminateConnection
                                type: string
                            type: object
                          loadBalancer:
                            description: |-
                              LoadBalancer policy to apply when routing traffic from the gateway to
                              the backend endpoints. Defaults to `LeastRequest`.
                            properties:
                              consistentHash:
                                description: |-
                                  ConsistentHash defines the configuration when the load balancer type is
                                  set to ConsistentHash
                                properties:
                                  cookie:
                                    description: Cookie configures the cookie hash
                                      policy when the consistent hash type is set
                                      to Cookie.
                                    properties:
                                      attributes:
                                        additionalProperties:
                                          type: string
                                        description: Additional Attributes to set
                                          for the generated cookie.
                                        type: object
                                      name:
                                        description: |-
                                          Name of the cookie to hash.
                                          If this cookie does not exist in the request, Envoy will generate a cookie and set
                                          the TTL on the response back to the client based on Layer 4
                                          attributes of the backend endpoint, to ensure that these future requests
                                          go to the same backend endpoint. Make sure to set the TTL field for this case.
                                        type: string
                                      ttl:
                                        description: |-
                                          TTL of the generated cookie if the cookie is not present. This value sets the
                                          Max-Age attribute value.
                                        type: string
                                    required:
                                    - name
                                    type: object
                                  header:
                                    description: Header configures the header hash
                                      policy when the consistent hash type is set
                                      to Header.
                                    properties:
                                      name:
                                        description: Name of the header to hash.
                                        type: string
                                    required:
                                    - name
                                    type: object
                                  tableSize:
                                    default: 65537
                                    description: The table size for consistent hashing,
                                      must be prime number limited to 5000011.
                                    format: int64
                                    maximum: 5000011
                                    minimum: 2
                                    type: integer
                                  type:
                                    description: |-
                                      ConsistentHashType defines the type of input to hash on. Valid Type values are
                                      "SourceIP",
                                      "Header",
                                      "Cookie".
                                    enum:
                                    - SourceIP
                                    - Header
                                    - Cookie
                                    type: string
                                required:
                                - type
                                type: object
                                x-kubernetes-validations:
                                - message: If consistent hash type is header, the
                                    header field must be set.
                                  rule: 'self.type == ''Header'' ? has(self.header)
                                    : !has(self.header)'
                                - message: If consistent hash type is cookie, the
                                    cookie field must be set.
                                  rule: 'self.type == ''Cookie'' ? has(self.cookie)
                                    : !has(self.cookie)'
                              slowStart:
                                description: |-
                                  SlowStart defines the configuration related to the slow start load balancer policy.
                                  If set, during slow start window, traffic sent to the newly added hosts will gradually increase.
                                  Currently this is only supported for RoundRobin and LeastRequest load balancers
                                properties:
                                  window:
                                    description: |-
                                      Window defines the duration of the warm up period for newly added host.
                                      During slow start window, traffic sent to the newly added hosts will gradually increase.
                                      Currently only supports linear growth of traffic. For additional details,
                                      see https://www.envoyproxy.io/docs/envoy/latest/api-v3/config/cluster/v3/cluster.proto#config-cluster-v3-cluster-slowstartconfig
                                    type: string
                                required:
                                - window
                                type: object
                              type:
                                description: |-
                                  Type decides the type of Load Balancer policy.
                                  Valid LoadBalancerType values are
                                  "ConsistentHash",
                                  "LeastRequest",
                                  "Random",
                                  "RoundRobin".
                                enum:
                                - ConsistentHash
                                - LeastRequest
                                - Random
                                - RoundRobin
                                type: string
                            required:
                            - type
                            type: object
                            x-kubernetes-validations:
                            - message: If LoadBalancer type is consistentHash, consistentHash
                                field needs to be set.
                              rule: 'self.type == ''ConsistentHash'' ? has(self.consistentHash)
                                : !has(self.consistentHash)'
                            - message: Currently SlowStart is only supported for RoundRobin
                                and LeastRequest load balancers.
                              rule: 'self.type in [''Random'', ''ConsistentHash'']
                                ? !has(self.slowStart) : true '
                          proxyProtocol:
                            description: ProxyProtocol enables the Proxy Protocol
                              when communicating with the backend.
                            properties:
                              version:
                                description: |-
                                  Version of ProxyProtol
                                  Valid ProxyProtocolVersion values are
                                  "V1"
                                  "V2"
                                enum:
                                - V1
                                - V2
                                type: string
                            required:
                            - version
                            type: object
                          retry:
                            description: |-
                              Retry provides more advanced usage, allowing users to customize the number of retries, retry fallback strategy, and retry triggering conditions.
                              If not set, retry will be disabled.
                            properties:
                              numRetries:
                                default: 2
                                description: NumRetries is the number of retries to
                                  be attempted. Defaults to 2.
                                format: int32
                                minimum: 0
                                type: integer
                              perRetry:
                                description: PerRetry is the retry policy to be applied
                                  per retry attempt.
                                properties:
                                  backOff:
                                    description: |-
                                      Backoff is the backoff policy to be applied per retry attempt. gateway uses a fully jittered exponential
                                      back-off algorithm for retries. For additional details,
                                      see https://www.envoyproxy.io/docs/envoy/latest/configuration/http/http_filters/router_filter#config-http-filters-router-x-envoy-max-retries
                                    properties:
                                      baseInterval:
                                        description: BaseInterval is the base interval
                                          between retries.
                                        format: duration
                                        type: string
                                      maxInterval:
                                        description: |-
                                          MaxInterval is the maximum interval between retries. This parameter is optional, but must be greater than or equal to the base_interval if set.
                                          The default is 10 times the base_interval
                                        format: duration
                                        type: string
                                    type: object
                                  timeout:
                                    description: Timeout is the timeout per retry
                                      attempt.
                                    format: duration
                                    type: string
                                type: object
                              retryOn:
                                description: |-
                                  RetryOn specifies the retry trigger condition.

                                  If not specified, the default is to retry on connect-failure,refused-stream,unavailable,cancelled,retriable-status-codes(503).
                                properties:
                                  httpStatusCodes:
                                    description: |-
                                      HttpStatusCodes specifies the http status codes to be retried.
                                      The retriable-status-codes trigger must also be configured for these status codes to trigger a retry.
                                    items:
                                      description: HTTPStatus defines the http status
                                        code.
                                      exclusiveMaximum: true
                                      maximum: 600
                                      minimum: 100
                                      type: integer
                                    type: array
                                  triggers:
                                    description: Triggers specifies the retry trigger
                                      condition(Http/Grpc).
                                    items:
                                      description: TriggerEnum specifies the conditions
                                        that trigger retries.
                                      enum:
                                      - 5xx
                                      - gateway-error
                                      - reset
                                      - connect-failure
                                      - retriable-4xx
                                      - refused-stream
                                      - retriable-status-codes
                                      - cancelled
                                      - deadline-exceeded
                                      - internal
                                      - resource-exhausted
                                      - unavailable
                                      type: string
                                    type: array
                                type: object
                            type: object
                          tcpKeepalive:
                            description: |-
                              TcpKeepalive settings associated with the upstream client connection.
                              Disabled by default.
                            properties:
                              idleTime:
                                description: |-
                                  The duration a connection needs to be idle before keep-alive
                                  probes start being sent.
                                  The duration format is
                                  Defaults to `7200s`.
                                pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                                type: string
                              interval:
                                description: |-
                                  The duration between keep-alive probes.
                                  Defaults to `75s`.
                                pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                                type: string
                              probes:
                                description: |-
                                  The total number of unacknowledged probes to send before deciding
                                  the connection is dead.
                                  Defaults to 9.
                                format: int32
                                type: integer
                            type: object
                          timeout:
                            description: Timeout settings for the backend connections.
                            properties:
                              http:
                                description: Timeout settings for HTTP.
                                properties:
                                  connectionIdleTimeout:
                                    description: |-
                                      The idle timeout for an HTTP connection. Idle time is defined as a period in which there are no active requests in the connection.
                                      Default: 1 hour.
                                    pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                                    type: string
                                  maxConnectionDuration:
                                    description: |-
                                      The maximum duration of an HTTP connection.
                                      Default: unlimited.
                                    pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                                    type: string
                                  requestTimeout:
                                    description: RequestTimeout is the time until
                                      which entire response is received from the upstream.
                                    pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                                    type: string
                                type: object
                              tcp:
                                description: Timeout settings for TCP.
                                properties:
                                  connectTimeout:
                                    description: |-
                                      The timeout for network connection establishment, including TCP and TLS handshakes.
                                      Default: 10 seconds.
                                    pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                                    type: string
                                type: object
                            type: object
                        type: object
                    type: object
                    x-kubernetes-validations:
                    - message: backendRef or backendRefs needs to be set
                      rule: has(self.backendRef) || self.backendRefs.size() > 0
                    - message: BackendRefs only supports Service and Backend kind.
                      rule: 'has(self.backendRefs) ? self.backendRefs.all(f, f.kind
                        == ''Service'' || f.kind == ''Backend'') : true'
                    - message: BackendRefs only supports Core and gateway.envoyproxy.io
                        group.
                      rule: 'has(self.backendRefs) ? (self.backendRefs.all(f, f.group
                        == "" || f.group == ''gateway.envoyproxy.io'')) : true'
                  headersToExtAuth:
                    description: |-
                      HeadersToExtAuth defines the client request headers that will be included
                      in the request to the external authorization service.
                      Note: If not specified, the default behavior for gRPC and HTTP external
                      authorization services is different due to backward compatibility reasons.
                      All headers will be included in the check request to a gRPC authorization server.
                      Only the following headers will be included in the check request to an HTTP
                      authorization server: Host, Method, Path, Content-Length, and Authorization.
                      And these headers will always be included to the check request to an HTTP
                      authorization server by default, no matter whether they are specified
                      in HeadersToExtAuth or not.
                    items:
                      type: string
                    type: array
                  http:
                    description: |-
                      HTTP defines the HTTP External Authorization service.
                      Either GRPCService or HTTPService must be specified,
                      and only one of them can be provided.
                    properties:
                      backendRef:
                        description: |-
                          BackendRef references a Kubernetes object that represents the
                          backend server to which the authorization request will be sent.

                          Deprecated: Use BackendRefs instead.
                        properties:
                          group:
                            default: ""
                            description: |-
                              Group is the group of the referent. For example, "gateway.networking.k8s.io".
                              When unspecified or empty string, core API group is inferred.
                            maxLength: 253
                            pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                            type: string
                          kind:
                            default: Service
                            description: |-
                              Kind is the Kubernetes resource kind of the referent. For example
                              "Service".

                              Defaults to "Service" when not specified.

                              ExternalName services can refer to CNAME DNS records that may live
                              outside of the cluster and as such are difficult to reason about in
                              terms of conformance. They also may not be safe to forward to (see
                              CVE-2021-25740 for more information). Implementations SHOULD NOT
                              support ExternalName Services.

                              Support: Core (Services with a type other than ExternalName)

                              Support: Implementation-specific (Services with type ExternalName)
                            maxLength: 63
                            minLength: 1
                            pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                            type: string
                          name:
                            description: Name is the name of the referent.
                            maxLength: 253
                            minLength: 1
                            type: string
                          namespace:
                            description: |-
                              Namespace is the namespace of the backend. When unspecified, the local
                              namespace is inferred.

                              Note that when a namespace different than the local namespace is specified,
                              a ReferenceGrant object is required in the referent namespace to allow that
                              namespace's owner to accept the reference. See the ReferenceGrant
                              documentation for details.

                              Support: Core
                            maxLength: 63
                            minLength: 1
                            pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                            type: string
                          port:
                            description: |-
                              Port specifies the destination port number to use for this resource.
                              Port is required when the referent is a Kubernetes Service. In this
                              case, the port number is the service port number, not the target port.
                              For other resources, destination port might be derived from the referent
                              resource or this field.
                            format: int32
                            maximum: 65535
                            minimum: 1
                            type: integer
                        required:
                        - name
                        type: object
                        x-kubernetes-validations:
                        - message: Must have port for Service reference
                          rule: '(size(self.group) == 0 && self.kind == ''Service'')
                            ? has(self.port) : true'
                      backendRefs:
                        description: |-
                          BackendRefs references a Kubernetes object that represents the
                          backend server to which the authorization request will be sent.
                        items:
                          description: BackendRef defines how an ObjectReference that
                            is specific to BackendRef.
                          properties:
                            fallback:
                              description: |-
                                Fallback indicates whether the backend is designated as a fallback.
                                Multiple fallback backends can be configured.
                                It is highly recommended to configure active or passive health checks to ensure that failover can be detected
                                when the active backends become unhealthy and to automatically readjust once the primary backends are healthy again.
                                The overprovisioning factor is set to 1.4, meaning the fallback backends will only start receiving traffic when
                                the health of the active backends falls below 72%.
                              type: boolean
                            group:
                              default: ""
                              description: |-
                                Group is the group of the referent. For example, "gateway.networking.k8s.io".
                                When unspecified or empty string, core API group is inferred.
                              maxLength: 253
                              pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                              type: string
                            kind:
                              default: Service
                              description: |-
                                Kind is the Kubernetes resource kind of the referent. For example
                                "Service".

                                Defaults to "Service" when not specified.

                                ExternalName services can refer to CNAME DNS records that may live
                                outside of the cluster and as such are difficult to reason about in
                                terms of conformance. They also may not be safe to forward to (see
                                CVE-2021-25740 for more information). Implementations SHOULD NOT
                                support ExternalName Services.

                                Support: Core (Services with a type other than ExternalName)

                                Support: Implementation-specific (Services with type ExternalName)
                              maxLength: 63
                              minLength: 1
                              pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                              type: string
                            name:
                              description: Name is the name of the referent.
                              maxLength: 253
                              minLength: 1
                              type: string
                            namespace:
                              description: |-
                                Namespace is the namespace of the backend. When unspecified, the local
                                namespace is inferred.

                                Note that when a namespace different than the local namespace is specified,
                                a ReferenceGrant object is required in the referent namespace to allow that
                                namespace's owner to accept the reference. See the ReferenceGrant
                                documentation for details.

                                Support: Core
                              maxLength: 63
                              minLength: 1
                              pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                              type: string
                            port:
                              description: |-
                                Port specifies the destination port number to use for this resource.
                                Port is required when the referent is a Kubernetes Service. In this
                                case, the port number is the service port number, not the target port.
                                For other resources, destination port might be derived from the referent
                                resource or this field.
                              format: int32
                              maximum: 65535
                              minimum: 1
                              type: integer
                          required:
                          - name
                          type: object
                          x-kubernetes-validations:
                          - message: Must have port for Service reference
                            rule: '(size(self.group) == 0 && self.kind == ''Service'')
                              ? has(self.port) : true'
                        maxItems: 16
                        type: array
                      backendSettings:
                        description: |-
                          BackendSettings holds configuration for managing the connection
                          to the backend.
                        properties:
                          circuitBreaker:
                            description: |-
                              Circuit Breaker settings for the upstream connections and requests.
                              If not set, circuit breakers will be enabled with the default thresholds
                            properties:
                              maxConnections:
                                default: 1024
                                description: The maximum number of connections that
                                  Envoy will establish to the referenced backend defined
                                  within a xRoute rule.
                                format: int64
                                maximum: 4294967295
                                minimum: 0
                                type: integer
                              maxParallelRequests:
                                default: 1024
                                description: The maximum number of parallel requests
                                  that Envoy will make to the referenced backend defined
                                  within a xRoute rule.
                                format: int64
                                maximum: 4294967295
                                minimum: 0
                                type: integer
                              maxParallelRetries:
                                default: 1024
                                description: The maximum number of parallel retries
                                  that Envoy will make to the referenced backend defined
                                  within a xRoute rule.
                                format: int64
                                maximum: 4294967295
                                minimum: 0
                                type: integer
                              maxPendingRequests:
                                default: 1024
                                description: The maximum number of pending requests
                                  that Envoy will queue to the referenced backend
                                  defined within a xRoute rule.
                                format: int64
                                maximum: 4294967295
                                minimum: 0
                                type: integer
                              maxRequestsPerConnection:
                                description: |-
                                  The maximum number of requests that Envoy will make over a single connection to the referenced backend defined within a xRoute rule.
                                  Default: unlimited.
                                format: int64
                                maximum: 4294967295
                                minimum: 0
                                type: integer
                              perEndpoint:
                                description: PerEndpoint defines Circuit Breakers
                                  that will apply per-endpoint for an upstream cluster
                                properties:
                                  maxConnections:
                                    default: 1024
                                    description: MaxConnections configures the maximum
                                      number of connections that Envoy will establish
                                      per-endpoint to the referenced backend defined
                                      within a xRoute rule.
                                    format: int64
                                    maximum: 4294967295
                                    minimum: 0
                                    type: integer
                                type: object
                            type: object
                          connection:
                            description: Connection includes backend connection settings.
                            properties:
                              bufferLimit:
                                allOf:
                                - pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                - pattern: ^[1-9]+[0-9]*([EPTGMK]i|[EPTGMk])?$
                                anyOf:
                                - type: integer
                                - type: string
                                description: |-
                                  BufferLimit Soft limit on size of the cluster’s connections read and write buffers.
                                  BufferLimit applies to connection streaming (maybe non-streaming) channel between processes, it's in user space.
                                  If unspecified, an implementation defined default is applied (32768 bytes).
                                  For example, 20Mi, 1Gi, 256Ki etc.
                                  Note: that when the suffix is not provided, the value is interpreted as bytes.
                                x-kubernetes-int-or-string: true
                              socketBufferLimit:
                                allOf:
                                - pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                - pattern: ^[1-9]+[0-9]*([EPTGMK]i|[EPTGMk])?$
                                anyOf:
                                - type: integer
                                - type: string
                                description: |-
                                  SocketBufferLimit provides configuration for the maximum buffer size in bytes for each socket
                                  to backend.
                                  SocketBufferLimit applies to socket streaming channel between TCP/IP stacks, it's in kernel space.
                                  For example, 20Mi, 1Gi, 256Ki etc.
                                  Note that when the suffix is not provided, the value is interpreted as bytes.
                                x-kubernetes-int-or-string: true
                            type: object
                          dns:
                            description: DNS includes dns resolution settings.
                            properties:
                              dnsRefreshRate:
                                description: |-
                                  DNSRefreshRate specifies the rate at which DNS records should be refreshed.
                                  Defaults to 30 seconds.
                                type: string
                              lookupFamily:
                                description: |-
                                  LookupFamily determines how Envoy would resolve DNS for Routes where the backend is specified as a fully qualified domain name (FQDN).
                                  If set, this configuration overrides other defaults.
                                enum:
                                - IPv4
                                - IPv6
                                - IPv4Preferred
                                - IPv6Preferred
                                - IPv4AndIPv6
                                type: string
                              respectDnsTtl:
                                description: |-
                                  RespectDNSTTL indicates whether the DNS Time-To-Live (TTL) should be respected.
                                  If the value is set to true, the DNS refresh rate will be set to the resource record’s TTL.
                                  Defaults to true.
                                type: boolean
                            type: object
                          healthCheck:
                            description: HealthCheck allows gateway to perform active
                              health checking on backends.
                            properties:
                              active:
                                description: Active health check configuration
                                properties:
                                  grpc:
                                    description: |-
                                      GRPC defines the configuration of the GRPC health checker.
                                      It's optional, and can only be used if the specified type is GRPC.
                                    properties:
                                      service:
                                        description: |-
                                          Service to send in the health check request.
                                          If this is not specified, then the health check request applies to the entire
                                          server and not to a specific service.
                                        type: string
                                    type: object
                                  healthyThreshold:
                                    default: 1
                                    description: HealthyThreshold defines the number
                                      of healthy health checks required before a backend
                                      host is marked healthy.
                                    format: int32
                                    minimum: 1
                                    type: integer
                                  http:
                                    description: |-
                                      HTTP defines the configuration of http health checker.
                                      It's required while the health checker type is HTTP.
                                    properties:
                                      expectedResponse:
                                        description: ExpectedResponse defines a list
                                          of HTTP expected responses to match.
                                        properties:
                                          binary:
                                            description: Binary payload base64 encoded.
                                            format: byte
                                            type: string
                                          text:
                                            description: Text payload in plain text.
                                            type: string
                                          type:
                                            allOf:
                                            - enum:
                                              - Text
                                              - Binary
                                            - enum:
                                              - Text
                                              - Binary
                                            description: Type defines the type of
                                              the payload.
                                            type: string
                                        required:
                                        - type
                                        type: object
                                        x-kubernetes-validations:
                                        - message: If payload type is Text, text field
                                            needs to be set.
                                          rule: 'self.type == ''Text'' ? has(self.text)
                                            : !has(self.text)'
                                        - message: If payload type is Binary, binary
                                            field needs to be set.
                                          rule: 'self.type == ''Binary'' ? has(self.binary)
                                            : !has(self.binary)'
                                      expectedStatuses:
                                        description: |-
                                          ExpectedStatuses defines a list of HTTP response statuses considered healthy.
                                          Defaults to 200 only
                                        items:
                                          description: HTTPStatus defines the http
                                            status code.
                                          exclusiveMaximum: true
                                          maximum: 600
                                          minimum: 100
                                          type: integer
                                        type: array
                                      method:
                                        description: |-
                                          Method defines the HTTP method used for health checking.
                                          Defaults to GET
                                        type: string
                                      path:
                                        description: Path defines the HTTP path that
                                          will be requested during health checking.
                                        maxLength: 1024
                                        minLength: 1
                                        type: string
                                    required:
                                    - path
                                    type: object
                                  interval:
                                    default: 3s
                                    description: Interval defines the time between
                                      active health checks.
                                    format: duration
                                    type: string
                                  tcp:
                                    description: |-
                                      TCP defines the configuration of tcp health checker.
                                      It's required while the health checker type is TCP.
                                    properties:
                                      receive:
                                        description: Receive defines the expected
                                          response payload.
                                        properties:
                                          binary:
                                            description: Binary payload base64 encoded.
                                            format: byte
                                            type: string
                                          text:
                                            description: Text payload in plain text.
                                            type: string
                                          type:
                                            allOf:
                                            - enum:
                                              - Text
                                              - Binary
                                            - enum:
                                              - Text
                                              - Binary
                                            description: Type defines the type of
                                              the payload.
                                            type: string
                                        required:
                                        - type
                                        type: object
                                        x-kubernetes-validations:
                                        - message: If payload type is Text, text field
                                            needs to be set.
                                          rule: 'self.type == ''Text'' ? has(self.text)
                                            : !has(self.text)'
                                        - message: If payload type is Binary, binary
                                            field needs to be set.
                                          rule: 'self.type == ''Binary'' ? has(self.binary)
                                            : !has(self.binary)'
                                      send:
                                        description: Send defines the request payload.
                                        properties:
                                          binary:
                                            description: Binary payload base64 encoded.
                                            format: byte
                                            type: string
                                          text:
                                            description: Text payload in plain text.
                                            type: string
                                          type:
                                            allOf:
                                            - enum:
                                              - Text
                                              - Binary
                                            - enum:
                                              - Text
                                              - Binary
                                            description: Type defines the type of
                                              the payload.
                                            type: string
                                        required:
                                        - type
                                        type: object
                                        x-kubernetes-validations:
                                        - message: If payload type is Text, text field
                                            needs to be set.
                                          rule: 'self.type == ''Text'' ? has(self.text)
                                            : !has(self.text)'
                                        - message: If payload type is Binary, binary
                                            field needs to be set.
                                          rule: 'self.type == ''Binary'' ? has(self.binary)
                                            : !has(self.binary)'
                                    type: object
                                  timeout:
                                    default: 1s
                                    description: Timeout defines the time to wait
                                      for a health check response.
                                    format: duration
                                    type: string
                                  type:
                                    allOf:
                                    - enum:
                                      - HTTP
                                      - TCP
                                      - GRPC
                                    - enum:
                                      - HTTP
                                      - TCP
                                      - GRPC
                                    description: Type defines the type of health checker.
                                    type: string
                                  unhealthyThreshold:
                                    default: 3
                                    description: UnhealthyThreshold defines the number
                                      of unhealthy health checks required before a
                                      backend host is marked unhealthy.
                                    format: int32
                                    minimum: 1
                                    type: integer
                                required:
                                - type
                                type: object
                                x-kubernetes-validations:
                                - message: If Health Checker type is HTTP, http field
                                    needs to be set.
                                  rule: 'self.type == ''HTTP'' ? has(self.http) :
                                    !has(self.http)'
                                - message: If Health Checker type is TCP, tcp field
                                    needs to be set.
                                  rule: 'self.type == ''TCP'' ? has(self.tcp) : !has(self.tcp)'
                                - message: The grpc field can only be set if the Health
                                    Checker type is GRPC.
                                  rule: 'has(self.grpc) ? self.type == ''GRPC'' :
                                    true'
                              panicThreshold:
                                description: |-
                                  When number of unhealthy endpoints for a backend reaches this threshold
                                  Envoy will disregard health status and balance across all endpoints.
                                  It's designed to prevent a situation in which host failures cascade throughout the cluster
                                  as load increases. If not set, the default value is 50%. To disable panic mode, set value to `0`.
                                format: int32
                                maximum: 100
                                minimum: 0
                                type: integer
                              passive:
                                description: Passive passive check configuration
                                properties:
                                  baseEjectionTime:
                                    default: 30s
                                    description: BaseEjectionTime defines the base
                                      duration for which a host will be ejected on
                                      consecutive failures.
                                    format: duration
                                    type: string
                                  consecutive5XxErrors:
                                    default: 5
                                    description: Consecutive5xxErrors sets the number
                                      of consecutive 5xx errors triggering ejection.
                                    format: int32
                                    type: integer
                                  consecutiveGatewayErrors:
                                    default: 0
                                    description: ConsecutiveGatewayErrors sets the
                                      number of consecutive gateway errors triggering
                                      ejection.
                                    format: int32
                                    type: integer
                                  consecutiveLocalOriginFailures:
                                    default: 5
                                    description: |-
                                      ConsecutiveLocalOriginFailures sets the number of consecutive local origin failures triggering ejection.
                                      Parameter takes effect only when split_external_local_origin_errors is set to true.
                                    format: int32
                                    type: integer
                                  interval:
                                    default: 3s
                                    description: Interval defines the time between
                                      passive health checks.
                                    format: duration
                                    type: string
                                  maxEjectionPercent:
                                    default: 10
                                    description: MaxEjectionPercent sets the maximum
                                      percentage of hosts in a cluster that can be
                                      ejected.
                                    format: int32
                                    type: integer
                                  splitExternalLocalOriginErrors:
                                    default: false
                                    description: SplitExternalLocalOriginErrors enables
                                      splitting of errors between external and local
                                      origin.
                                    type: boolean
                                type: object
                            type: object
                          http2:
                            description: HTTP2 provides HTTP/2 configuration for backend
                              connections.
                            properties:
                              initialConnectionWindowSize:
                                allOf:
                                - pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                - pattern: ^[1-9]+[0-9]*([EPTGMK]i|[EPTGMk])?$
                                anyOf:
                                - type: integer
                                - type: string
                                description: |-
                                  InitialConnectionWindowSize sets the initial window size for HTTP/2 connections.
                                  If not set, the default value is 1 MiB.
                                x-kubernetes-int-or-string: true
                              initialStreamWindowSize:
                                allOf:
                                - pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                - pattern: ^[1-9]+[0-9]*([EPTGMK]i|[EPTGMk])?$
                                anyOf:
                                - type: integer
                                - type: string
                                description: |-
                                  InitialStreamWindowSize sets the initial window size for HTTP/2 streams.
                                  If not set, the default value is 64 KiB(64*1024).
                                x-kubernetes-int-or-string: true
                              maxConcurrentStreams:
                                description: |-
                                  MaxConcurrentStreams sets the maximum number of concurrent streams allowed per connection.
                                  If not set, the default value is 100.
                                format: int32
                                maximum: 2147483647
                                minimum: 1
                                type: integer
                              onInvalidMessage:
                                description: |-
                                  OnInvalidMessage determines if Envoy will terminate the connection or just the offending stream in the event of HTTP messaging error
                                  It's recommended for L2 Envoy deployments to set this value to TerminateStream.
                                  https://www.envoyproxy.io/docs/envoy/latest/configuration/best_practices/level_two
                                  Default: TerminateConnection
                                type: string
                            type: object
                          loadBalancer:
                            description: |-
                              LoadBalancer policy to apply when routing traffic from the gateway to
                              the backend endpoints. Defaults to `LeastRequest`.
                            properties:
                              consistentHash:
                                description: |-
                                  ConsistentHash defines the configuration when the load balancer type is
                                  set to ConsistentHash
                                properties:
                                  cookie:
                                    description: Cookie configures the cookie hash
                                      policy when the consistent hash type is set
                                      to Cookie.
                                    properties:
                                      attributes:
                                        additionalProperties:
                                          type: string
                                        description: Additional Attributes to set
                                          for the generated cookie.
                                        type: object
                                      name:
                                        description: |-
                                          Name of the cookie to hash.
                                          If this cookie does not exist in the request, Envoy will generate a cookie and set
                                          the TTL on the response back to the client based on Layer 4
                                          attributes of the backend endpoint, to ensure that these future requests
                                          go to the same backend endpoint. Make sure to set the TTL field for this case.
                                        type: string
                                      ttl:
                                        description: |-
                                          TTL of the generated cookie if the cookie is not present. This value sets the
                                          Max-Age attribute value.
                                        type: string
                                    required:
                                    - name
                                    type: object
                                  header:
                                    description: Header configures the header hash
                                      policy when the consistent hash type is set
                                      to Header.
                                    properties:
                                      name:
                                        description: Name of the header to hash.
                                        type: string
                                    required:
                                    - name
                                    type: object
                                  tableSize:
                                    default: 65537
                                    description: The table size for consistent hashing,
                                      must be prime number limited to 5000011.
                                    format: int64
                                    maximum: 5000011
                                    minimum: 2
                                    type: integer
                                  type:
                                    description: |-
                                      ConsistentHashType defines the type of input to hash on. Valid Type values are
                                      "SourceIP",
                                      "Header",
                                      "Cookie".
                                    enum:
                                    - SourceIP
                                    - Header
                                    - Cookie
                                    type: string
                                required:
                                - type
                                type: object
                                x-kubernetes-validations:
                                - message: If consistent hash type is header, the
                                    header field must be set.
                                  rule: 'self.type == ''Header'' ? has(self.header)
                                    : !has(self.header)'
                                - message: If consistent hash type is cookie, the
                                    cookie field must be set.
                                  rule: 'self.type == ''Cookie'' ? has(self.cookie)
                                    : !has(self.cookie)'
                              slowStart:
                                description: |-
                                  SlowStart defines the configuration related to the slow start load balancer policy.
                                  If set, during slow start window, traffic sent to the newly added hosts will gradually increase.
                                  Currently this is only supported for RoundRobin and LeastRequest load balancers
                                properties:
                                  window:
                                    description: |-
                                      Window defines the duration of the warm up period for newly added host.
                                      During slow start window, traffic sent to the newly added hosts will gradually increase.
                                      Currently only supports linear growth of traffic. For additional details,
                                      see https://www.envoyproxy.io/docs/envoy/latest/api-v3/config/cluster/v3/cluster.proto#config-cluster-v3-cluster-slowstartconfig
                                    type: string
                                required:
                                - window
                                type: object
                              type:
                                description: |-
                                  Type decides the type of Load Balancer policy.
                                  Valid LoadBalancerType values are
                                  "ConsistentHash",
                                  "LeastRequest",
                                  "Random",
                                  "RoundRobin".
                                enum:
                                - ConsistentHash
                                - LeastRequest
                                - Random
                                - RoundRobin
                                type: string
                            required:
                            - type
                            type: object
                            x-kubernetes-validations:
                            - message: If LoadBalancer type is consistentHash, consistentHash
                                field needs to be set.
                              rule: 'self.type == ''ConsistentHash'' ? has(self.consistentHash)
                                : !has(self.consistentHash)'
                            - message: Currently SlowStart is only supported for RoundRobin
                                and LeastRequest load balancers.
                              rule: 'self.type in [''Random'', ''ConsistentHash'']
                                ? !has(self.slowStart) : true '
                          proxyProtocol:
                            description: ProxyProtocol enables the Proxy Protocol
                              when communicating with the backend.
                            properties:
                              version:
                                description: |-
                                  Version of ProxyProtol
                                  Valid ProxyProtocolVersion values are
                                  "V1"
                                  "V2"
                                enum:
                                - V1
                                - V2
                                type: string
                            required:
                            - version
                            type: object
                          retry:
                            description: |-
                              Retry provides more advanced usage, allowing users to customize the number of retries, retry fallback strategy, and retry triggering conditions.
                              If not set, retry will be disabled.
                            properties:
                              numRetries:
                                default: 2
                                description: NumRetries is the number of retries to
                                  be attempted. Defaults to 2.
                                format: int32
                                minimum: 0
                                type: integer
                              perRetry:
                                description: PerRetry is the retry policy to be applied
                                  per retry attempt.
                                properties:
                                  backOff:
                                    description: |-
                                      Backoff is the backoff policy to be applied per retry attempt. gateway uses a fully jittered exponential
                                      back-off algorithm for retries. For additional details,
                                      see https://www.envoyproxy.io/docs/envoy/latest/configuration/http/http_filters/router_filter#config-http-filters-router-x-envoy-max-retries
                                    properties:
                                      baseInterval:
                                        description: BaseInterval is the base interval
                                          between retries.
                                        format: duration
                                        type: string
                                      maxInterval:
                                        description: |-
                                          MaxInterval is the maximum interval between retries. This parameter is optional, but must be greater than or equal to the base_interval if set.
                                          The default is 10 times the base_interval
                                        format: duration
                                        type: string
                                    type: object
                                  timeout:
                                    description: Timeout is the timeout per retry
                                      attempt.
                                    format: duration
                                    type: string
                                type: object
                              retryOn:
                                description: |-
                                  RetryOn specifies the retry trigger condition.

                                  If not specified, the default is to retry on connect-failure,refused-stream,unavailable,cancelled,retriable-status-codes(503).
                                properties:
                                  httpStatusCodes:
                                    description: |-
                                      HttpStatusCodes specifies the http status codes to be retried.
                                      The retriable-status-codes trigger must also be configured for these status codes to trigger a retry.
                                    items:
                                      description: HTTPStatus defines the http status
                                        code.
                                      exclusiveMaximum: true
                                      maximum: 600
                                      minimum: 100
                                      type: integer
                                    type: array
                                  triggers:
                                    description: Triggers specifies the retry trigger
                                      condition(Http/Grpc).
                                    items:
                                      description: TriggerEnum specifies the conditions
                                        that trigger retries.
                                      enum:
                                      - 5xx
                                      - gateway-error
                                      - reset
                                      - connect-failure
                                      - retriable-4xx
                                      - refused-stream
                                      - retriable-status-codes
                                      - cancelled
                                      - deadline-exceeded
                                      - internal
                                      - resource-exhausted
                                      - unavailable
                                      type: string
                                    type: array
                                type: object
                            type: object
                          tcpKeepalive:
                            description: |-
                              TcpKeepalive settings associated with the upstream client connection.
                              Disabled by default.
                            properties:
                              idleTime:
                                description: |-
                                  The duration a connection needs to be idle before keep-alive
                                  probes start being sent.
                                  The duration format is
                                  Defaults to `7200s`.
                                pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                                type: string
                              interval:
                                description: |-
                                  The duration between keep-alive probes.
                                  Defaults to `75s`.
                                pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                                type: string
                              probes:
                                description: |-
                                  The total number of unacknowledged probes to send before deciding
                                  the connection is dead.
                                  Defaults to 9.
                                format: int32
                                type: integer
                            type: object
                          timeout:
                            description: Timeout settings for the backend connections.
                            properties:
                              http:
                                description: Timeout settings for HTTP.
                                properties:
                                  connectionIdleTimeout:
                                    description: |-
                                      The idle timeout for an HTTP connection. Idle time is defined as a period in which there are no active requests in the connection.
                                      Default: 1 hour.
                                    pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                                    type: string
                                  maxConnectionDuration:
                                    description: |-
                                      The maximum duration of an HTTP connection.
                                      Default: unlimited.
                                    pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                                    type: string
                                  requestTimeout:
                                    description: RequestTimeout is the time until
                                      which entire response is received from the upstream.
                                    pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                                    type: string
                                type: object
                              tcp:
                                description: Timeout settings for TCP.
                                properties:
                                  connectTimeout:
                                    description: |-
                                      The timeout for network connection establishment, including TCP and TLS handshakes.
                                      Default: 10 seconds.
                                    pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                                    type: string
                                type: object
                            type: object
                        type: object
                      headersToBackend:
                        description: |-
                          HeadersToBackend are the authorization response headers that will be added
                          to the original client request before sending it to the backend server.
                          Note that coexisting headers will be overridden.
                          If not specified, no authorization response headers will be added to the
                          original client request.
                        items:
                          type: string
                        type: array
                      path:
                        description: |-
                          Path is the path of the HTTP External Authorization service.
                          If path is specified, the authorization request will be sent to that path,
                          or else the authorization request will use the path of the original request.

                          Please note that the original request path will be appended to the path specified here.
                          For example, if the original request path is "/hello", and the path specified here is "/auth",
                          then the path of the authorization request will be "/auth/hello". If the path is not specified,
                          the path of the authorization request will be "/hello".
                        type: string
                    type: object
                    x-kubernetes-validations:
                    - message: backendRef or backendRefs needs to be set
                      rule: has(self.backendRef) || self.backendRefs.size() > 0
                    - message: BackendRefs only supports Service and Backend kind.
                      rule: 'has(self.backendRefs) ? self.backendRefs.all(f, f.kind
                        == ''Service'' || f.kind == ''Backend'') : true'
                    - message: BackendRefs only supports Core and gateway.envoyproxy.io
                        group.
                      rule: 'has(self.backendRefs) ? (self.backendRefs.all(f, f.group
                        == "" || f.group == ''gateway.envoyproxy.io'')) : true'
                  recomputeRoute:
                    description: |-
                      RecomputeRoute clears the route cache and recalculates the routing decision.
                      This field must be enabled if the headers added or modified by the ExtAuth are used for
                      route matching decisions. If the recomputation selects a new route, features targeting
                      the new matched route will be applied.
                    type: boolean
                type: object
                x-kubernetes-validations:
                - message: one of grpc or http must be specified
                  rule: (has(self.grpc) || has(self.http))
                - message: only one of grpc or http can be specified
                  rule: (has(self.grpc) && !has(self.http)) || (!has(self.grpc) &&
                    has(self.http))
              jwt:
                description: JWT defines the configuration for JSON Web Token (JWT)
                  authentication.
                properties:
                  optional:
                    description: |-
                      Optional determines whether a missing JWT is acceptable, defaulting to false if not specified.
                      Note: Even if optional is set to true, JWT authentication will still fail if an invalid JWT is presented.
                    type: boolean
                  providers:
                    description: |-
                      Providers defines the JSON Web Token (JWT) authentication provider type.
                      When multiple JWT providers are specified, the JWT is considered valid if
                      any of the providers successfully validate the JWT. For additional details,
                      see https://www.envoyproxy.io/docs/envoy/latest/configuration/http/http_filters/jwt_authn_filter.html.
                    items:
                      description: JWTProvider defines how a JSON Web Token (JWT)
                        can be verified.
                      properties:
                        audiences:
                          description: |-
                            Audiences is a list of JWT audiences allowed access. For additional details, see
                            https://tools.ietf.org/html/rfc7519#section-4.1.3. If not provided, JWT audiences
                            are not checked.
                          items:
                            type: string
                          maxItems: 8
                          type: array
                        claimToHeaders:
                          description: |-
                            ClaimToHeaders is a list of JWT claims that must be extracted into HTTP request headers
                            For examples, following config:
                            The claim must be of type; string, int, double, bool. Array type claims are not supported
                          items:
                            description: ClaimToHeader defines a configuration to
                              convert JWT claims into HTTP headers
                            properties:
                              claim:
                                description: |-
                                  Claim is the JWT Claim that should be saved into the header : it can be a nested claim of type
                                  (eg. "claim.nested.key", "sub"). The nested claim name must use dot "."
                                  to separate the JSON name path.
                                type: string
                              header:
                                description: Header defines the name of the HTTP request
                                  header that the JWT Claim will be saved into.
                                type: string
                            required:
                            - claim
                            - header
                            type: object
                          type: array
                        extractFrom:
                          description: |-
                            ExtractFrom defines different ways to extract the JWT token from HTTP request.
                            If empty, it defaults to extract JWT token from the Authorization HTTP request header using Bearer schema
                            or access_token from query parameters.
                          properties:
                            cookies:
                              description: Cookies represents a list of cookie names
                                to extract the JWT token from.
                              items:
                                type: string
                              type: array
                            headers:
                              description: Headers represents a list of HTTP request
                                headers to extract the JWT token from.
                              items:
                                description: JWTHeaderExtractor defines an HTTP header
                                  location to extract JWT token
                                properties:
                                  name:
                                    description: Name is the HTTP header name to retrieve
                                      the token
                                    type: string
                                  valuePrefix:
                                    description: |-
                                      ValuePrefix is the prefix that should be stripped before extracting the token.
                                      The format would be used by Envoy like "{ValuePrefix}<TOKEN>".
                                      For example, "Authorization: Bearer <TOKEN>", then the ValuePrefix="Bearer " with a space at the end.
                                    type: string
                                required:
                                - name
                                type: object
                              type: array
                            params:
                              description: Params represents a list of query parameters
                                to extract the JWT token from.
                              items:
                                type: string
                              type: array
                          type: object
                        issuer:
                          description: |-
                            Issuer is the principal that issued the JWT and takes the form of a URL or email address.
                            For additional details, see https://tools.ietf.org/html/rfc7519#section-4.1.1 for
                            URL format and https://rfc-editor.org/rfc/rfc5322.html for email format. If not provided,
                            the JWT issuer is not checked.
                          maxLength: 253
                          type: string
                        localJWKS:
                          description: LocalJWKS defines how to get the JSON Web Key
                            Sets (JWKS) from a local source.
                          properties:
                            inline:
                              description: Inline contains the value as an inline
                                string.
                              type: string
                            type:
                              default: Inline
                              description: |-
                                Type is the type of method to use to read the body value.
                                Valid values are Inline and ValueRef, default is Inline.
                              enum:
                              - Inline
                              - ValueRef
                              type: string
                            valueRef:
                              description: |-
                                ValueRef is a reference to a local ConfigMap that contains the JSON Web Key Sets (JWKS).

                                The value of key `jwks` in the ConfigMap will be used.
                                If the key is not found, the first value in the ConfigMap will be used.
                              properties:
                                group:
                                  description: |-
                                    Group is the group of the referent. For example, "gateway.networking.k8s.io".
                                    When unspecified or empty string, core API group is inferred.
                                  maxLength: 253
                                  pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                                  type: string
                                kind:
                                  description: Kind is kind of the referent. For example
                                    "HTTPRoute" or "Service".
                                  maxLength: 63
                                  minLength: 1
                                  pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                                  type: string
                                name:
                                  description: Name is the name of the referent.
                                  maxLength: 253
                                  minLength: 1
                                  type: string
                              required:
                              - group
                              - kind
                              - name
                              type: object
                          required:
                          - type
                          type: object
                          x-kubernetes-validations:
                          - message: Exactly one of inline or valueRef must be set
                              with correct type.
                            rule: (self.type == 'Inline' && has(self.inline) && !has(self.valueRef))
                              || (self.type == 'ValueRef' && !has(self.inline) &&
                              has(self.valueRef))
                        name:
                          description: |-
                            Name defines a unique name for the JWT provider. A name can have a variety of forms,
                            including RFC1123 subdomains, RFC 1123 labels, or RFC 1035 labels.
                          maxLength: 253
                          minLength: 1
                          type: string
                        recomputeRoute:
                          description: |-
                            RecomputeRoute clears the route cache and recalculates the routing decision.
                            This field must be enabled if the headers generated from the claim are used for
                            route matching decisions. If the recomputation selects a new route, features targeting
                            the new matched route will be applied.
                          type: boolean
                        remoteJWKS:
                          description: |-
                            RemoteJWKS defines how to fetch and cache JSON Web Key Sets (JWKS) from a remote
                            HTTP/HTTPS endpoint.
                          properties:
                            backendRef:
                              description: |-
                                BackendRef references a Kubernetes object that represents the
                                backend server to which the authorization request will be sent.

                                Deprecated: Use BackendRefs instead.
                              properties:
                                group:
                                  default: ""
                                  description: |-
                                    Group is the group of the referent. For example, "gateway.networking.k8s.io".
                                    When unspecified or empty string, core API group is inferred.
                                  maxLength: 253
                                  pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                                  type: string
                                kind:
                                  default: Service
                                  description: |-
                                    Kind is the Kubernetes resource kind of the referent. For example
                                    "Service".

                                    Defaults to "Service" when not specified.

                                    ExternalName services can refer to CNAME DNS records that may live
                                    outside of the cluster and as such are difficult to reason about in
                                    terms of conformance. They also may not be safe to forward to (see
                                    CVE-2021-25740 for more information). Implementations SHOULD NOT
                                    support ExternalName Services.

                                    Support: Core (Services with a type other than ExternalName)

                                    Support: Implementation-specific (Services with type ExternalName)
                                  maxLength: 63
                                  minLength: 1
                                  pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                                  type: string
                                name:
                                  description: Name is the name of the referent.
                                  maxLength: 253
                                  minLength: 1
                                  type: string
                                namespace:
                                  description: |-
                                    Namespace is the namespace of the backend. When unspecified, the local
                                    namespace is inferred.

                                    Note that when a namespace different than the local namespace is specified,
                                    a ReferenceGrant object is required in the referent namespace to allow that
                                    namespace's owner to accept the reference. See the ReferenceGrant
                                    documentation for details.

                                    Support: Core
                                  maxLength: 63
                                  minLength: 1
                                  pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                                  type: string
                                port:
                                  description: |-
                                    Port specifies the destination port number to use for this resource.
                                    Port is required when the referent is a Kubernetes Service. In this
                                    case, the port number is the service port number, not the target port.
                                    For other resources, destination port might be derived from the referent
                                    resource or this field.
                                  format: int32
                                  maximum: 65535
                                  minimum: 1
                                  type: integer
                              required:
                              - name
                              type: object
                              x-kubernetes-validations:
                              - message: Must have port for Service reference
                                rule: '(size(self.group) == 0 && self.kind == ''Service'')
                                  ? has(self.port) : true'
                            backendRefs:
                              description: |-
                                BackendRefs references a Kubernetes object that represents the
                                backend server to which the authorization request will be sent.
                              items:
                                description: BackendRef defines how an ObjectReference
                                  that is specific to BackendRef.
                                properties:
                                  fallback:
                                    description: |-
                                      Fallback indicates whether the backend is designated as a fallback.
                                      Multiple fallback backends can be configured.
                                      It is highly recommended to configure active or passive health checks to ensure that failover can be detected
                                      when the active backends become unhealthy and to automatically readjust once the primary backends are healthy again.
                                      The overprovisioning factor is set to 1.4, meaning the fallback backends will only start receiving traffic when
                                      the health of the active backends falls below 72%.
                                    type: boolean
                                  group:
                                    default: ""
                                    description: |-
                                      Group is the group of the referent. For example, "gateway.networking.k8s.io".
                                      When unspecified or empty string, core API group is inferred.
                                    maxLength: 253
                                    pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                                    type: string
                                  kind:
                                    default: Service
                                    description: |-
                                      Kind is the Kubernetes resource kind of the referent. For example
                                      "Service".

                                      Defaults to "Service" when not specified.

                                      ExternalName services can refer to CNAME DNS records that may live
                                      outside of the cluster and as such are difficult to reason about in
                                      terms of conformance. They also may not be safe to forward to (see
                                      CVE-2021-25740 for more information). Implementations SHOULD NOT
                                      support ExternalName Services.

                                      Support: Core (Services with a type other than ExternalName)

                                      Support: Implementation-specific (Services with type ExternalName)
                                    maxLength: 63
                                    minLength: 1
                                    pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                                    type: string
                                  name:
                                    description: Name is the name of the referent.
                                    maxLength: 253
                                    minLength: 1
                                    type: string
                                  namespace:
                                    description: |-
                                      Namespace is the namespace of the backend. When unspecified, the local
                                      namespace is inferred.

                                      Note that when a namespace different than the local namespace is specified,
                                      a ReferenceGrant object is required in the referent namespace to allow that
                                      namespace's owner to accept the reference. See the ReferenceGrant
                                      documentation for details.

                                      Support: Core
                                    maxLength: 63
                                    minLength: 1
                                    pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                                    type: string
                                  port:
                                    description: |-
                                      Port specifies the destination port number to use for this resource.
                                      Port is required when the referent is a Kubernetes Service. In this
                                      case, the port number is the service port number, not the target port.
                                      For other resources, destination port might be derived from the referent
                                      resource or this field.
                                    format: int32
                                    maximum: 65535
                                    minimum: 1
                                    type: integer
                                required:
                                - name
                                type: object
                                x-kubernetes-validations:
                                - message: Must have port for Service reference
                                  rule: '(size(self.group) == 0 && self.kind == ''Service'')
                                    ? has(self.port) : true'
                              maxItems: 16
                              type: array
                            backendSettings:
                              description: |-
                                BackendSettings holds configuration for managing the connection
                                to the backend.
                              properties:
                                circuitBreaker:
                                  description: |-
                                    Circuit Breaker settings for the upstream connections and requests.
                                    If not set, circuit breakers will be enabled with the default thresholds
                                  properties:
                                    maxConnections:
                                      default: 1024
                                      description: The maximum number of connections
                                        that Envoy will establish to the referenced
                                        backend defined within a xRoute rule.
                                      format: int64
                                      maximum: 4294967295
                                      minimum: 0
                                      type: integer
                                    maxParallelRequests:
                                      default: 1024
                                      description: The maximum number of parallel
                                        requests that Envoy will make to the referenced
                                        backend defined within a xRoute rule.
                                      format: int64
                                      maximum: 4294967295
                                      minimum: 0
                                      type: integer
                                    maxParallelRetries:
                                      default: 1024
                                      description: The maximum number of parallel
                                        retries that Envoy will make to the referenced
                                        backend defined within a xRoute rule.
                                      format: int64
                                      maximum: 4294967295
                                      minimum: 0
                                      type: integer
                                    maxPendingRequests:
                                      default: 1024
                                      description: The maximum number of pending requests
                                        that Envoy will queue to the referenced backend
                                        defined within a xRoute rule.
                                      format: int64
                                      maximum: 4294967295
                                      minimum: 0
                                      type: integer
                                    maxRequestsPerConnection:
                                      description: |-
                                        The maximum number of requests that Envoy will make over a single connection to the referenced backend defined within a xRoute rule.
                                        Default: unlimited.
                                      format: int64
                                      maximum: 4294967295
                                      minimum: 0
                                      type: integer
                                    perEndpoint:
                                      description: PerEndpoint defines Circuit Breakers
                                        that will apply per-endpoint for an upstream
                                        cluster
                                      properties:
                                        maxConnections:
                                          default: 1024
                                          description: MaxConnections configures the
                                            maximum number of connections that Envoy
                                            will establish per-endpoint to the referenced
                                            backend defined within a xRoute rule.
                                          format: int64
                                          maximum: 4294967295
                                          minimum: 0
                                          type: integer
                                      type: object
                                  type: object
                                connection:
                                  description: Connection includes backend connection
                                    settings.
                                  properties:
                                    bufferLimit:
                                      allOf:
                                      - pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                      - pattern: ^[1-9]+[0-9]*([EPTGMK]i|[EPTGMk])?$
                                      anyOf:
                                      - type: integer
                                      - type: string
                                      description: |-
                                        BufferLimit Soft limit on size of the cluster’s connections read and write buffers.
                                        BufferLimit applies to connection streaming (maybe non-streaming) channel between processes, it's in user space.
                                        If unspecified, an implementation defined default is applied (32768 bytes).
                                        For example, 20Mi, 1Gi, 256Ki etc.
                                        Note: that when the suffix is not provided, the value is interpreted as bytes.
                                      x-kubernetes-int-or-string: true
                                    socketBufferLimit:
                                      allOf:
                                      - pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                      - pattern: ^[1-9]+[0-9]*([EPTGMK]i|[EPTGMk])?$
                                      anyOf:
                                      - type: integer
                                      - type: string
                                      description: |-
                                        SocketBufferLimit provides configuration for the maximum buffer size in bytes for each socket
                                        to backend.
                                        SocketBufferLimit applies to socket streaming channel between TCP/IP stacks, it's in kernel space.
                                        For example, 20Mi, 1Gi, 256Ki etc.
                                        Note that when the suffix is not provided, the value is interpreted as bytes.
                                      x-kubernetes-int-or-string: true
                                  type: object
                                dns:
                                  description: DNS includes dns resolution settings.
                                  properties:
                                    dnsRefreshRate:
                                      description: |-
                                        DNSRefreshRate specifies the rate at which DNS records should be refreshed.
                                        Defaults to 30 seconds.
                                      type: string
                                    lookupFamily:
                                      description: |-
                                        LookupFamily determines how Envoy would resolve DNS for Routes where the backend is specified as a fully qualified domain name (FQDN).
                                        If set, this configuration overrides other defaults.
                                      enum:
                                      - IPv4
                                      - IPv6
                                      - IPv4Preferred
                                      - IPv6Preferred
                                      - IPv4AndIPv6
                                      type: string
                                    respectDnsTtl:
                                      description: |-
                                        RespectDNSTTL indicates whether the DNS Time-To-Live (TTL) should be respected.
                                        If the value is set to true, the DNS refresh rate will be set to the resource record’s TTL.
                                        Defaults to true.
                                      type: boolean
                                  type: object
                                healthCheck:
                                  description: HealthCheck allows gateway to perform
                                    active health checking on backends.
                                  properties:
                                    active:
                                      description: Active health check configuration
                                      properties:
                                        grpc:
                                          description: |-
                                            GRPC defines the configuration of the GRPC health checker.
                                            It's optional, and can only be used if the specified type is GRPC.
                                          properties:
                                            service:
                                              description: |-
                                                Service to send in the health check request.
                                                If this is not specified, then the health check request applies to the entire
                                                server and not to a specific service.
                                              type: string
                                          type: object
                                        healthyThreshold:
                                          default: 1
                                          description: HealthyThreshold defines the
                                            number of healthy health checks required
                                            before a backend host is marked healthy.
                                          format: int32
                                          minimum: 1
                                          type: integer
                                        http:
                                          description: |-
                                            HTTP defines the configuration of http health checker.
                                            It's required while the health checker type is HTTP.
                                          properties:
                                            expectedResponse:
                                              description: ExpectedResponse defines
                                                a list of HTTP expected responses
                                                to match.
                                              properties:
                                                binary:
                                                  description: Binary payload base64
                                                    encoded.
                                                  format: byte
                                                  type: string
                                                text:
                                                  description: Text payload in plain
                                                    text.
                                                  type: string
                                                type:
                                                  allOf:
                                                  - enum:
                                                    - Text
                                                    - Binary
                                                  - enum:
                                                    - Text
                                                    - Binary
                                                  description: Type defines the type
                                                    of the payload.
                                                  type: string
                                              required:
                                              - type
                                              type: object
                                              x-kubernetes-validations:
                                              - message: If payload type is Text,
                                                  text field needs to be set.
                                                rule: 'self.type == ''Text'' ? has(self.text)
                                                  : !has(self.text)'
                                              - message: If payload type is Binary,
                                                  binary field needs to be set.
                                                rule: 'self.type == ''Binary'' ? has(self.binary)
                                                  : !has(self.binary)'
                                            expectedStatuses:
                                              description: |-
                                                ExpectedStatuses defines a list of HTTP response statuses considered healthy.
                                                Defaults to 200 only
                                              items:
                                                description: HTTPStatus defines the
                                                  http status code.
                                                exclusiveMaximum: true
                                                maximum: 600
                                                minimum: 100
                                                type: integer
                                              type: array
                                            method:
                                              description: |-
                                                Method defines the HTTP method used for health checking.
                                                Defaults to GET
                                              type: string
                                            path:
                                              description: Path defines the HTTP path
                                                that will be requested during health
                                                checking.
                                              maxLength: 1024
                                              minLength: 1
                                              type: string
                                          required:
                                          - path
                                          type: object
                                        interval:
                                          default: 3s
                                          description: Interval defines the time between
                                            active health checks.
                                          format: duration
                                          type: string
                                        tcp:
                                          description: |-
                                            TCP defines the configuration of tcp health checker.
                                            It's required while the health checker type is TCP.
                                          properties:
                                            receive:
                                              description: Receive defines the expected
                                                response payload.
                                              properties:
                                                binary:
                                                  description: Binary payload base64
                                                    encoded.
                                                  format: byte
                                                  type: string
                                                text:
                                                  description: Text payload in plain
                                                    text.
                                                  type: string
                                                type:
                                                  allOf:
                                                  - enum:
                                                    - Text
                                                    - Binary
                                                  - enum:
                                                    - Text
                                                    - Binary
                                                  description: Type defines the type
                                                    of the payload.
                                                  type: string
                                              required:
                                              - type
                                              type: object
                                              x-kubernetes-validations:
                                              - message: If payload type is Text,
                                                  text field needs to be set.
                                                rule: 'self.type == ''Text'' ? has(self.text)
                                                  : !has(self.text)'
                                              - message: If payload type is Binary,
                                                  binary field needs to be set.
                                                rule: 'self.type == ''Binary'' ? has(self.binary)
                                                  : !has(self.binary)'
                                            send:
                                              description: Send defines the request
                                                payload.
                                              properties:
                                                binary:
                                                  description: Binary payload base64
                                                    encoded.
                                                  format: byte
                                                  type: string
                                                text:
                                                  description: Text payload in plain
                                                    text.
                                                  type: string
                                                type:
                                                  allOf:
                                                  - enum:
                                                    - Text
                                                    - Binary
                                                  - enum:
                                                    - Text
                                                    - Binary
                                                  description: Type defines the type
                                                    of the payload.
                                                  type: string
                                              required:
                                              - type
                                              type: object
                                              x-kubernetes-validations:
                                              - message: If payload type is Text,
                                                  text field needs to be set.
                                                rule: 'self.type == ''Text'' ? has(self.text)
                                                  : !has(self.text)'
                                              - message: If payload type is Binary,
                                                  binary field needs to be set.
                                                rule: 'self.type == ''Binary'' ? has(self.binary)
                                                  : !has(self.binary)'
                                          type: object
                                        timeout:
                                          default: 1s
                                          description: Timeout defines the time to
                                            wait for a health check response.
                                          format: duration
                                          type: string
                                        type:
                                          allOf:
                                          - enum:
                                            - HTTP
                                            - TCP
                                            - GRPC
                                          - enum:
                                            - HTTP
                                            - TCP
                                            - GRPC
                                          description: Type defines the type of health
                                            checker.
                                          type: string
                                        unhealthyThreshold:
                                          default: 3
                                          description: UnhealthyThreshold defines
                                            the number of unhealthy health checks
                                            required before a backend host is marked
                                            unhealthy.
                                          format: int32
                                          minimum: 1
                                          type: integer
                                      required:
                                      - type
                                      type: object
                                      x-kubernetes-validations:
                                      - message: If Health Checker type is HTTP, http
                                          field needs to be set.
                                        rule: 'self.type == ''HTTP'' ? has(self.http)
                                          : !has(self.http)'
                                      - message: If Health Checker type is TCP, tcp
                                          field needs to be set.
                                        rule: 'self.type == ''TCP'' ? has(self.tcp)
                                          : !has(self.tcp)'
                                      - message: The grpc field can only be set if
                                          the Health Checker type is GRPC.
                                        rule: 'has(self.grpc) ? self.type == ''GRPC''
                                          : true'
                                    panicThreshold:
                                      description: |-
                                        When number of unhealthy endpoints for a backend reaches this threshold
                                        Envoy will disregard health status and balance across all endpoints.
                                        It's designed to prevent a situation in which host failures cascade throughout the cluster
                                        as load increases. If not set, the default value is 50%. To disable panic mode, set value to `0`.
                                      format: int32
                                      maximum: 100
                                      minimum: 0
                                      type: integer
                                    passive:
                                      description: Passive passive check configuration
                                      properties:
                                        baseEjectionTime:
                                          default: 30s
                                          description: BaseEjectionTime defines the
                                            base duration for which a host will be
                                            ejected on consecutive failures.
                                          format: duration
                                          type: string
                                        consecutive5XxErrors:
                                          default: 5
                                          description: Consecutive5xxErrors sets the
                                            number of consecutive 5xx errors triggering
                                            ejection.
                                          format: int32
                                          type: integer
                                        consecutiveGatewayErrors:
                                          default: 0
                                          description: ConsecutiveGatewayErrors sets
                                            the number of consecutive gateway errors
                                            triggering ejection.
                                          format: int32
                                          type: integer
                                        consecutiveLocalOriginFailures:
                                          default: 5
                                          description: |-
                                            ConsecutiveLocalOriginFailures sets the number of consecutive local origin failures triggering ejection.
                                            Parameter takes effect only when split_external_local_origin_errors is set to true.
                                          format: int32
                                          type: integer
                                        interval:
                                          default: 3s
                                          description: Interval defines the time between
                                            passive health checks.
                                          format: duration
                                          type: string
                                        maxEjectionPercent:
                                          default: 10
                                          description: MaxEjectionPercent sets the
                                            maximum percentage of hosts in a cluster
                                            that can be ejected.
                                          format: int32
                                          type: integer
                                        splitExternalLocalOriginErrors:
                                          default: false
                                          description: SplitExternalLocalOriginErrors
                                            enables splitting of errors between external
                                            and local origin.
                                          type: boolean
                                      type: object
                                  type: object
                                http2:
                                  description: HTTP2 provides HTTP/2 configuration
                                    for backend connections.
                                  properties:
                                    initialConnectionWindowSize:
                                      allOf:
                                      - pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                      - pattern: ^[1-9]+[0-9]*([EPTGMK]i|[EPTGMk])?$
                                      anyOf:
                                      - type: integer
                                      - type: string
                                      description: |-
                                        InitialConnectionWindowSize sets the initial window size for HTTP/2 connections.
                                        If not set, the default value is 1 MiB.
                                      x-kubernetes-int-or-string: true
                                    initialStreamWindowSize:
                                      allOf:
                                      - pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                      - pattern: ^[1-9]+[0-9]*([EPTGMK]i|[EPTGMk])?$
                                      anyOf:
                                      - type: integer
                                      - type: string
                                      description: |-
                                        InitialStreamWindowSize sets the initial window size for HTTP/2 streams.
                                        If not set, the default value is 64 KiB(64*1024).
                                      x-kubernetes-int-or-string: true
                                    maxConcurrentStreams:
                                      description: |-
                                        MaxConcurrentStreams sets the maximum number of concurrent streams allowed per connection.
                                        If not set, the default value is 100.
                                      format: int32
                                      maximum: 2147483647
                                      minimum: 1
                                      type: integer
                                    onInvalidMessage:
                                      description: |-
                                        OnInvalidMessage determines if Envoy will terminate the connection or just the offending stream in the event of HTTP messaging error
                                        It's recommended for L2 Envoy deployments to set this value to TerminateStream.
                                        https://www.envoyproxy.io/docs/envoy/latest/configuration/best_practices/level_two
                                        Default: TerminateConnection
                                      type: string
                                  type: object
                                loadBalancer:
                                  description: |-
                                    LoadBalancer policy to apply when routing traffic from the gateway to
                                    the backend endpoints. Defaults to `LeastRequest`.
                                  properties:
                                    consistentHash:
                                      description: |-
                                        ConsistentHash defines the configuration when the load balancer type is
                                        set to ConsistentHash
                                      properties:
                                        cookie:
                                          description: Cookie configures the cookie
                                            hash policy when the consistent hash type
                                            is set to Cookie.
                                          properties:
                                            attributes:
                                              additionalProperties:
                                                type: string
                                              description: Additional Attributes to
                                                set for the generated cookie.
                                              type: object
                                            name:
                                              description: |-
                                                Name of the cookie to hash.
                                                If this cookie does not exist in the request, Envoy will generate a cookie and set
                                                the TTL on the response back to the client based on Layer 4
                                                attributes of the backend endpoint, to ensure that these future requests
                                                go to the same backend endpoint. Make sure to set the TTL field for this case.
                                              type: string
                                            ttl:
                                              description: |-
                                                TTL of the generated cookie if the cookie is not present. This value sets the
                                                Max-Age attribute value.
                                              type: string
                                          required:
                                          - name
                                          type: object
                                        header:
                                          description: Header configures the header
                                            hash policy when the consistent hash type
                                            is set to Header.
                                          properties:
                                            name:
                                              description: Name of the header to hash.
                                              type: string
                                          required:
                                          - name
                                          type: object
                                        tableSize:
                                          default: 65537
                                          description: The table size for consistent
                                            hashing, must be prime number limited
                                            to 5000011.
                                          format: int64
                                          maximum: 5000011
                                          minimum: 2
                                          type: integer
                                        type:
                                          description: |-
                                            ConsistentHashType defines the type of input to hash on. Valid Type values are
                                            "SourceIP",
                                            "Header",
                                            "Cookie".
                                          enum:
                                          - SourceIP
                                          - Header
                                          - Cookie
                                          type: string
                                      required:
                                      - type
                                      type: object
                                      x-kubernetes-validations:
                                      - message: If consistent hash type is header,
                                          the header field must be set.
                                        rule: 'self.type == ''Header'' ? has(self.header)
                                          : !has(self.header)'
                                      - message: If consistent hash type is cookie,
                                          the cookie field must be set.
                                        rule: 'self.type == ''Cookie'' ? has(self.cookie)
                                          : !has(self.cookie)'
                                    slowStart:
                                      description: |-
                                        SlowStart defines the configuration related to the slow start load balancer policy.
                                        If set, during slow start window, traffic sent to the newly added hosts will gradually increase.
                                        Currently this is only supported for RoundRobin and LeastRequest load balancers
                                      properties:
                                        window:
                                          description: |-
                                            Window defines the duration of the warm up period for newly added host.
                                            During slow start window, traffic sent to the newly added hosts will gradually increase.
                                            Currently only supports linear growth of traffic. For additional details,
                                            see https://www.envoyproxy.io/docs/envoy/latest/api-v3/config/cluster/v3/cluster.proto#config-cluster-v3-cluster-slowstartconfig
                                          type: string
                                      required:
                                      - window
                                      type: object
                                    type:
                                      description: |-
                                        Type decides the type of Load Balancer policy.
                                        Valid LoadBalancerType values are
                                        "ConsistentHash",
                                        "LeastRequest",
                                        "Random",
                                        "RoundRobin".
                                      enum:
                                      - ConsistentHash
                                      - LeastRequest
                                      - Random
                                      - RoundRobin
                                      type: string
                                  required:
                                  - type
                                  type: object
                                  x-kubernetes-validations:
                                  - message: If LoadBalancer type is consistentHash,
                                      consistentHash field needs to be set.
                                    rule: 'self.type == ''ConsistentHash'' ? has(self.consistentHash)
                                      : !has(self.consistentHash)'
                                  - message: Currently SlowStart is only supported
                                      for RoundRobin and LeastRequest load balancers.
                                    rule: 'self.type in [''Random'', ''ConsistentHash'']
                                      ? !has(self.slowStart) : true '
                                proxyProtocol:
                                  description: ProxyProtocol enables the Proxy Protocol
                                    when communicating with the backend.
                                  properties:
                                    version:
                                      description: |-
                                        Version of ProxyProtol
                                        Valid ProxyProtocolVersion values are
                                        "V1"
                                        "V2"
                                      enum:
                                      - V1
                                      - V2
                                      type: string
                                  required:
                                  - version
                                  type: object
                                retry:
                                  description: |-
                                    Retry provides more advanced usage, allowing users to customize the number of retries, retry fallback strategy, and retry triggering conditions.
                                    If not set, retry will be disabled.
                                  properties:
                                    numRetries:
                                      default: 2
                                      description: NumRetries is the number of retries
                                        to be attempted. Defaults to 2.
                                      format: int32
                                      minimum: 0
                                      type: integer
                                    perRetry:
                                      description: PerRetry is the retry policy to
                                        be applied per retry attempt.
                                      properties:
                                        backOff:
                                          description: |-
                                            Backoff is the backoff policy to be applied per retry attempt. gateway uses a fully jittered exponential
                                            back-off algorithm for retries. For additional details,
                                            see https://www.envoyproxy.io/docs/envoy/latest/configuration/http/http_filters/router_filter#config-http-filters-router-x-envoy-max-retries
                                          properties:
                                            baseInterval:
                                              description: BaseInterval is the base
                                                interval between retries.
                                              format: duration
                                              type: string
                                            maxInterval:
                                              description: |-
                                                MaxInterval is the maximum interval between retries. This parameter is optional, but must be greater than or equal to the base_interval if set.
                                                The default is 10 times the base_interval
                                              format: duration
                                              type: string
                                          type: object
                                        timeout:
                                          description: Timeout is the timeout per
                                            retry attempt.
                                          format: duration
                                          type: string
                                      type: object
                                    retryOn:
                                      description: |-
                                        RetryOn specifies the retry trigger condition.

                                        If not specified, the default is to retry on connect-failure,refused-stream,unavailable,cancelled,retriable-status-codes(503).
                                      properties:
                                        httpStatusCodes:
                                          description: |-
                                            HttpStatusCodes specifies the http status codes to be retried.
                                            The retriable-status-codes trigger must also be configured for these status codes to trigger a retry.
                                          items:
                                            description: HTTPStatus defines the http
                                              status code.
                                            exclusiveMaximum: true
                                            maximum: 600
                                            minimum: 100
                                            type: integer
                                          type: array
                                        triggers:
                                          description: Triggers specifies the retry
                                            trigger condition(Http/Grpc).
                                          items:
                                            description: TriggerEnum specifies the
                                              conditions that trigger retries.
                                            enum:
                                            - 5xx
                                            - gateway-error
                                            - reset
                                            - connect-failure
                                            - retriable-4xx
                                            - refused-stream
                                            - retriable-status-codes
                                            - cancelled
                                            - deadline-exceeded
                                            - internal
                                            - resource-exhausted
                                            - unavailable
                                            type: string
                                          type: array
                                      type: object
                                  type: object
                                tcpKeepalive:
                                  description: |-
                                    TcpKeepalive settings associated with the upstream client connection.
                                    Disabled by default.
                                  properties:
                                    idleTime:
                                      description: |-
                                        The duration a connection needs to be idle before keep-alive
                                        probes start being sent.
                                        The duration format is
                                        Defaults to `7200s`.
                                      pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                                      type: string
                                    interval:
                                      description: |-
                                        The duration between keep-alive probes.
                                        Defaults to `75s`.
                                      pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                                      type: string
                                    probes:
                                      description: |-
                                        The total number of unacknowledged probes to send before deciding
                                        the connection is dead.
                                        Defaults to 9.
                                      format: int32
                                      type: integer
                                  type: object
                                timeout:
                                  description: Timeout settings for the backend connections.
                                  properties:
                                    http:
                                      description: Timeout settings for HTTP.
                                      properties:
                                        connectionIdleTimeout:
                                          description: |-
                                            The idle timeout for an HTTP connection. Idle time is defined as a period in which there are no active requests in the connection.
                                            Default: 1 hour.
                                          pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                                          type: string
                                        maxConnectionDuration:
                                          description: |-
                                            The maximum duration of an HTTP connection.
                                            Default: unlimited.
                                          pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                                          type: string
                                        requestTimeout:
                                          description: RequestTimeout is the time
                                            until which entire response is received
                                            from the upstream.
                                          pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                                          type: string
                                      type: object
                                    tcp:
                                      description: Timeout settings for TCP.
                                      properties:
                                        connectTimeout:
                                          description: |-
                                            The timeout for network connection establishment, including TCP and TLS handshakes.
                                            Default: 10 seconds.
                                          pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                                          type: string
                                      type: object
                                  type: object
                              type: object
                            uri:
                              description: |-
                                URI is the HTTPS URI to fetch the JWKS. Envoy's system trust bundle is used to validate the server certificate.
                                If a custom trust bundle is needed, it can be specified in a BackendTLSConfig resource and target the BackendRefs.
                              maxLength: 253
                              minLength: 1
                              type: string
                          required:
                          - uri
                          type: object
                          x-kubernetes-validations:
                          - message: BackendRefs must be used, backendRef is not supported.
                            rule: '!has(self.backendRef)'
                          - message: Retry timeout is not supported.
                            rule: has(self.backendSettings)? (has(self.backendSettings.retry)?(has(self.backendSettings.retry.perRetry)?
                              !has(self.backendSettings.retry.perRetry.timeout):true):true):true
                          - message: HTTPStatusCodes is not supported.
                            rule: has(self.backendSettings)? (has(self.backendSettings.retry)?(has(self.backendSettings.retry.retryOn)?
                              !has(self.backendSettings.retry.retryOn.httpStatusCodes):true):true):true
                      required:
                      - name
                      type: object
                      x-kubernetes-validations:
                      - message: claimToHeaders must be specified if recomputeRoute
                          is enabled.
                        rule: '(has(self.recomputeRoute) && self.recomputeRoute) ?
                          size(self.claimToHeaders) > 0 : true'
                      - message: either remoteJWKS or localJWKS must be specified.
                        rule: has(self.remoteJWKS) || has(self.localJWKS)
                      - message: remoteJWKS and localJWKS cannot both be specified.
                        rule: '!(has(self.remoteJWKS) && has(self.localJWKS))'
                    maxItems: 4
                    minItems: 1
                    type: array
                required:
                - providers
                type: object
              oidc:
                description: OIDC defines the configuration for the OpenID Connect
                  (OIDC) authentication.
                properties:
                  clientID:
                    description: |-
                      The client ID to be used in the OIDC
                      [Authentication Request](https://openid.net/specs/openid-connect-core-1_0.html#AuthRequest).
                    minLength: 1
                    type: string
                  clientSecret:
                    description: |-
                      The Kubernetes secret which contains the OIDC client secret to be used in the
                      [Authentication Request](https://openid.net/specs/openid-connect-core-1_0.html#AuthRequest).

                      This is an Opaque secret. The client secret should be stored in the key
                      "client-secret".
                    properties:
                      group:
                        default: ""
                        description: |-
                          Group is the group of the referent. For example, "gateway.networking.k8s.io".
                          When unspecified or empty string, core API group is inferred.
                        maxLength: 253
                        pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                        type: string
                      kind:
                        default: Secret
                        description: Kind is kind of the referent. For example "Secret".
                        maxLength: 63
                        minLength: 1
                        pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                        type: string
                      name:
                        description: Name is the name of the referent.
                        maxLength: 253
                        minLength: 1
                        type: string
                      namespace:
                        description: |-
                          Namespace is the namespace of the referenced object. When unspecified, the local
                          namespace is inferred.

                          Note that when a namespace different than the local namespace is specified,
                          a ReferenceGrant object is required in the referent namespace to allow that
                          namespace's owner to accept the reference. See the ReferenceGrant
                          documentation for details.

                          Support: Core
                        maxLength: 63
                        minLength: 1
                        pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                        type: string
                    required:
                    - name
                    type: object
                  cookieDomain:
                    description: |-
                      The optional domain to set the access and ID token cookies on.
                      If not set, the cookies will default to the host of the request, not including the subdomains.
                      If set, the cookies will be set on the specified domain and all subdomains.
                      This means that requests to any subdomain will not require reauthentication after users log in to the parent domain.
                    pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9]))*$
                    type: string
                  cookieNames:
                    description: |-
                      The optional cookie name overrides to be used for Bearer and IdToken cookies in the
                      [Authentication Request](https://openid.net/specs/openid-connect-core-1_0.html#AuthRequest).
                      If not specified, uses a randomly generated suffix
                    properties:
                      accessToken:
                        description: |-
                          The name of the cookie used to store the AccessToken in the
                          [Authentication Request](https://openid.net/specs/openid-connect-core-1_0.html#AuthRequest).
                          If not specified, defaults to "AccessToken-(randomly generated uid)"
                        type: string
                      idToken:
                        description: |-
                          The name of the cookie used to store the IdToken in the
                          [Authentication Request](https://openid.net/specs/openid-connect-core-1_0.html#AuthRequest).
                          If not specified, defaults to "IdToken-(randomly generated uid)"
                        type: string
                    type: object
                  defaultRefreshTokenTTL:
                    description: |-
                      DefaultRefreshTokenTTL is the default lifetime of the refresh token.
                      This field is only used when the exp (expiration time) claim is omitted in
                      the refresh token or the refresh token is not JWT.

                      If not specified, defaults to 604800s (one week).
                      Note: this field is only applicable when the "refreshToken" field is set to true.
                    type: string
                  defaultTokenTTL:
                    description: |-
                      DefaultTokenTTL is the default lifetime of the id token and access token.
                      Please note that Envoy will always use the expiry time from the response
                      of the authorization server if it is provided. This field is only used when
                      the expiry time is not provided by the authorization.

                      If not specified, defaults to 0. In this case, the "expires_in" field in
                      the authorization response must be set by the authorization server, or the
                      OAuth flow will fail.
                    type: string
                  denyRedirect:
                    description: |-
                      Any request that matches any of the provided matchers (with either tokens that are expired or missing tokens) will not be redirected to the OIDC Provider.
                      This behavior can be useful for AJAX or machine requests.
                    properties:
                      headers:
                        description: Defines the headers to match against the request
                          to deny redirect to the OIDC Provider.
                        items:
                          description: OIDCDenyRedirectHeader defines how a header
                            is matched
                          properties:
                            name:
                              description: Specifies the name of the header in the
                                request.
                              minLength: 1
                              type: string
                            type:
                              default: Exact
                              description: Type specifies how to match against a string.
                              enum:
                              - Exact
                              - Prefix
                              - Suffix
                              - RegularExpression
                              type: string
                            value:
                              description: Value specifies the string value that the
                                match must have.
                              maxLength: 1024
                              minLength: 1
                              type: string
                          required:
                          - name
                          - value
                          type: object
                        type: array
                    required:
                    - headers
                    type: object
                  forwardAccessToken:
                    description: |-
                      ForwardAccessToken indicates whether the Envoy should forward the access token
                      via the Authorization header Bearer scheme to the upstream.
                      If not specified, defaults to false.
                    type: boolean
                  logoutPath:
                    description: |-
                      The path to log a user out, clearing their credential cookies.

                      If not specified, uses a default logout path "/logout"
                    type: string
                  passThroughAuthHeader:
                    description: |-
                      Skips OIDC authentication when the request contains a header that will be extracted by the JWT filter. Unless
                      explicitly stated otherwise in the extractFrom field, this will be the "Authorization: Bearer ..." header.

                      The passThroughAuthHeader option is typically used for non-browser clients that may not be able to handle OIDC
                      redirects and wish to directly supply a token instead.

                      If not specified, defaults to false.
                    type: boolean
                  provider:
                    description: The OIDC Provider configuration.
                    properties:
                      authorizationEndpoint:
                        description: |-
                          The OIDC Provider's [authorization endpoint](https://openid.net/specs/openid-connect-core-1_0.html#AuthorizationEndpoint).
                          If not provided, EG will try to discover it from the provider's [Well-Known Configuration Endpoint](https://openid.net/specs/openid-connect-discovery-1_0.html#ProviderConfigurationResponse).
                        type: string
                      backendRef:
                        description: |-
                          BackendRef references a Kubernetes object that represents the
                          backend server to which the authorization request will be sent.

                          Deprecated: Use BackendRefs instead.
                        properties:
                          group:
                            default: ""
                            description: |-
                              Group is the group of the referent. For example, "gateway.networking.k8s.io".
                              When unspecified or empty string, core API group is inferred.
                            maxLength: 253
                            pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                            type: string
                          kind:
                            default: Service
                            description: |-
                              Kind is the Kubernetes resource kind of the referent. For example
                              "Service".

                              Defaults to "Service" when not specified.

                              ExternalName services can refer to CNAME DNS records that may live
                              outside of the cluster and as such are difficult to reason about in
                              terms of conformance. They also may not be safe to forward to (see
                              CVE-2021-25740 for more information). Implementations SHOULD NOT
                              support ExternalName Services.

                              Support: Core (Services with a type other than ExternalName)

                              Support: Implementation-specific (Services with type ExternalName)
                            maxLength: 63
                            minLength: 1
                            pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                            type: string
                          name:
                            description: Name is the name of the referent.
                            maxLength: 253
                            minLength: 1
                            type: string
                          namespace:
                            description: |-
                              Namespace is the namespace of the backend. When unspecified, the local
                              namespace is inferred.

                              Note that when a namespace different than the local namespace is specified,
                              a ReferenceGrant object is required in the referent namespace to allow that
                              namespace's owner to accept the reference. See the ReferenceGrant
                              documentation for details.

                              Support: Core
                            maxLength: 63
                            minLength: 1
                            pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                            type: string
                          port:
                            description: |-
                              Port specifies the destination port number to use for this resource.
                              Port is required when the referent is a Kubernetes Service. In this
                              case, the port number is the service port number, not the target port.
                              For other resources, destination port might be derived from the referent
                              resource or this field.
                            format: int32
                            maximum: 65535
                            minimum: 1
                            type: integer
                        required:
                        - name
                        type: object
                        x-kubernetes-validations:
                        - message: Must have port for Service reference
                          rule: '(size(self.group) == 0 && self.kind == ''Service'')
                            ? has(self.port) : true'
                      backendRefs:
                        description: |-
                          BackendRefs references a Kubernetes object that represents the
                          backend server to which the authorization request will be sent.
                        items:
                          description: BackendRef defines how an ObjectReference that
                            is specific to BackendRef.
                          properties:
                            fallback:
                              description: |-
                                Fallback indicates whether the backend is designated as a fallback.
                                Multiple fallback backends can be configured.
                                It is highly recommended to configure active or passive health checks to ensure that failover can be detected
                                when the active backends become unhealthy and to automatically readjust once the primary backends are healthy again.
                                The overprovisioning factor is set to 1.4, meaning the fallback backends will only start receiving traffic when
                                the health of the active backends falls below 72%.
                              type: boolean
                            group:
                              default: ""
                              description: |-
                                Group is the group of the referent. For example, "gateway.networking.k8s.io".
                                When unspecified or empty string, core API group is inferred.
                              maxLength: 253
                              pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                              type: string
                            kind:
                              default: Service
                              description: |-
                                Kind is the Kubernetes resource kind of the referent. For example
                                "Service".

                                Defaults to "Service" when not specified.

                                ExternalName services can refer to CNAME DNS records that may live
                                outside of the cluster and as such are difficult to reason about in
                                terms of conformance. They also may not be safe to forward to (see
                                CVE-2021-25740 for more information). Implementations SHOULD NOT
                                support ExternalName Services.

                                Support: Core (Services with a type other than ExternalName)

                                Support: Implementation-specific (Services with type ExternalName)
                              maxLength: 63
                              minLength: 1
                              pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                              type: string
                            name:
                              description: Name is the name of the referent.
                              maxLength: 253
                              minLength: 1
                              type: string
                            namespace:
                              description: |-
                                Namespace is the namespace of the backend. When unspecified, the local
                                namespace is inferred.

                                Note that when a namespace different than the local namespace is specified,
                                a ReferenceGrant object is required in the referent namespace to allow that
                                namespace's owner to accept the reference. See the ReferenceGrant
                                documentation for details.

                                Support: Core
                              maxLength: 63
                              minLength: 1
                              pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                              type: string
                            port:
                              description: |-
                                Port specifies the destination port number to use for this resource.
                                Port is required when the referent is a Kubernetes Service. In this
                                case, the port number is the service port number, not the target port.
                                For other resources, destination port might be derived from the referent
                                resource or this field.
                              format: int32
                              maximum: 65535
                              minimum: 1
                              type: integer
                          required:
                          - name
                          type: object
                          x-kubernetes-validations:
                          - message: Must have port for Service reference
                            rule: '(size(self.group) == 0 && self.kind == ''Service'')
                              ? has(self.port) : true'
                        maxItems: 16
                        type: array
                      backendSettings:
                        description: |-
                          BackendSettings holds configuration for managing the connection
                          to the backend.
                        properties:
                          circuitBreaker:
                            description: |-
                              Circuit Breaker settings for the upstream connections and requests.
                              If not set, circuit breakers will be enabled with the default thresholds
                            properties:
                              maxConnections:
                                default: 1024
                                description: The maximum number of connections that
                                  Envoy will establish to the referenced backend defined
                                  within a xRoute rule.
                                format: int64
                                maximum: 4294967295
                                minimum: 0
                                type: integer
                              maxParallelRequests:
                                default: 1024
                                description: The maximum number of parallel requests
                                  that Envoy will make to the referenced backend defined
                                  within a xRoute rule.
                                format: int64
                                maximum: 4294967295
                                minimum: 0
                                type: integer
                              maxParallelRetries:
                                default: 1024
                                description: The maximum number of parallel retries
                                  that Envoy will make to the referenced backend defined
                                  within a xRoute rule.
                                format: int64
                                maximum: 4294967295
                                minimum: 0
                                type: integer
                              maxPendingRequests:
                                default: 1024
                                description: The maximum number of pending requests
                                  that Envoy will queue to the referenced backend
                                  defined within a xRoute rule.
                                format: int64
                                maximum: 4294967295
                                minimum: 0
                                type: integer
                              maxRequestsPerConnection:
                                description: |-
                                  The maximum number of requests that Envoy will make over a single connection to the referenced backend defined within a xRoute rule.
                                  Default: unlimited.
                                format: int64
                                maximum: 4294967295
                                minimum: 0
                                type: integer
                              perEndpoint:
                                description: PerEndpoint defines Circuit Breakers
                                  that will apply per-endpoint for an upstream cluster
                                properties:
                                  maxConnections:
                                    default: 1024
                                    description: MaxConnections configures the maximum
                                      number of connections that Envoy will establish
                                      per-endpoint to the referenced backend defined
                                      within a xRoute rule.
                                    format: int64
                                    maximum: 4294967295
                                    minimum: 0
                                    type: integer
                                type: object
                            type: object
                          connection:
                            description: Connection includes backend connection settings.
                            properties:
                              bufferLimit:
                                allOf:
                                - pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                - pattern: ^[1-9]+[0-9]*([EPTGMK]i|[EPTGMk])?$
                                anyOf:
                                - type: integer
                                - type: string
                                description: |-
                                  BufferLimit Soft limit on size of the cluster’s connections read and write buffers.
                                  BufferLimit applies to connection streaming (maybe non-streaming) channel between processes, it's in user space.
                                  If unspecified, an implementation defined default is applied (32768 bytes).
                                  For example, 20Mi, 1Gi, 256Ki etc.
                                  Note: that when the suffix is not provided, the value is interpreted as bytes.
                                x-kubernetes-int-or-string: true
                              socketBufferLimit:
                                allOf:
                                - pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                - pattern: ^[1-9]+[0-9]*([EPTGMK]i|[EPTGMk])?$
                                anyOf:
                                - type: integer
                                - type: string
                                description: |-
                                  SocketBufferLimit provides configuration for the maximum buffer size in bytes for each socket
                                  to backend.
                                  SocketBufferLimit applies to socket streaming channel between TCP/IP stacks, it's in kernel space.
                                  For example, 20Mi, 1Gi, 256Ki etc.
                                  Note that when the suffix is not provided, the value is interpreted as bytes.
                                x-kubernetes-int-or-string: true
                            type: object
                          dns:
                            description: DNS includes dns resolution settings.
                            properties:
                              dnsRefreshRate:
                                description: |-
                                  DNSRefreshRate specifies the rate at which DNS records should be refreshed.
                                  Defaults to 30 seconds.
                                type: string
                              lookupFamily:
                                description: |-
                                  LookupFamily determines how Envoy would resolve DNS for Routes where the backend is specified as a fully qualified domain name (FQDN).
                                  If set, this configuration overrides other defaults.
                                enum:
                                - IPv4
                                - IPv6
                                - IPv4Preferred
                                - IPv6Preferred
                                - IPv4AndIPv6
                                type: string
                              respectDnsTtl:
                                description: |-
                                  RespectDNSTTL indicates whether the DNS Time-To-Live (TTL) should be respected.
                                  If the value is set to true, the DNS refresh rate will be set to the resource record’s TTL.
                                  Defaults to true.
                                type: boolean
                            type: object
                          healthCheck:
                            description: HealthCheck allows gateway to perform active
                              health checking on backends.
                            properties:
                              active:
                                description: Active health check configuration
                                properties:
                                  grpc:
                                    description: |-
                                      GRPC defines the configuration of the GRPC health checker.
                                      It's optional, and can only be used if the specified type is GRPC.
                                    properties:
                                      service:
                                        description: |-
                                          Service to send in the health check request.
                                          If this is not specified, then the health check request applies to the entire
                                          server and not to a specific service.
                                        type: string
                                    type: object
                                  healthyThreshold:
                                    default: 1
                                    description: HealthyThreshold defines the number
                                      of healthy health checks required before a backend
                                      host is marked healthy.
                                    format: int32
                                    minimum: 1
                                    type: integer
                                  http:
                                    description: |-
                                      HTTP defines the configuration of http health checker.
                                      It's required while the health checker type is HTTP.
                                    properties:
                                      expectedResponse:
                                        description: ExpectedResponse defines a list
                                          of HTTP expected responses to match.
                                        properties:
                                          binary:
                                            description: Binary payload base64 encoded.
                                            format: byte
                                            type: string
                                          text:
                                            description: Text payload in plain text.
                                            type: string
                                          type:
                                            allOf:
                                            - enum:
                                              - Text
                                              - Binary
                                            - enum:
                                              - Text
                                              - Binary
                                            description: Type defines the type of
                                              the payload.
                                            type: string
                                        required:
                                        - type
                                        type: object
                                        x-kubernetes-validations:
                                        - message: If payload type is Text, text field
                                            needs to be set.
                                          rule: 'self.type == ''Text'' ? has(self.text)
                                            : !has(self.text)'
                                        - message: If payload type is Binary, binary
                                            field needs to be set.
                                          rule: 'self.type == ''Binary'' ? has(self.binary)
                                            : !has(self.binary)'
                                      expectedStatuses:
                                        description: |-
                                          ExpectedStatuses defines a list of HTTP response statuses considered healthy.
                                          Defaults to 200 only
                                        items:
                                          description: HTTPStatus defines the http
                                            status code.
                                          exclusiveMaximum: true
                                          maximum: 600
                                          minimum: 100
                                          type: integer
                                        type: array
                                      method:
                                        description: |-
                                          Method defines the HTTP method used for health checking.
                                          Defaults to GET
                                        type: string
                                      path:
                                        description: Path defines the HTTP path that
                                          will be requested during health checking.
                                        maxLength: 1024
                                        minLength: 1
                                        type: string
                                    required:
                                    - path
                                    type: object
                                  interval:
                                    default: 3s
                                    description: Interval defines the time between
                                      active health checks.
                                    format: duration
                                    type: string
                                  tcp:
                                    description: |-
                                      TCP defines the configuration of tcp health checker.
                                      It's required while the health checker type is TCP.
                                    properties:
                                      receive:
                                        description: Receive defines the expected
                                          response payload.
                                        properties:
                                          binary:
                                            description: Binary payload base64 encoded.
                                            format: byte
                                            type: string
                                          text:
                                            description: Text payload in plain text.
                                            type: string
                                          type:
                                            allOf:
                                            - enum:
                                              - Text
                                              - Binary
                                            - enum:
                                              - Text
                                              - Binary
                                            description: Type defines the type of
                                              the payload.
                                            type: string
                                        required:
                                        - type
                                        type: object
                                        x-kubernetes-validations:
                                        - message: If payload type is Text, text field
                                            needs to be set.
                                          rule: 'self.type == ''Text'' ? has(self.text)
                                            : !has(self.text)'
                                        - message: If payload type is Binary, binary
                                            field needs to be set.
                                          rule: 'self.type == ''Binary'' ? has(self.binary)
                                            : !has(self.binary)'
                                      send:
                                        description: Send defines the request payload.
                                        properties:
                                          binary:
                                            description: Binary payload base64 encoded.
                                            format: byte
                                            type: string
                                          text:
                                            description: Text payload in plain text.
                                            type: string
                                          type:
                                            allOf:
                                            - enum:
                                              - Text
                                              - Binary
                                            - enum:
                                              - Text
                                              - Binary
                                            description: Type defines the type of
                                              the payload.
                                            type: string
                                        required:
                                        - type
                                        type: object
                                        x-kubernetes-validations:
                                        - message: If payload type is Text, text field
                                            needs to be set.
                                          rule: 'self.type == ''Text'' ? has(self.text)
                                            : !has(self.text)'
                                        - message: If payload type is Binary, binary
                                            field needs to be set.
                                          rule: 'self.type == ''Binary'' ? has(self.binary)
                                            : !has(self.binary)'
                                    type: object
                                  timeout:
                                    default: 1s
                                    description: Timeout defines the time to wait
                                      for a health check response.
                                    format: duration
                                    type: string
                                  type:
                                    allOf:
                                    - enum:
                                      - HTTP
                                      - TCP
                                      - GRPC
                                    - enum:
                                      - HTTP
                                      - TCP
                                      - GRPC
                                    description: Type defines the type of health checker.
                                    type: string
                                  unhealthyThreshold:
                                    default: 3
                                    description: UnhealthyThreshold defines the number
                                      of unhealthy health checks required before a
                                      backend host is marked unhealthy.
                                    format: int32
                                    minimum: 1
                                    type: integer
                                required:
                                - type
                                type: object
                                x-kubernetes-validations:
                                - message: If Health Checker type is HTTP, http field
                                    needs to be set.
                                  rule: 'self.type == ''HTTP'' ? has(self.http) :
                                    !has(self.http)'
                                - message: If Health Checker type is TCP, tcp field
                                    needs to be set.
                                  rule: 'self.type == ''TCP'' ? has(self.tcp) : !has(self.tcp)'
                                - message: The grpc field can only be set if the Health
                                    Checker type is GRPC.
                                  rule: 'has(self.grpc) ? self.type == ''GRPC'' :
                                    true'
                              panicThreshold:
                                description: |-
                                  When number of unhealthy endpoints for a backend reaches this threshold
                                  Envoy will disregard health status and balance across all endpoints.
                                  It's designed to prevent a situation in which host failures cascade throughout the cluster
                                  as load increases. If not set, the default value is 50%. To disable panic mode, set value to `0`.
                                format: int32
                                maximum: 100
                                minimum: 0
                                type: integer
                              passive:
                                description: Passive passive check configuration
                                properties:
                                  baseEjectionTime:
                                    default: 30s
                                    description: BaseEjectionTime defines the base
                                      duration for which a host will be ejected on
                                      consecutive failures.
                                    format: duration
                                    type: string
                                  consecutive5XxErrors:
                                    default: 5
                                    description: Consecutive5xxErrors sets the number
                                      of consecutive 5xx errors triggering ejection.
                                    format: int32
                                    type: integer
                                  consecutiveGatewayErrors:
                                    default: 0
                                    description: ConsecutiveGatewayErrors sets the
                                      number of consecutive gateway errors triggering
                                      ejection.
                                    format: int32
                                    type: integer
                                  consecutiveLocalOriginFailures:
                                    default: 5
                                    description: |-
                                      ConsecutiveLocalOriginFailures sets the number of consecutive local origin failures triggering ejection.
                                      Parameter takes effect only when split_external_local_origin_errors is set to true.
                                    format: int32
                                    type: integer
                                  interval:
                                    default: 3s
                                    description: Interval defines the time between
                                      passive health checks.
                                    format: duration
                                    type: string
                                  maxEjectionPercent:
                                    default: 10
                                    description: MaxEjectionPercent sets the maximum
                                      percentage of hosts in a cluster that can be
                                      ejected.
                                    format: int32
                                    type: integer
                                  splitExternalLocalOriginErrors:
                                    default: false
                                    description: SplitExternalLocalOriginErrors enables
                                      splitting of errors between external and local
                                      origin.
                                    type: boolean
                                type: object
                            type: object
                          http2:
                            description: HTTP2 provides HTTP/2 configuration for backend
                              connections.
                            properties:
                              initialConnectionWindowSize:
                                allOf:
                                - pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                - pattern: ^[1-9]+[0-9]*([EPTGMK]i|[EPTGMk])?$
                                anyOf:
                                - type: integer
                                - type: string
                                description: |-
                                  InitialConnectionWindowSize sets the initial window size for HTTP/2 connections.
                                  If not set, the default value is 1 MiB.
                                x-kubernetes-int-or-string: true
                              initialStreamWindowSize:
                                allOf:
                                - pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                - pattern: ^[1-9]+[0-9]*([EPTGMK]i|[EPTGMk])?$
                                anyOf:
                                - type: integer
                                - type: string
                                description: |-
                                  InitialStreamWindowSize sets the initial window size for HTTP/2 streams.
                                  If not set, the default value is 64 KiB(64*1024).
                                x-kubernetes-int-or-string: true
                              maxConcurrentStreams:
                                description: |-
                                  MaxConcurrentStreams sets the maximum number of concurrent streams allowed per connection.
                                  If not set, the default value is 100.
                                format: int32
                                maximum: 2147483647
                                minimum: 1
                                type: integer
                              onInvalidMessage:
                                description: |-
                                  OnInvalidMessage determines if Envoy will terminate the connection or just the offending stream in the event of HTTP messaging error
                                  It's recommended for L2 Envoy deployments to set this value to TerminateStream.
                                  https://www.envoyproxy.io/docs/envoy/latest/configuration/best_practices/level_two
                                  Default: TerminateConnection
                                type: string
                            type: object
                          loadBalancer:
                            description: |-
                              LoadBalancer policy to apply when routing traffic from the gateway to
                              the backend endpoints. Defaults to `LeastRequest`.
                            properties:
                              consistentHash:
                                description: |-
                                  ConsistentHash defines the configuration when the load balancer type is
                                  set to ConsistentHash
                                properties:
                                  cookie:
                                    description: Cookie configures the cookie hash
                                      policy when the consistent hash type is set
                                      to Cookie.
                                    properties:
                                      attributes:
                                        additionalProperties:
                                          type: string
                                        description: Additional Attributes to set
                                          for the generated cookie.
                                        type: object
                                      name:
                                        description: |-
                                          Name of the cookie to hash.
                                          If this cookie does not exist in the request, Envoy will generate a cookie and set
                                          the TTL on the response back to the client based on Layer 4
                                          attributes of the backend endpoint, to ensure that these future requests
                                          go to the same backend endpoint. Make sure to set the TTL field for this case.
                                        type: string
                                      ttl:
                                        description: |-
                                          TTL of the generated cookie if the cookie is not present. This value sets the
                                          Max-Age attribute value.
                                        type: string
                                    required:
                                    - name
                                    type: object
                                  header:
                                    description: Header configures the header hash
                                      policy when the consistent hash type is set
                                      to Header.
                                    properties:
                                      name:
                                        description: Name of the header to hash.
                                        type: string
                                    required:
                                    - name
                                    type: object
                                  tableSize:
                                    default: 65537
                                    description: The table size for consistent hashing,
                                      must be prime number limited to 5000011.
                                    format: int64
                                    maximum: 5000011
                                    minimum: 2
                                    type: integer
                                  type:
                                    description: |-
                                      ConsistentHashType defines the type of input to hash on. Valid Type values are
                                      "SourceIP",
                                      "Header",
                                      "Cookie".
                                    enum:
                                    - SourceIP
                                    - Header
                                    - Cookie
                                    type: string
                                required:
                                - type
                                type: object
                                x-kubernetes-validations:
                                - message: If consistent hash type is header, the
                                    header field must be set.
                                  rule: 'self.type == ''Header'' ? has(self.header)
                                    : !has(self.header)'
                                - message: If consistent hash type is cookie, the
                                    cookie field must be set.
                                  rule: 'self.type == ''Cookie'' ? has(self.cookie)
                                    : !has(self.cookie)'
                              slowStart:
                                description: |-
                                  SlowStart defines the configuration related to the slow start load balancer policy.
                                  If set, during slow start window, traffic sent to the newly added hosts will gradually increase.
                                  Currently this is only supported for RoundRobin and LeastRequest load balancers
                                properties:
                                  window:
                                    description: |-
                                      Window defines the duration of the warm up period for newly added host.
                                      During slow start window, traffic sent to the newly added hosts will gradually increase.
                                      Currently only supports linear growth of traffic. For additional details,
                                      see https://www.envoyproxy.io/docs/envoy/latest/api-v3/config/cluster/v3/cluster.proto#config-cluster-v3-cluster-slowstartconfig
                                    type: string
                                required:
                                - window
                                type: object
                              type:
                                description: |-
                                  Type decides the type of Load Balancer policy.
                                  Valid LoadBalancerType values are
                                  "ConsistentHash",
                                  "LeastRequest",
                                  "Random",
                                  "RoundRobin".
                                enum:
                                - ConsistentHash
                                - LeastRequest
                                - Random
                                - RoundRobin
                                type: string
                            required:
                            - type
                            type: object
                            x-kubernetes-validations:
                            - message: If LoadBalancer type is consistentHash, consistentHash
                                field needs to be set.
                              rule: 'self.type == ''ConsistentHash'' ? has(self.consistentHash)
                                : !has(self.consistentHash)'
                            - message: Currently SlowStart is only supported for RoundRobin
                                and LeastRequest load balancers.
                              rule: 'self.type in [''Random'', ''ConsistentHash'']
                                ? !has(self.slowStart) : true '
                          proxyProtocol:
                            description: ProxyProtocol enables the Proxy Protocol
                              when communicating with the backend.
                            properties:
                              version:
                                description: |-
                                  Version of ProxyProtol
                                  Valid ProxyProtocolVersion values are
                                  "V1"
                                  "V2"
                                enum:
                                - V1
                                - V2
                                type: string
                            required:
                            - version
                            type: object
                          retry:
                            description: |-
                              Retry provides more advanced usage, allowing users to customize the number of retries, retry fallback strategy, and retry triggering conditions.
                              If not set, retry will be disabled.
                            properties:
                              numRetries:
                                default: 2
                                description: NumRetries is the number of retries to
                                  be attempted. Defaults to 2.
                                format: int32
                                minimum: 0
                                type: integer
                              perRetry:
                                description: PerRetry is the retry policy to be applied
                                  per retry attempt.
                                properties:
                                  backOff:
                                    description: |-
                                      Backoff is the backoff policy to be applied per retry attempt. gateway uses a fully jittered exponential
                                      back-off algorithm for retries. For additional details,
                                      see https://www.envoyproxy.io/docs/envoy/latest/configuration/http/http_filters/router_filter#config-http-filters-router-x-envoy-max-retries
                                    properties:
                                      baseInterval:
                                        description: BaseInterval is the base interval
                                          between retries.
                                        format: duration
                                        type: string
                                      maxInterval:
                                        description: |-
                                          MaxInterval is the maximum interval between retries. This parameter is optional, but must be greater than or equal to the base_interval if set.
                                          The default is 10 times the base_interval
                                        format: duration
                                        type: string
                                    type: object
                                  timeout:
                                    description: Timeout is the timeout per retry
                                      attempt.
                                    format: duration
                                    type: string
                                type: object
                              retryOn:
                                description: |-
                                  RetryOn specifies the retry trigger condition.

                                  If not specified, the default is to retry on connect-failure,refused-stream,unavailable,cancelled,retriable-status-codes(503).
                                properties:
                                  httpStatusCodes:
                                    description: |-
                                      HttpStatusCodes specifies the http status codes to be retried.
                                      The retriable-status-codes trigger must also be configured for these status codes to trigger a retry.
                                    items:
                                      description: HTTPStatus defines the http status
                                        code.
                                      exclusiveMaximum: true
                                      maximum: 600
                                      minimum: 100
                                      type: integer
                                    type: array
                                  triggers:
                                    description: Triggers specifies the retry trigger
                                      condition(Http/Grpc).
                                    items:
                                      description: TriggerEnum specifies the conditions
                                        that trigger retries.
                                      enum:
                                      - 5xx
                                      - gateway-error
                                      - reset
                                      - connect-failure
                                      - retriable-4xx
                                      - refused-stream
                                      - retriable-status-codes
                                      - cancelled
                                      - deadline-exceeded
                                      - internal
                                      - resource-exhausted
                                      - unavailable
                                      type: string
                                    type: array
                                type: object
                            type: object
                          tcpKeepalive:
                            description: |-
                              TcpKeepalive settings associated with the upstream client connection.
                              Disabled by default.
                            properties:
                              idleTime:
                                description: |-
                                  The duration a connection needs to be idle before keep-alive
                                  probes start being sent.
                                  The duration format is
                                  Defaults to `7200s`.
                                pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                                type: string
                              interval:
                                description: |-
                                  The duration between keep-alive probes.
                                  Defaults to `75s`.
                                pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                                type: string
                              probes:
                                description: |-
                                  The total number of unacknowledged probes to send before deciding
                                  the connection is dead.
                                  Defaults to 9.
                                format: int32
                                type: integer
                            type: object
                          timeout:
                            description: Timeout settings for the backend connections.
                            properties:
                              http:
                                description: Timeout settings for HTTP.
                                properties:
                                  connectionIdleTimeout:
                                    description: |-
                                      The idle timeout for an HTTP connection. Idle time is defined as a period in which there are no active requests in the connection.
                                      Default: 1 hour.
                                    pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                                    type: string
                                  maxConnectionDuration:
                                    description: |-
                                      The maximum duration of an HTTP connection.
                                      Default: unlimited.
                                    pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                                    type: string
                                  requestTimeout:
                                    description: RequestTimeout is the time until
                                      which entire response is received from the upstream.
                                    pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                                    type: string
                                type: object
                              tcp:
                                description: Timeout settings for TCP.
                                properties:
                                  connectTimeout:
                                    description: |-
                                      The timeout for network connection establishment, including TCP and TLS handshakes.
                                      Default: 10 seconds.
                                    pattern: ^([0-9]{1,5}(h|m|s|ms)){1,4}$
                                    type: string
                                type: object
                            type: object
                        type: object
                      issuer:
                        description: |-
                          The OIDC Provider's [issuer identifier](https://openid.net/specs/openid-connect-discovery-1_0.html#IssuerDiscovery).
                          Issuer MUST be a URI RFC 3986 [RFC3986] with a scheme component that MUST
                          be https, a host component, and optionally, port and path components and
                          no query or fragment components.
                        minLength: 1
                        type: string
                      tokenEndpoint:
                        description: |-
                          The OIDC Provider's [token endpoint](https://openid.net/specs/openid-connect-core-1_0.html#TokenEndpoint).
                          If not provided, EG will try to discover it from the provider's [Well-Known Configuration Endpoint](https://openid.net/specs/openid-connect-discovery-1_0.html#ProviderConfigurationResponse).
                        type: string
                    required:
                    - issuer
                    type: object
                    x-kubernetes-validations:
                    - message: BackendRefs must be used, backendRef is not supported.
                      rule: '!has(self.backendRef)'
                    - message: Retry timeout is not supported.
                      rule: has(self.backendSettings)? (has(self.backendSettings.retry)?(has(self.backendSettings.retry.perRetry)?
                        !has(self.backendSettings.retry.perRetry.timeout):true):true):true
                    - message: HTTPStatusCodes is not supported.
                      rule: has(self.backendSettings)? (has(self.backendSettings.retry)?(has(self.backendSettings.retry.retryOn)?
                        !has(self.backendSettings.retry.retryOn.httpStatusCodes):true):true):true
                  redirectURL:
                    description: |-
                      The redirect URL to be used in the OIDC
                      [Authentication Request](https://openid.net/specs/openid-connect-core-1_0.html#AuthRequest).
                      If not specified, uses the default redirect URI "%REQ(x-forwarded-proto)%://%REQ(:authority)%/oauth2/callback"
                    type: string
                  refreshToken:
                    description: |-
                      RefreshToken indicates whether the Envoy should automatically refresh the
                      id token and access token when they expire.
                      When set to true, the Envoy will use the refresh token to get a new id token
                      and access token when they expire.

                      If not specified, defaults to false.
                    type: boolean
                  resources:
                    description: |-
                      The OIDC resources to be used in the
                      [Authentication Request](https://openid.net/specs/openid-connect-core-1_0.html#AuthRequest).
                    items:
                      type: string
                    type: array
                  scopes:
                    description: |-
                      The OIDC scopes to be used in the
                      [Authentication Request](https://openid.net/specs/openid-connect-core-1_0.html#AuthRequest).
                      The "openid" scope is always added to the list of scopes if not already
                      specified.
                    items:
                      type: string
                    type: array
                required:
                - clientID
                - clientSecret
                - provider
                type: object
              targetRef:
                description: |-
                  TargetRef is the name of the resource this policy is being attached to.
                  This policy and the TargetRef MUST be in the same namespace for this
                  Policy to have effect

                  Deprecated: use targetRefs/targetSelectors instead
                properties:
                  group:
                    description: Group is the group of the target resource.
                    maxLength: 253
                    pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                    type: string
                  kind:
                    description: Kind is kind of the target resource.
                    maxLength: 63
                    minLength: 1
                    pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                    type: string
                  name:
                    description: Name is the name of the target resource.
                    maxLength: 253
                    minLength: 1
                    type: string
                  sectionName:
                    description: |-
                      SectionName is the name of a section within the target resource. When
                      unspecified, this targetRef targets the entire resource. In the following
                      resources, SectionName is interpreted as the following:

                      * Gateway: Listener name
                      * HTTPRoute: HTTPRouteRule name
                      * Service: Port name

                      If a SectionName is specified, but does not exist on the targeted object,
                      the Policy must fail to attach, and the policy implementation should record
                      a `ResolvedRefs` or similar Condition in the Policy's status.
                    maxLength: 253
                    minLength: 1
                    pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                    type: string
                required:
                - group
                - kind
                - name
                type: object
              targetRefs:
                description: |-
                  TargetRefs are the names of the Gateway resources this policy
                  is being attached to.
                items:
                  description: |-
                    LocalPolicyTargetReferenceWithSectionName identifies an API object to apply a
                    direct policy to. This should be used as part of Policy resources that can
                    target single resources. For more information on how this policy attachment
                    mode works, and a sample Policy resource, refer to the policy attachment
                    documentation for Gateway API.

                    Note: This should only be used for direct policy attachment when references
                    to SectionName are actually needed. In all other cases,
                    LocalPolicyTargetReference should be used.
                  properties:
                    group:
                      description: Group is the group of the target resource.
                      maxLength: 253
                      pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                      type: string
                    kind:
                      description: Kind is kind of the target resource.
                      maxLength: 63
                      minLength: 1
                      pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                      type: string
                    name:
                      description: Name is the name of the target resource.
                      maxLength: 253
                      minLength: 1
                      type: string
                    sectionName:
                      description: |-
                        SectionName is the name of a section within the target resource. When
                        unspecified, this targetRef targets the entire resource. In the following
                        resources, SectionName is interpreted as the following:

                        * Gateway: Listener name
                        * HTTPRoute: HTTPRouteRule name
                        * Service: Port name

                        If a SectionName is specified, but does not exist on the targeted object,
                        the Policy must fail to attach, and the policy implementation should record
                        a `ResolvedRefs` or similar Condition in the Policy's status.
                      maxLength: 253
                      minLength: 1
                      pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                      type: string
                  required:
                  - group
                  - kind
                  - name
                  type: object
                type: array
              targetSelectors:
                description: TargetSelectors allow targeting resources for this policy
                  based on labels
                items:
                  properties:
                    group:
                      default: gateway.networking.k8s.io
                      description: Group is the group that this selector targets.
                        Defaults to gateway.networking.k8s.io
                      maxLength: 253
                      pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                      type: string
                    kind:
                      description: Kind is the resource kind that this selector targets.
                      maxLength: 63
                      minLength: 1
                      pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                      type: string
                    matchExpressions:
                      description: MatchExpressions is a list of label selector requirements.
                        The requirements are ANDed.
                      items:
                        description: |-
                          A label selector requirement is a selector that contains values, a key, and an operator that
                          relates the key and values.
                        properties:
                          key:
                            description: key is the label key that the selector applies
                              to.
                            type: string
                          operator:
                            description: |-
                              operator represents a key's relationship to a set of values.
                              Valid operators are In, NotIn, Exists and DoesNotExist.
                            type: string
                          values:
                            description: |-
                              values is an array of string values. If the operator is In or NotIn,
                              the values array must be non-empty. If the operator is Exists or DoesNotExist,
                              the values array must be empty. This array is replaced during a strategic
                              merge patch.
                            items:
                              type: string
                            type: array
                            x-kubernetes-list-type: atomic
                        required:
                        - key
                        - operator
                        type: object
                      type: array
                      x-kubernetes-list-type: atomic
                    matchLabels:
                      additionalProperties:
                        type: string
                      description: MatchLabels are the set of label selectors for
                        identifying the targeted resource
                      type: object
                  required:
                  - kind
                  type: object
                  x-kubernetes-validations:
                  - message: group must be gateway.networking.k8s.io
                    rule: 'has(self.group) ? self.group == ''gateway.networking.k8s.io''
                      : true '
                type: array
            type: object
            x-kubernetes-validations:
            - message: either targetRef or targetRefs must be used
              rule: '(has(self.targetRef) && !has(self.targetRefs)) || (!has(self.targetRef)
                && has(self.targetRefs)) || (has(self.targetSelectors) && self.targetSelectors.size()
                > 0) '
            - message: this policy can only have a targetRef.group of gateway.networking.k8s.io
              rule: 'has(self.targetRef) ? self.targetRef.group == ''gateway.networking.k8s.io''
                : true'
            - message: this policy can only have a targetRef.kind of Gateway/HTTPRoute/GRPCRoute
              rule: 'has(self.targetRef) ? self.targetRef.kind in [''Gateway'', ''HTTPRoute'',
                ''GRPCRoute''] : true'
            - message: this policy does not yet support the sectionName field
              rule: 'has(self.targetRef) ? !has(self.targetRef.sectionName) : true'
            - message: this policy can only have a targetRefs[*].group of gateway.networking.k8s.io
              rule: 'has(self.targetRefs) ? self.targetRefs.all(ref, ref.group ==
                ''gateway.networking.k8s.io'') : true '
            - message: this policy can only have a targetRefs[*].kind of Gateway/HTTPRoute/GRPCRoute
              rule: 'has(self.targetRefs) ? self.targetRefs.all(ref, ref.kind in [''Gateway'',
                ''HTTPRoute'', ''GRPCRoute'']) : true '
            - message: this policy does not yet support the sectionName field
              rule: 'has(self.targetRefs) ? self.targetRefs.all(ref, !has(ref.sectionName))
                : true'
            - message: if authorization.rules.principal.jwt is used, jwt must be defined
              rule: '(has(self.authorization) && has(self.authorization.rules) &&
                self.authorization.rules.exists(r, has(r.principal.jwt))) ? has(self.jwt)
                : true'
          status:
            description: Status defines the current status of SecurityPolicy.
            properties:
              ancestors:
                description: |-
                  Ancestors is a list of ancestor resources (usually Gateways) that are
                  associated with the policy, and the status of the policy with respect to
                  each ancestor. When this policy attaches to a parent, the controller that
                  manages the parent and the ancestors MUST add an entry to this list when
                  the controller first sees the policy and SHOULD update the entry as
                  appropriate when the relevant ancestor is modified.

                  Note that choosing the relevant ancestor is left to the Policy designers;
                  an important part of Policy design is designing the right object level at
                  which to namespace this status.

                  Note also that implementations MUST ONLY populate ancestor status for
                  the Ancestor resources they are responsible for. Implementations MUST
                  use the ControllerName field to uniquely identify the entries in this list
                  that they are responsible for.

                  Note that to achieve this, the list of PolicyAncestorStatus structs
                  MUST be treated as a map with a composite key, made up of the AncestorRef
                  and ControllerName fields combined.

                  A maximum of 16 ancestors will be represented in this list. An empty list
                  means the Policy is not relevant for any ancestors.

                  If this slice is full, implementations MUST NOT add further entries.
                  Instead they MUST consider the policy unimplementable and signal that
                  on any related resources such as the ancestor that would be referenced
                  here. For example, if this list was full on BackendTLSPolicy, no
                  additional Gateways would be able to reference the Service targeted by
                  the BackendTLSPolicy.
                items:
                  description: |-
                    PolicyAncestorStatus describes the status of a route with respect to an
                    associated Ancestor.

                    Ancestors refer to objects that are either the Target of a policy or above it
                    in terms of object hierarchy. For example, if a policy targets a Service, the
                    Policy's Ancestors are, in order, the Service, the HTTPRoute, the Gateway, and
                    the GatewayClass. Almost always, in this hierarchy, the Gateway will be the most
                    useful object to place Policy status on, so we recommend that implementations
                    SHOULD use Gateway as the PolicyAncestorStatus object unless the designers
                    have a _very_ good reason otherwise.

                    In the context of policy attachment, the Ancestor is used to distinguish which
                    resource results in a distinct application of this policy. For example, if a policy
                    targets a Service, it may have a distinct result per attached Gateway.

                    Policies targeting the same resource may have different effects depending on the
                    ancestors of those resources. For example, different Gateways targeting the same
                    Service may have different capabilities, especially if they have different underlying
                    implementations.

                    For example, in BackendTLSPolicy, the Policy attaches to a Service that is
                    used as a backend in a HTTPRoute that is itself attached to a Gateway.
                    In this case, the relevant object for status is the Gateway, and that is the
                    ancestor object referred to in this status.

                    Note that a parent is also an ancestor, so for objects where the parent is the
                    relevant object for status, this struct SHOULD still be used.

                    This struct is intended to be used in a slice that's effectively a map,
                    with a composite key made up of the AncestorRef and the ControllerName.
                  properties:
                    ancestorRef:
                      description: |-
                        AncestorRef corresponds with a ParentRef in the spec that this
                        PolicyAncestorStatus struct describes the status of.
                      properties:
                        group:
                          default: gateway.networking.k8s.io
                          description: |-
                            Group is the group of the referent.
                            When unspecified, "gateway.networking.k8s.io" is inferred.
                            To set the core API group (such as for a "Service" kind referent),
                            Group must be explicitly set to "" (empty string).

                            Support: Core
                          maxLength: 253
                          pattern: ^$|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                          type: string
                        kind:
                          default: Gateway
                          description: |-
                            Kind is kind of the referent.

                            There are two kinds of parent resources with "Core" support:

                            * Gateway (Gateway conformance profile)
                            * Service (Mesh conformance profile, ClusterIP Services only)

                            Support for other resources is Implementation-Specific.
                          maxLength: 63
                          minLength: 1
                          pattern: ^[a-zA-Z]([-a-zA-Z0-9]*[a-zA-Z0-9])?$
                          type: string
                        name:
                          description: |-
                            Name is the name of the referent.

                            Support: Core
                          maxLength: 253
                          minLength: 1
                          type: string
                        namespace:
                          description: |-
                            Namespace is the namespace of the referent. When unspecified, this refers
                            to the local namespace of the Route.

                            Note that there are specific rules for ParentRefs which cross namespace
                            boundaries. Cross-namespace references are only valid if they are explicitly
                            allowed by something in the namespace they are referring to. For example:
                            Gateway has the AllowedRoutes field, and ReferenceGrant provides a
                            generic way to enable any other kind of cross-namespace reference.

                            <gateway:experimental:description>
                            ParentRefs from a Route to a Service in the same namespace are "producer"
                            routes, which apply default routing rules to inbound connections from
                            any namespace to the Service.

                            ParentRefs from a Route to a Service in a different namespace are
                            "consumer" routes, and these routing rules are only applied to outbound
                            connections originating from the same namespace as the Route, for which
                            the intended destination of the connections are a Service targeted as a
                            ParentRef of the Route.
                            </gateway:experimental:description>

                            Support: Core
                          maxLength: 63
                          minLength: 1
                          pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                          type: string
                        port:
                          description: |-
                            Port is the network port this Route targets. It can be interpreted
                            differently based on the type of parent resource.

                            When the parent resource is a Gateway, this targets all listeners
                            listening on the specified port that also support this kind of Route(and
                            select this Route). It's not recommended to set `Port` unless the
                            networking behaviors specified in a Route must apply to a specific port
                            as opposed to a listener(s) whose port(s) may be changed. When both Port
                            and SectionName are specified, the name and port of the selected listener
                            must match both specified values.

                            <gateway:experimental:description>
                            When the parent resource is a Service, this targets a specific port in the
                            Service spec. When both Port (experimental) and SectionName are specified,
                            the name and port of the selected port must match both specified values.
                            </gateway:experimental:description>

                            Implementations MAY choose to support other parent resources.
                            Implementations supporting other types of parent resources MUST clearly
                            document how/if Port is interpreted.

                            For the purpose of status, an attachment is considered successful as
                            long as the parent resource accepts it partially. For example, Gateway
                            listeners can restrict which Routes can attach to them by Route kind,
                            namespace, or hostname. If 1 of 2 Gateway listeners accept attachment
                            from the referencing Route, the Route MUST be considered successfully
                            attached. If no Gateway listeners accept attachment from this Route,
                            the Route MUST be considered detached from the Gateway.

                            Support: Extended
                          format: int32
                          maximum: 65535
                          minimum: 1
                          type: integer
                        sectionName:
                          description: |-
                            SectionName is the name of a section within the target resource. In the
                            following resources, SectionName is interpreted as the following:

                            * Gateway: Listener name. When both Port (experimental) and SectionName
                            are specified, the name and port of the selected listener must match
                            both specified values.
                            * Service: Port name. When both Port (experimental) and SectionName
                            are specified, the name and port of the selected listener must match
                            both specified values.

                            Implementations MAY choose to support attaching Routes to other resources.
                            If that is the case, they MUST clearly document how SectionName is
                            interpreted.

                            When unspecified (empty string), this will reference the entire resource.
                            For the purpose of status, an attachment is considered successful if at
                            least one section in the parent resource accepts it. For example, Gateway
                            listeners can restrict which Routes can attach to them by Route kind,
                            namespace, or hostname. If 1 of 2 Gateway listeners accept attachment from
                            the referencing Route, the Route MUST be considered successfully
                            attached. If no Gateway listeners accept attachment from this Route, the
                            Route MUST be considered detached from the Gateway.

                            Support: Core
                          maxLength: 253
                          minLength: 1
                          pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                          type: string
                      required:
                      - name
                      type: object
                    conditions:
                      description: Conditions describes the status of the Policy with
                        respect to the given Ancestor.
                      items:
                        description: Condition contains details for one aspect of
                          the current state of this API Resource.
                        properties:
                          lastTransitionTime:
                            description: |-
                              lastTransitionTime is the last time the condition transitioned from one status to another.
                              This should be when the underlying condition changed.  If that is not known, then using the time when the API field changed is acceptable.
                            format: date-time
                            type: string
                          message:
                            description: |-
                              message is a human readable message indicating details about the transition.
                              This may be an empty string.
                            maxLength: 32768
                            type: string
                          observedGeneration:
                            description: |-
                              observedGeneration represents the .metadata.generation that the condition was set based upon.
                              For instance, if .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration is 9, the condition is out of date
                              with respect to the current state of the instance.
                            format: int64
                            minimum: 0
                            type: integer
                          reason:
                            description: |-
                              reason contains a programmatic identifier indicating the reason for the condition's last transition.
                              Producers of specific condition types may define expected values and meanings for this field,
                              and whether the values are considered a guaranteed API.
                              The value should be a CamelCase string.
                              This field may not be empty.
                            maxLength: 1024
                            minLength: 1
                            pattern: ^[A-Za-z]([A-Za-z0-9_,:]*[A-Za-z0-9_])?$
                            type: string
                          status:
                            description: status of the condition, one of True, False,
                              Unknown.
                            enum:
                            - "True"
                            - "False"
                            - Unknown
                            type: string
                          type:
                            description: type of condition in CamelCase or in foo.example.com/CamelCase.
                            maxLength: 316
                            pattern: ^([a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*/)?(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])$
                            type: string
                        required:
                        - lastTransitionTime
                        - message
                        - reason
                        - status
                        - type
                        type: object
                      maxItems: 8
                      minItems: 1
                      type: array
                      x-kubernetes-list-map-keys:
                      - type
                      x-kubernetes-list-type: map
                    controllerName:
                      description: |-
                        ControllerName is a domain/path string that indicates the name of the
                        controller that wrote this status. This corresponds with the
                        controllerName field on GatewayClass.

                        Example: "example.net/gateway-controller".

                        The format of this field is DOMAIN "/" PATH, where DOMAIN and PATH are
                        valid Kubernetes names
                        (https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names).

                        Controllers MUST populate this field when writing status. Controllers should ensure that
                        entries to status populated with their ControllerName are cleaned up when they are no
                        longer necessary.
                      maxLength: 253
                      minLength: 1
                      pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*\/[A-Za-z0-9\/\-._~%!$&'()*+,;=:]+$
                      type: string
                  required:
                  - ancestorRef
                  - controllerName
                  type: object
                maxItems: 16
                type: array
            required:
            - ancestors
            type: object
        required:
        - spec
        type: object
    served: true
    storage: true
    subresources:
      status: {}
