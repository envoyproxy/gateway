deployment:
  envoyGateway:
    imagePullSecret: artifactory-reader
    image:
      repository: geocomply.jfrog.io/apps-idp-gateway-docker-local/envoyproxy/gateway-dev
      tag: v0.4.1
    imagePullPolicy: Always
    resources:
      limits:
        cpu: 500m
        memory: 256Mi
      requests:
        cpu: 500m
        memory: 256Mi
  kubeRbacProxy:
    image:
      repository: gcr.io/kubebuilder/kube-rbac-proxy
      tag: v0.11.0
    resources:
      limits:
        cpu: 50m
        memory: 56Mi
      requests:
        cpu: 50m
        memory: 56Mi
  ports:
  - name: grpc
    port: 18000
    targetPort: 18000
  - name: ratelimit
    port: 18001
    targetPort: 18001
  replicas: 2
rootNamespace: envoy-gateway-system
config:
  envoyGateway:
    gateway:
      controllerName: gateway.envoyproxy.io/gatewayclass-controller
    provider:
      type: Kubernetes
    # logging:
    #   level:
    #     default: info
    # rateLimitDeployment:
    #   replicas: 3
    #   container:
    #     image: envoyproxy/ratelimit:master
    #     env:
    #       - name: REDIS_PERSECOND_URL
    #         value: replica.ubo-pro-replication.n9qlyo.use1.cache.amazonaws.com:6379
    #     resources:
    #       requests:
    #         cpu: 250m
    #         memory: 512Mi
    #     securityContext:
    #       runAsUser: 2000
    #       allowPrivilegeEscalation: false
    rateLimit:
      backend:
        type: Redis
        redis:
          url: master.ubo-pro-replication.n9qlyo.use1.cache.amazonaws.com:6379
          # tls:
          #   certificateRef:
          #     name: ratelimit-cert
          #     namespace: envoy-gateway-system
          
envoyGatewayMetricsService:
  ports:
  - name: https
    port: 8443
    protocol: TCP
    targetPort: https

createNamespace: false

kubernetesClusterDomain: cluster.local
