http:
  - name: "first-listener"
    address: "::"
    port: 10080
    hostnames:
      - "*"
    path:
      mergeSlashes: true
      escapedSlashesAction: UnescapeAndRedirect
    routes:
      - name: "first-route"
        hostname: "*"
        destination:
          name: "first-route-dest"
          settings:
            - endpoints:
                - host: "1.2.3.4"
                  port: 50000
                - host: "1.2.3.5"
                  port: 50000
              name: "first-route-dest/backend/0"
        traffic:
          backendConnection:
            preconnect:
              perEndpointPercent: 105
              predictivePercent: 205
  - name: "second-listener"
    address: "::"
    port: 10081
    hostnames:
      - "*"
    path:
      mergeSlashes: true
      escapedSlashesAction: UnescapeAndRedirect
    routes:
      - name: "second-route"
        hostname: "*"
        destination:
          name: "second-route-dest"
          settings:
            - endpoints:
                - host: "2.3.4.5"
                  port: 8080
                - host: "2.3.4.6"
                  port: 8080
                - host: "2.3.4.7"
                  port: 8080
              name: "second-route-dest/backend/0"
        traffic:
          backendConnection:
            preconnect:
              perEndpointPercent: 199
              predictivePercent: 133
tcp:
  - name: "tcp-listener"
    address: "::"
    port: 10082
    routes:
      - name: "tcp-route"
        destination:
          name: "tcp-route-dest"
          settings:
            - endpoints:
                - host: "3.4.5.6"
                  port: 9000
                - host: "3.4.5.7"
                  port: 9000
              name: "tcp-route-dest/backend/0"
        backendConnection:
          preconnect:
            perEndpointPercent: 150
            predictivePercent: 150
